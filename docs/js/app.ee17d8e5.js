(function(t){function e(e){for(var r,s,i=e[0],c=e[1],l=e[2],u=0,h=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&h.push(o[s][0]),o[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);d&&d(e);while(h.length)h.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={app:0},a=[];function s(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-265e34ea":"2510ce63"}[t]+".js"}function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n=o[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,r){n=o[t]=[e,r]}));e.push(n[2]=r);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=s(t);var l=new Error;a=function(e){c.onerror=c.onload=null,clearTimeout(u);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}o[t]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(e)},i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0529":function(t,e,n){"use strict";var r=n("e9d1"),o=n.n(r);o.a},1:function(t,e){},2:function(t,e){},"21bb":function(t,e,n){"use strict";var r=n("2dad"),o=n.n(r);o.a},"23d8":function(t,e,n){"use strict";n("4c53"),n("664f");var r=MathQuillAPI,o=r.LatexCmds,a=MathQuill,s=a.L,i=a.R;o.integral.prototype.latex=function(){function t(t){return"{"+(t||" ")+"}"}return this.ctrlSeq+"_"+t(this.ends[s].latex())+"^"+t(this.ends[i].latex())},o.superscript.prototype.latex=o.subscript.prototype.latex=function(){function t(t,e){var n=e&&e.latex();return e?t+"{"+(n||" ")+"}":""}return t("_",this.sub)+t("^",this.sup)},o.summation().__proto__.latex=function(){function t(t){return"{"+(t||" ")+"}"}return this.ctrlSeq+"_"+t(this.ends[s].latex())+"^"+t(this.ends[i].latex())}},"2dad":function(t,e,n){},"34d9":function(t,e,n){},4678:function(t,e,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(t){var e=a(t);return n(e)}function a(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=a,t.exports=o,o.id="4678"},"4cfe":function(t,e,n){},"58d3":function(t,e,n){"use strict";var r=n("f08e"),o=n.n(r);o.a},"5c0b":function(t,e,n){"use strict";var r=n("9c0c"),o=n.n(r);o.a},"84df":function(t,e,n){"use strict";n("2de2"),function(t){try{return new MouseEvent("test"),!1}catch(n){}var e=function(e,n){n=n||{bubbles:!1,cancelable:!1};var r=document.createEvent("MouseEvent");return r.initMouseEvent(e,n.bubbles,n.cancelable,t,0,n.screenX||0,n.screenY||0,n.clientX||0,n.clientY||0,n.ctrlKey||!1,n.altKey||!1,n.shiftKey||!1,n.metaKey||!1,n.button||0,n.relatedTarget||null),r};e.prototype=Event.prototype,t.MouseEvent=e}(window)},8524:function(t,e,n){"use strict";var r=n("4cfe"),o=n.n(r);o.a},"9c0c":function(t,e,n){},"9c6e":function(t,e,n){t.exports=function(){return new Worker(n.p+"49dd008d384cf2bbc3c8.worker.js")}},c08c:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("8c3e"),n("84df"),n("6e58");var r=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.firstRun?t._e():n("router-view"),n("transition",{attrs:{name:"fade"}},[null!==t.modalOptions?n("div",{ref:"modalRoot",staticClass:"modal-root"},[n("div",{ref:"modal",class:["modal"].concat(t.modalOptions.customClasses||[])},[!1!==t.modalOptions.closable?n("div",{staticClass:"modal-close",on:{click:t.closeModal}},[t._v("×")]):t._e(),t.isNode(t.modalOptions.header)?n("element-host",{attrs:{element:t.modalOptions.header}}):n("div",{staticClass:"modal-header"},[t.modalOptions.header&&"string"===typeof t.modalOptions.header?n("h1",[t._v(t._s(t.modalOptions.header))]):t.modalOptions.header&&"function"===typeof t.modalOptions.header?n(t.modalOptions.header,t._b({tag:"component"},"component",t.modalOptions.headerOptions,!1)):t._e()],1),"string"===typeof t.modalOptions.body?n("div",{staticClass:"modal-body"},[t._v(" "+t._s(t.modalOptions.body)+" ")]):n(t.modalOptions.body,t._b({tag:"component",staticClass:"modal-body"},"component",t.modalOptions.bodyOptions,!1)),"string"===typeof t.modalOptions.footer?n("div",{staticClass:"modal-footer"},[t._v(t._s(t.modalOptions.footer))]):t.modalOptions.footer&&"function"===typeof t.modalOptions.footer?n(t.modalOptions.footer,t._b({tag:"component",staticClass:"modal-footer"},"component",t.modalOptions.footerOptions,!1)):t._e()],1)]):t._e()])],1)},a=[],s=(n("4160"),n("b64b"),n("159b"),n("d4ec")),i=n("bee2"),c=n("99de"),l=n("7e84"),u=n("262e"),d=n("9ab4"),h=n("60a3"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"mount"})},p=[],m=function(t){function e(){return Object(s["a"])(this,e),Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(i["a"])(e,[{key:"mounted",value:function(){this.$refs.mount.replaceWith(this.element)}}]),e}(h["c"]);d["a"]([Object(h["b"])()],m.prototype,"element",void 0),m=d["a"]([h["a"]],m);var v=m,g=v,b=n("2877"),y=Object(b["a"])(g,f,p,!1,null,null,null),w=y.exports,k=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},x=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"onboarding-view"},[n("h2",[t._v("Welcome to OpenNote.")]),n("p",[t._v("OpenNote can:")]),n("ul",[n("li",[t._v("Solve algebraic expressions")]),n("li",[t._v("Take rich notes with intuitive keyboard shortcuts")]),n("li",[t._v("React to your dark mode preferences")]),n("li",[t._v("Easily export and import your notes")]),n("li",[n("i",[t._v("and so much more")])])]),n("h3",[t._v("Ready to play?")])])}],C=function(t){function e(){return Object(s["a"])(this,e),Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(i["a"])(e,[{key:"mounted",value:function(){this.$root.$emit("modal-patch",{customClasses:["modal-onboarding","modal-fullscreen"]})}}]),e}(h["c"]);C=d["a"]([h["a"]],C);var j=C,O=j,E=(n("0529"),Object(b["a"])(O,k,x,!1,null,null,null)),_=E.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"controls"},[n("div",{class:["control","control-"+t.confirmStyle],on:{click:t.confirm}},[t._v(" "+t._s(t.confirmText)+" ")]),t.hasCancel?n("div",{staticClass:"control control-neutral",on:{click:t.cancel}},[t._v(" "+t._s(t.cancelText)+" ")]):t._e()])},$=[],M=function(t){function e(){return Object(s["a"])(this,e),Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(h["c"]);d["a"]([Object(h["b"])()],M.prototype,"cancel",void 0),d["a"]([Object(h["b"])()],M.prototype,"confirm",void 0),d["a"]([Object(h["b"])({default:!0})],M.prototype,"hasCancel",void 0),d["a"]([Object(h["b"])({default:"Cancel"})],M.prototype,"confirmText",void 0),d["a"]([Object(h["b"])({default:"Confirm"})],M.prototype,"cancelText",void 0),d["a"]([Object(h["b"])({default:"neutral"})],M.prototype,"confirmStyle",void 0),M=d["a"]([h["a"]],M);var S,N=M,B=N,T=(n("8524"),Object(b["a"])(B,L,$,!1,null,null,null)),D=T.exports,P=(n("99af"),n("4de4"),n("a630"),n("caad"),n("a15b"),n("d81d"),n("13d5"),n("b0c0"),n("d3b7"),n("25f0"),n("8a79"),n("2532"),n("3ca3"),n("ddb0"),n("2b3d"),n("96cf"),n("1da1")),I=n("9072"),R=n("7c39"),F=n.n(R),A=n("21a6"),z=n.n(A);(function(t){var e,n,r=function(t){function e(t,n){var r;return Object(s["a"])(this,e),r=Object(c["a"])(this,Object(l["a"])(e).call(this,t)),r.options=n,r}return Object(u["a"])(e,t),e}(Object(I["a"])(Error));function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain",r=new Blob([t],{type:n}),o=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null}),a=document.createElement("a");a.download=e,a.href=window.URL.createObjectURL(r),a.dataset.downloadurl=["text/json",a.download,a.href].join(":"),a.dispatchEvent(o)}function a(){return new Promise((function(t,e){var n=document.createElement("input");n.type="file",n.accept=".onote",n.multiple=!0,n.addEventListener("change",(function(n){if(!this.files)return e(new Error("missing files property"));t(Promise.all(Array.from(this.files).map((function(t){return new Promise((function(e,n){if(!t.name.endsWith(".onote"))return n(new r("bad filename: ".concat(t.name),{title:"Unsupported File",message:"The file '".concat(t.name,"' is unsupported. Please upload .onote files only.")}));var o=new FileReader;o.readAsArrayBuffer(t),o.addEventListener("load",(function(){e(this.result)}))}))}))))})),n.click()}))}function i(){return a().then((function(t){var e=new TextDecoder("utf-8");return t.map((function(t){return e.decode(t)}))}))}function d(t){Object.assign(window,t)}function h(t,e){return Object.keys(t).filter((function(n){return e(n,t[n])})).reduce((function(e,n){return e[n]=t[n],e}),{})}function f(t,e){return p.apply(this,arguments)}function p(){return p=Object(P["a"])(regeneratorRuntime.mark((function t(e,n){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new F.a,n.forEach((function(t){var e=t.name,n=t.text;return r.file(e,n)})),t.next=4,r.generateAsync({type:"blob"});case 4:return o=t.sent,t.next=7,z.a.saveAs(o,e);case 7:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}function m(){return e||(e=Array.from(document.styleSheets).map((function(t){try{return Array.from(t.rules)}catch(e){return null}})).filter((function(t){return!!t})).map((function(t){return t.filter((function(t){return t.media})).map((function(t){return t.media})).filter((function(t){return t.mediaText.includes("prefers-color-scheme")}))})).reduce((function(t,e){return t.concat(e)}),[]),n=e.map((function(t){return t.mediaText})),e)}function v(){return e||m()}function g(){e&&n||m()}function b(){v().forEach((function(t,e){t.mediaText=n[e]}))}function y(t){b(),v().forEach((function(e){try{switch(t){case"light":e.mediaText.includes("light")&&e.deleteMedium("(prefers-color-scheme: light)"),e.mediaText.includes("dark")&&e.deleteMedium("(prefers-color-scheme: dark)");break;case"dark":e.mediaText.includes("light")&&!e.mediaText.includes("dark")&&(e.deleteMedium("(prefers-color-scheme: light)"),e.appendMedium("speechsexyt")),e.mediaText.includes("dark")&&!e.mediaText.includes("light")&&e.deleteMedium("(prefers-color-scheme: dark)");break}}catch(n){return}}))}t.DisplayableError=r,t.saveFile=o,t.getFiles=a,t.getFilesAsString=i,t.registerDevModule=d,t.filterObject=h,t.zipFilesAndDownload=f,t.mediaRules=v,t.ensureDefaults=g,t.resetPreferredColorScheme=b,t.setPreferredColorScheme=y,function(t){function e(t){var e=document.getSelection().getRangeAt(0),n=e.cloneRange();n.selectNodeContents(t),n.setEnd(e.endContainer,e.endOffset);var r=n.toString().length;return r}function n(t,e,r){if(r||(r=document.createRange(),r.selectNode(t),r.setStart(t,0)),0===e.count)r.setEnd(t,e.count);else if(t&&e.count>0)if(t.nodeType===Node.TEXT_NODE)t.textContent.length<e.count?e.count-=t.textContent.length:(r.setEnd(t,e.count),e.count=0);else for(var o=0;o<t.childNodes.length;o++)if(r=n(t.childNodes[o],e,r),0===e.count)break;return r}function r(t,e){if(t>=0){var r=window.getSelection(),o=n(e,{count:t});o&&(o.collapse(!1),r.removeAllRanges(),r.addRange(o))}}t.getCaretPosition=e,t.setCurrentCursorPosition=r}(t.Dom||(t.Dom={})),function(t){var e=["sin","cos","tan","sec","cot","csc"],n=["asin","acos","atan","atan2","acot","acsc","asec"];function r(t,e,n,r){return e.reduce((function(e,n){var o=t[n],a=r(o);return e[n]=t.typed(n,{number:a,"Array | Matrix":function(e){return t.map(e,a)}}),e}),{})}function o(t,n){return r(t,e,n,(function(t){return function(e){switch(n()){case"deg":return t(e/360*2*Math.PI);case"grad":return t(e/400*2*Math.PI);default:return t(e)}}}))}function a(t,e){return r(t,n,e,(function(t){return function(n){var r=t(n);if("number"===typeof r)switch(e()){case"deg":return r/2/Math.PI*360;case"grad":return r/2/Math.PI*400;default:return r}return r}}))}function s(t,e){var n=Object.assign({},o(t,e),a(t,e));return t.import(n,{override:!0}),t}t.loadPatchedMathFunctions=s}(t.MathKit||(t.MathKit={}))})(S||(S={}));var V=S;function G(t,e,n){Object.keys(n).forEach((function(r){return h["c"].set(t[e],r,n[r])}))}var q=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.tooltip=null,t.modalOptions=null,t.onclick=function(e){return t.clickListener(e)},t}return Object(u["a"])(e,t),Object(i["a"])(e,[{key:"mounted",value:function(){var t=this;this.$on("modal-show",(function(e){return t.showModal(e)})),this.$on("modal-close",(function(){return t.closeModal()})),this.$on("modal-patch",(function(e){return G(t,"modalOptions",e)})),this.$root.$on("modal-show",(function(e){return t.$emit("modal-show",e)})),this.$root.$on("modal-close",(function(){return t.$emit("modal-close")})),this.$root.$on("modal-patch",(function(e){return t.$emit("modal-patch",e)})),document.addEventListener("click",this.onclick),this.$store.watch((function(t,e){return e.preferredColorScheme}),(function(t,e){switch(V.ensureDefaults(),t){case"light":case"dark":V.setPreferredColorScheme(t);break;default:V.resetPreferredColorScheme()}})),V.setPreferredColorScheme(this.$store.state.preferences.preferredColorScheme),this.$store.state.preferences.sawFirstRun||this.$root.$emit("modal-show",{header:"Hello",body:_,footer:D,footerOptions:{confirmText:"Launch OpenNote",confirmStyle:"primary",confirm:function(){t.$store.commit("setPreference",{name:"sawFirstRun",value:!0}),t.$root.$emit("modal-close")},hasCancel:!1},closable:!1})}},{key:"isNode",value:function(t){return t&&t.nodeType===Node.ELEMENT_NODE}},{key:"destroyed",value:function(){document.removeEventListener("click",this.onclick)}},{key:"modalReady",value:function(){return!!this.$refs.modalRoot&&!this.$refs.modalRoot.classList.contains("fade-enter-active")}},{key:"clickListener",value:function(t){var e=this.$refs.modal&&(this.$refs.modal===t.target||this.$refs.modal.contains(t.target));!e&&this.modalReady()&&this.closeModal()}},{key:"showModal",value:function(t){console.debug("showing modal with options",{options:t}),this.modalOptions=t}},{key:"closeModal",value:function(){this.modalOptions&&(console.debug("closing modal with options",{options:this.modalOptions}),this.modalOptions=null)}},{key:"firstRun",get:function(){return!this.$store.state.preferences.sawFirstRun}}]),e}(h["c"]);q=d["a"]([Object(h["a"])({components:{ElementHost:w}})],q);var W=q,H=W,U=(n("5c0b"),Object(b["a"])(H,o,a,!1,null,null,null)),Q=U.exports,J=n("9483");Object(J["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var K=n("8c4f"),X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{home:!0,"nav-collapse":t.navCollapse}},[n("div",{staticClass:"navigator"},[n("div",{staticClass:"title"},[n("span",{staticClass:"note-controls-left"},[n("span",{staticClass:"control",attrs:{"data-tooltip":"Toggle Menu","data-placement":"right"},on:{mouseenter:t.mouseenter,mouseleave:t.mouseleave,click:function(e){t.navCollapse=!t.navCollapse}}},[t._v(" ☰ ")]),n("span",{staticClass:"control",attrs:{"data-tooltip":"Sort "+(t.sortListAscending?"Descending":"Ascending"),"data-placement":"right"},domProps:{innerHTML:t._s(t.sortListAscending?"&#8595;":"&#8593;")},on:{mouseenter:t.mouseenter,mouseleave:t.mouseleave,click:function(e){t.sortListAscending=!t.sortListAscending}}})]),n("span",{staticClass:"note-title"},[t._v("Notes")]),n("span",{staticClass:"note-controls"},[n("span",{staticClass:"control control-success",attrs:{"data-tooltip":"Import Note"},on:{mouseenter:t.mouseenter,mouseleave:t.mouseleave,click:t.importNote}},[n("UploadSVG",{attrs:{width:"12px"}})],1),n("span",{staticClass:"control control-primary",attrs:{"data-tooltip":"New Note"},on:{mouseenter:t.mouseenter,mouseleave:t.mouseleave,click:t.newNote}},[n("svg",{staticClass:"icon icon--plus",attrs:{width:"14px",height:"14px"}},[n("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#plus"}})])])])]),n("transition-group",{staticClass:"navigator-contents",attrs:{name:"list",mode:"out-in",tag:"div"}},t._l(t.list,(function(e,r){var o=e.id,a=e.name,s=e.timestamp;return n("div",{key:o,class:{"navigator-item":!0,active:o===t.currentNote},style:{display:a?"flex":"none"},on:{contextmenu:function(e){return e.preventDefault(),t.triggerContext(e,r)},click:function(e){return t.selectNote(o)}}},[n("span",{ref:"edit"+o,refInFor:!0,staticClass:"item-title",attrs:{contenteditable:"true","data-id":o},on:{input:t.setTitle}},[t._v(t._s(a))]),n("span",{staticClass:"item-timestamp"},[t._v(t._s(s))])])})),0),n("div",{staticClass:"title"},[n("span",{staticClass:"note-controls-left"},[n("span",{class:["labels-control labels-control-btn labels-control-btn-danger",t.canDelete?"":"labels-control-btn-disabled"],on:{click:function(e){return t.delNote(t.currentNote)}}},[n("span",{staticClass:"label-text"},[t._v("Delete")]),n("TrashSVG",{staticClass:"alt-icon"})],1),n("span",{staticClass:"labels-control labels-control-btn",attrs:{"data-tooltip":"Settings","data-placement":"top"},on:{mouseenter:t.mouseenter,mouseleave:t.mouseleave,click:function(e){return t.showSettings()}}},[n("SettingsSVG")],1)]),n("span",{staticClass:"note-title muted-title-version"},[t._v(t._s(t.version))]),n("span",{staticClass:"note-controls-right"},[n("span",{class:["labels-control labels-control-btn"]},[n("span",{staticClass:"label-text no-kill",on:{click:t.exportNotes}},[t._v("Export All")])])])])],1),n("editor",{attrs:{"show-burger":t.navCollapse,exporter:t.download,canDelete:t.canDelete,deleter:t.delNote},on:{burgerClick:function(e){t.navCollapse=!t.navCollapse}}}),t._l(t.list,(function(e,r){return n("vue-context",{key:r,ref:"contextMenu"+r,refInFor:!0},[n("li",{on:{click:function(n){return t.download(e.id)}}},[t._v("Export")]),n("li",{class:["ctx-danger",t.canDelete?"":"ctx-danger-disabled"],on:{click:function(n){return t.delNote(e.id)}}},[t._v("Delete")])])}))],2)},Y=[],Z=(n("c740"),n("ac1f"),n("1276"),n("5530")),tt=n("c1df"),et=n.n(tt),nt={functional:!0,render(t,e){const{_c:n,_v:r,data:o,children:a=[]}=e,{class:s,staticClass:i,style:c,staticStyle:l,attrs:u={},...d}=o;return n("svg",{class:[s,i],style:[{"enable-background":"new 0 0 40.9 49.6"},c,l],attrs:Object.assign({version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 40.9 49.6",style:"enable-background:new 0 0 40.9 49.6;","xml:space":"preserve"},u),...d},a.concat([n("g",{attrs:{id:"XMLID_5_"}},[n("path",{staticClass:"st0",attrs:{id:"XMLID_9_",d:"M11.7,37.9h17.5V20.4h11.7L20.4,0L0,20.4h11.7V37.9z M0,43.8h40.8v5.8H0V43.8z"}})])]))}},rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor-view"},[t.note?n("div",{staticClass:"editor-meta-view"},[n("span",{staticClass:"controls-left"},[t.showBurger?n("span",{staticClass:"editor-burger",on:{click:function(e){return t.$emit("burgerClick")}}},[t._v(" ☰ ")]):t._e(),n("span",{staticClass:"labels-control labels-control-btn",on:{click:function(e){return t.exporter(t.noteID)}}},[n("span",{staticClass:"label-text"},[t._v("Export")]),n("UploadSVG",{staticClass:"alt-icon icon-invert"})],1)]),n("span",{staticClass:"note-name"},[t._v(" "+t._s(t.name)+" ")]),n("span",{staticClass:"controls-right"},[n("span",{class:{"labels-control":!0,"hiding-labels":!t.showRibbon},on:{click:function(e){t.showRibbon=!t.showRibbon}}},[n("span",{staticClass:"label-text no-kill"},[t._v("Toolbar")])]),n("span",{class:{"labels-control":!0,"hiding-labels":!t.showLabels},on:{click:function(e){t.showLabels=!t.showLabels}}},[n("span",{staticClass:"label-text no-kill"},[t._v("Labels")])])])]):t._e(),t.showRibbon?n("div",{staticClass:"editor-ribbon-container"},[n("div",{staticClass:"editor-ribbon"},[t._l(t.topLevelToolboxData,(function(e,r){return[n("span",{key:r,class:{"ribbon-item":!0,active:r===t.active},attrs:{"data-tooltip":t.showLabels?"":e.title},on:{mouseenter:t.mouseenter,mouseleave:t.mouseleave,click:function(e){return t.switchTool(r)}}},[t.showLabels?n("span",{staticClass:"ribbon-text"},[t._v(t._s(e.title))]):t._e(),n("span",{staticClass:"ribbon-icon",domProps:{innerHTML:t._s(e.icon)}})]),r in t.toolDrawers?n("span",{key:r+"-drawer",class:["tools-drawer-slider",t.openDrawers.includes(r)?"":"drawer-closed"]},[n("span",{staticClass:"drawer-toggle",attrs:{"data-tooltip":(t.openDrawers.includes(r)?"Close":"Open")+" "+e.title+" Drawer"},on:{mouseenter:t.mouseenter,mouseleave:t.mouseleave,click:function(e){return t.toggleDrawer(r)}}}),t._l(t.toolDrawers[r],(function(e){return n("span",{key:e,class:{"ribbon-item":!0,active:e===t.active},attrs:{"data-tooltip":t.showLabels?"":t.toolboxData[e].title},on:{mouseenter:t.mouseenter,mouseleave:t.mouseleave,click:function(n){return t.switchTool(e)}}},[t.showLabels?n("span",{staticClass:"ribbon-text"},[t._v(t._s(t.toolboxData[e].title))]):t._e(),n("span",{staticClass:"ribbon-icon",domProps:{innerHTML:t._s(t.toolboxData[e].icon)}})])}))],2):t._e()]}))],2)]):t._e(),n("div",{ref:"mountPoint",staticClass:"editor-container"})])},ot=[],at=(n("7db0"),n("c975"),n("a434"),n("07ac"),n("ade3")),st=n("9336"),it=n.n(st);function ct(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=function(){function e(t){Object(s["a"])(this,e),this.config=t,this.pendingPasteEvent=null}return Object(i["a"])(e,[{key:"save",value:function(t){return{}}},{key:"render",value:function(){var e=this;return this.component=new t({parent:this.Editor.editor.VueEditor,propsData:{savedData:this.config.data||{},api:this.config.api}}),this.component.$mount(),this.component.$on("insert",(function(){e.Editor.moduleInstances.Caret.setToBlock(e.Editor.moduleInstances.BlockManager.insert()),e.showToolbar(),e.Editor.moduleInstances.Toolbar.plusButton.show()})),this.component.$on("showToolbar",(function(){e.showToolbar()})),this.component.$on("hidePlusButton",(function(){e.Editor.moduleInstances.Toolbar.plusButton.hide()})),this.component.$on("showPlusButton",(function(){e.Editor.moduleInstances.Toolbar.plusButton.show()})),this.component.$on("navigateNext",(function(){e.Editor.moduleInstances.Caret.navigateNext(!0)})),this.component.$on("navigatePrevious",(function(){e.Editor.moduleInstances.Caret.navigatePrevious(!0)})),this.component.$on("get:components",(function(t){t(e.Editor.moduleInstances.BlockManager.blocks.filter((function(t){return t.name===e.block.name})).map((function(t){return t.tool.component})))})),this.component.$on("downOutOf",(function(){if(e.blockIndex!==e.Editor.moduleInstances.BlockManager.blocks.length-1){e.Editor.moduleInstances.Caret.navigateNext(!0);var t=e.Editor.moduleInstances.BlockManager,n=t.currentBlock,r=t.currentBlockIndex,o=t.blocks;r===o.length-1&&n.isEmpty&&e.Editor.moduleInstances.Events.once("caretChanged",(function(){e.Editor.moduleInstances.Toolbar.plusButton.show()}))}})),this.component.$on("upOutOf",(function(){0!==e.blockIndex&&e.Editor.moduleInstances.Caret.navigatePrevious(!0)})),this.component.$on("setIgnoreBackspace",(function(t){return e.ignoreBackspace=t})),this.component.$on("setIsEmpty",(function(t){return e.isEmpty=t})),this.component.$on("setIsAtStart",(function(t){return e.isAtStart=t})),this.component.$on("setIsAtEnd",(function(t){return e.isAtEnd=t})),this.component.$on("setSave",(function(t){return e.save=t})),this.component.$on("setSanitizer",(function(t){return e.sanitize=t})),this.component.$on("setRenderSettings",(function(t){return e.renderSettings=t})),this.component.$emit("preload"),this.component.$once("ready",(function(){e.pendingPasteEvent&&(e.component.$emit("parsePaste",e.pendingPasteEvent),e.pendingPasteEvent=null)})),this.root=document.createElement("div")}},{key:"moved",value:function(){this.component.$emit("moved")}},{key:"removed",value:function(){this.component.$destroy()}},{key:"rendered",value:function(){this.root.replaceWith(this.component.$el)}},{key:"onPaste",value:function(t){if(!this.component)return this.pendingPasteEvent=t;this.component.$emit("parsePaste",t)}},{key:"showToolbar",value:function(){this.Editor.moduleInstances.Toolbar.open(),this.Editor.moduleInstances.BlockManager.highlightCurrentNode()}},{key:"send",value:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return new Promise((function(n,o){var a;(a=e.component).$emit.apply(a,[t].concat(r,[n]))}))}},{key:"keyOverrides",get:function(){return["up","down","left","right"]}},{key:"customEnter",get:function(){return!0}},{key:"blockIndex",get:function(){return this.Editor.moduleInstances.BlockManager.blocks.indexOf(this.block)}}]),e}(),n.toolbox=e,n.pasteConfig=r,n}var lt,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"resize",rawName:"v-resize",value:t.handleResize,expression:"handleResize"}],class:{"codex-mq-root":!0,"codex-mq-focused":t.isFocused,"codex-mq-popout":t.bigPopout}},[n("div",{staticClass:"mq-calc-root"},[n("div",{ref:"mqMount",class:{"mq-editable-field":!0,"mq-math-mode":!0},on:{focusin:t.focused,focusout:t.unfocused}}),n("span",{directives:[{name:"show",rawName:"v-show",value:null!==t.result,expression:"result !== null"}],ref:"mqResult",staticClass:"mq-result-view"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:null!==t.error,expression:"error !== null"}],staticClass:"mq-result-bar text-right mq-result-error"},[t._v(t._s(t.error))]),[n("div",{directives:[{name:"show",rawName:"v-show",value:null!==t.result&&null===t.resultFn,expression:"result !== null && resultFn === null"}],class:{"mq-result-bar":!0}},["dec"===t.renderFormat?n("FractionSVG",{on:{click:function(e){return t.toggleRenderFormat()}}}):n("DecimalSVG",{on:{click:function(e){return t.toggleRenderFormat()}}})],1),null!==t.resultFn?n("div",{class:{"mq-result-bar":!0}},[n("GraphSVG",{on:{click:function(e){return t.toggleGraph()}}}),t.showGraph&&!t.graphFailed?n("div",{staticClass:"graph-controls"},[n("span",{staticClass:"graph-control-range",staticStyle:{"--variable":"'x'"}},[n("span",{staticClass:"graph-control-input",attrs:{contenteditable:"true","data-placeholder":+t.defaultXBounds[0].toFixed(3)},on:{input:function(e){return t.domainOverrideChanged("x",0,e)}}},[t._v(t._s(t.xDomain[0]||""))]),n("span",{staticClass:"graph-control-input",attrs:{contenteditable:"true","data-placeholder":+t.defaultXBounds[1].toFixed(3)},on:{input:function(e){return t.domainOverrideChanged("x",1,e)}}},[t._v(t._s(t.xDomain[1]||""))])]),n("span",{staticClass:"graph-control-range",staticStyle:{"--variable":"'y'"}},[n("span",{staticClass:"graph-control-input",attrs:{contenteditable:"true","data-placeholder":+t.yBoundsWithOverrides[0].toFixed(3)},on:{input:function(e){return t.domainOverrideChanged("y",0,e)}}},[t._v(t._s(t.yDomain[0]||""))]),n("span",{staticClass:"graph-control-input",attrs:{contenteditable:"true","data-placeholder":+t.yBoundsWithOverrides[1].toFixed(3)},on:{input:function(e){return t.domainOverrideChanged("y",1,e)}}},[t._v(t._s(t.yDomain[1]||""))])]),n("span",{staticClass:"graph-control-number",staticStyle:{"--variable":"'step'"}},[n("span",{staticClass:"graph-control-input",attrs:{contenteditable:"true","data-placeholder":t.defaultStep},on:{input:t.stepOverrideChanged}},[t._v(t._s(t.step||""))])])]):t._e()],1):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showGraph,expression:"showGraph"}],ref:"graph",staticClass:"graph-container"})],n("mq-paste-data",{attrs:{renderFormat:t.renderFormat,showGraph:t.showGraph,latex:t.latex}})],2)},dt=[],ht=(n("a4d3"),n("e01a"),n("d28b"),n("45fc"),n("4ec9"),n("b680"),n("5377"),n("5319"),n("498a"),n("2909")),ft=n("3835"),pt=n("6bba"),mt=(n("af32"),n("23d8"),{functional:!0,render(t,e){const{_c:n,_v:r,data:o,children:a=[]}=e,{class:s,staticClass:i,style:c,staticStyle:l,attrs:u={},...d}=o;return n("svg",{class:[s,i],style:[{"enable-background":"new 0 0 464.6 264"},c,l],attrs:Object.assign({version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 464.6 264",style:"enable-background:new 0 0 464.6 264;","xml:space":"preserve"},u),...d},a.concat([n("title",[r("decimal")]),n("polygon",{attrs:{points:"0.5,63.1 153.5,134.2 0.5,205.2 "}}),n("g",{staticClass:"st0"},[n("path",{attrs:{d:"M239.4,114.1v-4.3c11.1,0,16.6-3.1,16.6-9.2V39c0-3.9-1.8-5.9-5.3-5.9h-11.9v-4.3c3.5-0.6,6.5-1.2,8.8-1.6\n\t\tc2.3-0.6,4.7-1.2,6.5-2c2-0.8,3.7-1.8,5.5-2.9s3.7-2.7,6.1-4.7l3.7,1c-0.4,2-0.6,3.5-0.8,5.1c-0.2,1.4-0.2,2.9-0.2,4.1v72.8\n\t\tc0,6.1,5.5,9.2,16.6,9.2v4.3H239.4z"}})]),n("g",{staticClass:"st0"},[n("path",{attrs:{d:"M241.7,250c-2,0-3.7,0-5.5,0.2c-1.8,0-3.3,0.2-4.7,0.4l-0.6-3.7c6.3-6.3,12.1-12.1,17.4-18c5.3-5.9,9.8-11.5,13.7-17\n\t\tc3.9-5.5,6.8-11,9.2-16.2c2.2-5.3,3.3-10.6,3.3-15.8c0-5.7-1.6-9.8-4.7-12.5c-3.1-2.7-7.4-4.1-13.3-4.1c-5.3,0-9.4,1-12.1,2.9\n\t\ts-4.1,4.7-4.1,8c3.3,1,4.9,2.7,4.9,5.3c0,4.7-2,6.8-6.1,6.8c-3.9,0-5.9-3.1-5.9-9.2c0-7,2.3-12.3,7-16c4.7-3.7,11.7-5.5,21.3-5.5\n\t\tc16.8,0,25.4,7.8,25.4,23.5c0,5.3-0.8,10.4-2.5,15.3c-1.8,4.7-4.3,9.6-7.8,14.3c-3.5,4.7-8,9.6-13.3,14.7\n\t\tc-5.5,4.9-11.7,10.4-19.2,16h25c2.5,0,4.7-0.2,6.5-0.4c1.8-0.2,3.3-0.8,4.7-1.8c1.4-0.8,2.3-2,3.3-3.5c1-1.6,2-3.5,2.7-6.1l3.7,0.6\n\t\tl-5.3,22.5h-43.2V250z"}})]),n("rect",{attrs:{x:"193",y:"133.7",width:"133",height:"4.3"}})]))}}),vt={functional:!0,render(t,e){const{_c:n,_v:r,data:o,children:a=[]}=e,{class:s,staticClass:i,style:c,staticStyle:l,attrs:u={},...d}=o;return n("svg",{class:[s,i],style:[{"enable-background":"new 0 0 464.6 264"},c,l],attrs:Object.assign({version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 464.6 264",style:"enable-background:new 0 0 464.6 264;","xml:space":"preserve"},u),...d},a.concat([n("title",[r("decimal")]),n("polygon",{attrs:{points:"0.5,63.1 153.5,134.2 0.5,205.2 "}}),n("path",{attrs:{d:"M298,183.6c-3.4,0.7-6.8,1.2-10.3,1.5c-4.7,0.5-10.7,1.2-17.9,2.3l-2.2-13c-2.4,4.4-6,8-10.4,10.5c-4.8,2.7-10.1,4-15.6,3.9\n\tc-4.8,0-9.6-0.8-14.1-2.5c-4.4-1.6-8.4-4.2-11.7-7.6c-3.5-3.7-6.3-8.2-8-13c-2.1-6-3.1-12.3-3-18.7c0-6.4,1-12.7,3.2-18.7\n\tc2-5.5,4.9-10.6,8.8-15c3.7-4.2,8.2-7.5,13.3-9.9c5.2-2.4,10.9-3.7,16.7-3.6c4.3-0.1,8.6,0.9,12.5,2.9c3.1,1.6,5.9,3.7,8.3,6.3V65.6\n\tc0-4.5-5.1-6.8-15.4-6.8v-6.2l32-5.2c0.3,4.9,0.5,10.7,0.6,17.2S285,78,285,85.4v75.4c0,11.2,4.6,17.1,13.8,17.6L298,183.6z\n\t M247.6,178.8c4.4,0,7.9-0.8,10.6-2.4c2.7-1.7,4.9-4.2,6.2-7.1c1.6-3.6,2.6-7.5,3-11.4c0.6-5.1,0.8-10.2,0.8-15.3\n\tc0-23.3-7.6-35-22.8-35c-3.6-0.1-7.1,0.9-10.1,2.9c-2.9,2-5.3,4.6-7.1,7.6c-1.9,3.3-3.3,6.8-4.2,10.5c-0.9,3.8-1.4,7.7-1.4,11.6\n\tc0,4.6,0.4,9.3,1.3,13.8c0.8,4.3,2.2,8.5,4.2,12.4c1.8,3.6,4.4,6.7,7.7,9C239.3,177.7,243.4,178.9,247.6,178.8L247.6,178.8z"}}),n("path",{attrs:{d:"M380.4,165.4c-3,6.9-7.9,12.9-14,17.4c-6.1,4.2-13.4,6.4-20.8,6.2c-6,0.1-12-1-17.6-3.4c-4.9-2.1-9.2-5.2-12.7-9.2\n\tc-3.5-4-6.1-8.7-7.7-13.8c-1.8-5.5-2.6-11.2-2.6-17c0-5.8,0.9-11.7,2.8-17.2c1.8-5.3,4.4-10.2,7.9-14.6c3.3-4.2,7.5-7.7,12.3-10.2\n\tc4.9-2.6,10.4-3.9,16-3.8c3.8,0,7.6,0.5,11.3,1.3c4,0.9,7.8,2.6,11.1,5.1c3.8,2.9,6.9,6.6,9,10.9c2.5,4.7,4.2,11,5,18.7\n\tc0,1.5-0.2,3-0.6,4.4h-53.2c-2.5,0-3.8,1-3.8,3c0,4.6,0.6,9.2,2,13.6c1.2,4,3.1,7.8,5.6,11.2c2.3,3.1,5.3,5.7,8.8,7.5\n\tc3.6,1.8,7.6,2.8,11.6,2.7c5.2,0.1,10.4-1.6,14.5-4.8c4.1-3.2,7.7-7,10.7-11.2L380.4,165.4z M353.2,134.2c5.5,0,8.2-2.8,8.2-8.4\n\tc-0.3-4.8-2.1-9.5-5.1-13.3c-3-3.8-7.4-5.7-13.1-5.7c-2.9,0-5.8,0.7-8.4,2.1c-2.5,1.4-4.7,3.3-6.5,5.6c-1.8,2.4-3.2,5.1-4.1,8\n\tc-0.9,3-1.4,6.1-1.4,9.3c0,1.6,1.5,2.4,4.4,2.4L353.2,134.2z"}}),n("path",{attrs:{d:"M464.6,168.4c-1.3,3.5-3.2,6.6-5.8,9.3c-2.5,2.6-5.3,4.7-8.5,6.4c-3.1,1.7-6.5,2.9-9.9,3.7c-3.3,0.8-6.6,1.2-10,1.2\n\tc-5.4,0.1-10.8-1-15.8-3.3c-4.6-2.1-8.6-5.2-11.8-9.1c-3.3-4-5.8-8.6-7.3-13.6c-1.7-5.4-2.5-11.1-2.5-16.8c0-6,0.9-12,2.7-17.8\n\tc1.7-5.4,4.5-10.5,8.2-14.8c3.8-4.4,8.5-7.8,13.8-10.1c6.2-2.6,12.8-3.8,19.5-3.7c3.2,0,6.4,0.5,9.5,1.4c3,0.9,5.8,2.2,8.4,3.9\n\tc2.4,1.6,4.4,3.7,5.9,6.1c1.5,2.3,2.2,5,2.2,7.8c0,2.7-1.3,5.2-3.4,6.9c-2,1.8-4.7,2.9-7.4,2.9c-5.5,0-8.2-3-8.2-9.1\n\tc0.1-0.9,0.2-1.8,0.3-2.6c0.2-1.2,0.3-2.4,0.3-3.6c0.1-2.5-1.4-4.9-3.7-5.8c-2.4-1.2-5-1.8-7.7-1.8c-3.6-0.1-7,1-9.9,3.1\n\tc-2.8,2.2-5.1,4.9-6.8,8c-1.9,3.4-3.2,7.1-4,10.9c-0.8,3.8-1.3,7.7-1.3,11.6c0,5,0.5,10.1,1.6,15c0.9,4.2,2.6,8.3,4.8,12\n\tc4.2,7.1,12,11.3,20.2,11c8.9,0,16.1-4,21.4-12L464.6,168.4z"}})]))}},gt={functional:!0,render(t,e){const{_c:n,_v:r,data:o,children:a=[]}=e,{class:s,staticClass:i,style:c,staticStyle:l,attrs:u={},...d}=o;return n("svg",{class:[s,i],style:[{"enable-background":"new 0 0 30.973 30.973"},c,l],attrs:Object.assign({version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"30.973px",height:"30.973px",viewBox:"0 0 30.973 30.973",style:"enable-background:new 0 0 30.973 30.973;","xml:space":"preserve"},u),...d},a.concat([n("g",[n("g",[n("rect",{attrs:{y:"2.961",width:"2",height:"2.034"}}),n("rect",{attrs:{y:"7.162",width:"2",height:"2.033"}}),n("rect",{attrs:{y:"11.359",width:"2",height:"2.034"}}),n("rect",{attrs:{y:"15.561",width:"2",height:"2.033"}}),n("rect",{attrs:{y:"19.76",width:"2",height:"2.035"}}),n("polygon",{attrs:{points:"6.383,24.531 6.383,0.104 3.332,0.104 3.332,27.582 30.973,27.582 30.973,24.531 \t\t"}}),n("rect",{attrs:{x:"26.08",y:"28.861",width:"2.034",height:"2.008"}}),n("rect",{attrs:{x:"21.881",y:"28.861",width:"2.033",height:"2.008"}}),n("rect",{attrs:{x:"17.682",y:"28.861",width:"2.033",height:"2.008"}}),n("rect",{attrs:{x:"13.481",y:"28.861",width:"2.034",height:"2.008"}}),n("rect",{attrs:{x:"9.282",y:"28.861",width:"2.034",height:"2.008"}}),n("polygon",{attrs:{points:"12.837,16.688 18.154,19.235 21.227,13.286 25.938,15.495 30.477,7.363 28.701,6.373 25.086,12.85 20.319,10.614 \r\n\t\t\t17.254,16.549 12.031,14.045 7.123,22.398 8.877,23.43 \t\t"}})])]),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g")]))}},bt={functional:!0,render(t,e){const{_c:n,_v:r,data:o,children:a=[]}=e,{class:s,staticClass:i,style:c,staticStyle:l,attrs:u={},...d}=o;return n("svg",{class:[s,i],style:[{"enable-background":"new 0 0 512 512"},c,l],attrs:Object.assign({version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:"enable-background:new 0 0 512 512;","xml:space":"preserve"},u),...d},a.concat([n("g",[n("g",[n("path",{attrs:{d:"M236.454,172.808L132.421,68.789l43.184-43.184C185.014,16.197,178.365,0,165,0H15C6.709,0,0,6.709,0,15v150\r\n\t\t\tc0,13.241,16.066,20.112,25.606,10.606l43.198-43.169l104.004,104.018c5.856,5.856,15.351,5.859,21.209,0.001l42.437-42.437\r\n\t\t\tC242.286,188.187,242.334,178.688,236.454,172.808z"}})])]),n("g",[n("g",[n("path",{attrs:{d:"M497,0H347c-13.361,0-20.018,16.193-10.606,25.605l43.184,43.184L275.544,172.792c-5.844,5.844-5.868,15.358,0,21.226\r\n\t\t\tl42.437,42.437c5.86,5.86,15.352,5.859,21.211,0l104.019-104.034l43.184,43.184C495.93,185.141,512,178.23,512,165V15\r\n\t\t\tC512,6.709,505.291,0,497,0z"}})])]),n("g",[n("g",[n("path",{attrs:{d:"M486.396,336.393l-43.184,43.184L339.193,275.544c-5.856-5.856-15.349-5.862-21.211,0l-42.437,42.437\r\n\t\t\tc-5.868,5.868-5.844,15.382,0,21.226l104.034,104.004l-43.184,43.184C326.986,495.803,333.635,512,347,512h150\r\n\t\t\tc8.291,0,15-6.709,15-15V347C512,333.639,495.807,326.982,486.396,336.393z"}})])]),n("g",[n("g",[n("path",{attrs:{d:"M236.456,317.983l-42.437-42.437c-5.625-5.625-15.586-5.625-21.211,0L68.789,379.579l-43.184-43.184\r\n\t\t\tC16.283,327.04,0,333.563,0,347v150c0,8.291,6.709,15,15,15h150c13.361,0,20.018-16.193,10.606-25.605l-43.184-43.184\r\n\t\t\tl104.034-104.017C242.336,333.314,242.289,323.816,236.456,317.983z"}})])]),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g")]))}},yt=n("69c0");function wt(t,e){var n=Object.keys(t);Object.keys(e).filter((function(t){return!n.includes(t)})).forEach((function(n){t[n]=e[n]}))}try{var kt={get passive(){return!0,!1}};window.addEventListener("test",null,kt),window.removeEventListener("test",null)}catch(Ue){!1}var xt=n("15f6"),Ct="mq-paste-data";function jt(t){return Object.values(t).filter((function(t){return"function"===typeof t})).reduce((function(t,e){return t[e.syntax]=e.original.substring(e.syntax.length+1),t}),{})}function Ot(t){return Object.keys(t).filter((function(e){return"number"===typeof t[e]})).reduce((function(e,n){return e[n]=t[n],e}),{})}function Et(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)}))}h["c"].config.ignoredElements.push(Ct);var _t={};function Lt(t){var e=t.data,n=e.nonce,r=e.result,o=e.flags,a=_t[n];a?a({result:r,flags:o}):console.debug("unknown nonce from worker response",{event:t,data:t.data,nonce:n,result:r,pending:_t})}function $t(t,e){var n=window.AlgebraWorker;return null===n.onmessage&&(n.onmessage=Lt),new Promise((function(r,o){var a=jt(e),s=Ot(e),i=Et();_t[i]=r,n.postMessage({evaluate:t,functions:a,variables:s,nonce:i})}))}var Mt=lt=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.renderFormat="dec",t.isFocused=!1,t.latex=null,t.lastScope={},t.resultFn=null,t.result=null,t.showGraph=!1,t.chart=null,t.error=null,t.graphFailed=!1,t.trigState=null,t.settingsButtons=[],t.bigPopout=!1,t.flaggedForDeletion={},t.oldWidth=null,t.mathCache=new Map,t.xDomain=[NaN,NaN],t.yDomain=[NaN,NaN],t.step=NaN,t.calcCache=new Map,t}return Object(u["a"])(e,t),Object(i["a"])(e,[{key:"handleResize",value:function(t){null!==this.oldWidth&&t.width===this.oldWidth||(this.oldWidth=t.width,console.log(t.height),this.showGraph&&this.updateGraph())}},{key:"created",value:function(){var t=this,e=this.mathJS=yt.create(yt.all,{});e.import(n("31d4"),{}),V.MathKit.loadPatchedMathFunctions(e,(function(){return t.trigStateWithOverrides}))}},{key:"mounted",value:function(){var t=this,e=!1;lt.registerWithGarbageMan(this),this.mathField=new MathQuill.MathField(this.$refs.mqMount,{handlers:{edit:function(n){t.latex=n.latex(),e&&t.updateQuills()},upOutOf:function(){return t.$emit("upOutOf")},downOutOf:function(){return t.$emit("downOutOf")},moveOutOf:function(e,n){"1"==e?t.$emit("navigateNext"):t.$emit("navigatePrevious")},enter:function(e){t.$emit("insert")}},autoCommands:"int pi sqrt sum"}),this.resultView=new MathQuill.StaticMath(this.$refs.mqResult),Object.keys(this.savedData).forEach((function(e){h["c"].set(t,e,t.savedData[e])})),this.mathField.write(this.latex||""),this.$on("preload",(function(){t.$emit("setIgnoreBackspace",(function(){return(t.latex||"").length>0})),t.$emit("setIsEmpty",(function(){return 0===(t.latex||"").length})),t.$emit("setIsAtStart",(function(){return t.mqRootBlock.firstElementChild&&t.mqRootBlock.firstElementChild.classList.contains("mq-cursor")})),t.$emit("setIsAtEnd",(function(){return t.mqRootBlock.lastElementChild&&t.mqRootBlock.lastElementChild.classList.contains("mq-cursor")})),t.$emit("setSave",(function(){return{latex:t.latex,renderFormat:t.renderFormat,showGraph:t.showGraph,xDomain:t.xDomain,yDomain:t.yDomain,step:t.step,trigState:t.trigState}})),t.$emit("setPasteConfig",{tags:[Ct]}),t.$emit("setRenderSettings",(function(){var e=document.createElement("div");return["deg","rad","grad"].forEach((function(n){var r=document.createElement("span");r.classList.add(t.api.styles.settingsButton),r.classList.add("mq-trig-mode-control"),t.trigStateWithOverrides===n&&r.classList.add(t.api.styles.settingsButtonActive),r.innerText=n.toUpperCase(),r.dataset.mode=n,r.addEventListener("click",(function(){console.log("clakc"),t.trigState=n})),e.appendChild(r),t.settingsButtons.push(r)})),e})),t.$emit("ready")})),this.$on("updateQuills",(function(e){return t.updateQuills().then(e)})),this.$on("moved",(function(){return t.updateQuills()})),this.$on("reflow",(function(){return t.reflow()})),this.$on("parsePaste",(function(e){var n=e.detail.data,r=n.getAttribute("renderFormat"),o=n.getAttribute("latex"),a=n.getAttribute("showGraph");t.mathField.write(o||""),t.updateQuills().then((function(){t.renderFormat=r||t.renderFormat,t.showGraph=Boolean(a)}))})),this.$watch("renderFormat",(function(){t.result&&t.updateResultView(t.result)})),this.$watch("result",(function(e){t.updateResultView(e)})),this.$watch("resultFn",(function(e){if(!e)return t.removeGraph();t.showGraph&&t.updateGraph()})),this.$watch("showGraph",(function(e){e?t.updateGraph():t.removeGraph()})),this.$watch("trigState",function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.settingsButtons.forEach((function(e){e.classList.toggle(t.api.styles.settingsButtonActive,e.dataset.mode===n)})),e.next=3,t.updateQuills();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.$once("ready",(function(){e=!0})),this.xDomain,this.yDomain,this.step,this.$watch("xDomain",(function(){return t.updateGraph()})),this.$watch("yDomain",(function(){return t.updateGraph()})),this.$watch("step",(function(){return t.updateGraph()}))}},{key:"destroyed",value:function(){this.calcCache.clear(),this.mathCache.clear(),lt.deregisterWithGarbageMan(this)}},{key:"updated",value:function(){this.resultView&&this.resultView.reflow()}},{key:"reflow",value:function(){this.resultView&&this.resultView.reflow(),this.mathField&&this.mathField.reflow()}},{key:"resolveCachedLatex",value:function(t){var e=this.scopeToken;return this.mathCache.has(e)||this.mathCache.set(e,new Map),this.mathCache.get(e).get(t)}},{key:"cacheLatex",value:function(t,e){var n=this.scopeToken;this.mathCache.has(n)||this.mathCache.set(n,new Map),this.mathCache.get(n).set(t,e)}},{key:"math",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.latex){t.next=2;break}return t.abrupt("return",{flags:{},result:null});case 2:if(e=this.resolveCachedLatex(this.latex),e){t.next=10;break}return n=pt["latexParser"].parse(this.latex),t.next=7,$t(n.content,this.lastScope);case 7:return r=t.sent,this.cacheLatex(this.latex,r),t.abrupt("return",r);case 10:return t.abrupt("return",e);case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"focused",value:function(){this.isFocused=!0,this.$emit("hidePlusButton"),this.$emit("showToolbar")}},{key:"unfocused",value:function(){this.isFocused=!1,this.isActive||this.$emit("showToolbar")}},{key:"updateQuills",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){var e,n,r,o,a,s,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return xt.clearVars(),t.next=3,this.components();case 3:e=t.sent,n={},r=!0,o=!1,a=void 0,t.prev=8,s=e[Symbol.iterator]();case 10:if(r=(i=s.next()).done){t.next=17;break}return c=i.value,t.next=14,c.calc(n);case 14:r=!0,t.next=10;break;case 17:t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](8),o=!0,a=t.t0;case 23:t.prev=23,t.prev=24,r||null==s.return||s.return();case 26:if(t.prev=26,!o){t.next=29;break}throw a;case 29:return t.finish(26);case 30:return t.finish(23);case 31:case"end":return t.stop()}}),t,this,[[8,19,23,31],[24,,26,30]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"removeGraph",value:function(){this.chart&&(this.chart.root.remove(),this.chart=null)}},{key:"minMaxOfFn",value:function(t,e){if(!this.resultFn)return[NaN,NaN];for(var n=[],r=t;r<e;r+=this.stepWithOverride)n.push(this.resultFn(r));n=n.sort((function(t,e){return t-e}));var o=[n[0],n[n.length-1]];return o}},{key:"domainOverrideChanged",value:function(t,e,n){var r=n.target,o=V.Dom.getCaretPosition(r),a=r.innerText,s=parseFloat(a),i="".concat(t,"Domain"),c=this[i][e];!isNaN(s)&&a.trim().length>0&&!a.endsWith(".")&&(r.innerText=s.toString(),s!==c&&this["".concat(t,"Domain")].splice(e,1,s)),this.$nextTick((function(){V.Dom.setCurrentCursorPosition(o,r)}))}},{key:"stepOverrideChanged",value:function(t){var e=t.target,n=V.Dom.getCaretPosition(e),r=e.innerText,o=parseFloat(r),a=this.step,s=Object(ft["a"])(this.xBoundsWithOverrides,2),i=s[0],c=s[1],l=Math.abs(i-c);(i>=0&&c<0||i<0&&c>=0)&&(l+=1),!isNaN(o)&&r.trim().length>0&&o<l&&o>0&&!r.endsWith(".")&&(e.innerText=o.toString(),o!==a&&o>0&&(this.step=o)),this.$nextTick((function(){V.Dom.setCurrentCursorPosition(n,e)}))}},{key:"updateGraph",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){var e,r,o,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.resultFn){t.next=2;break}return t.abrupt("return");case 2:if(this.chart&&this.removeGraph(),this.showGraph){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,n.e("chunk-265e34ea").then(n.t.bind(null,"1e0d",7));case 7:e=t.sent,r=e.default,o=this.computedBounds,a=o.xDomain,s=o.yDomain,t.prev=10,console.log(this.resultFn),this.chart=r({target:this.$refs.graph,tip:{xLine:!0,yLine:!0,renderer:function(t,e){return"(".concat(t.toFixed(3),", ").concat(e.toFixed(3),")")}},data:[{fn:"fn",step:this.stepWithOverride,scope:{fn:this.resultFn},nSamples:1e3,sampler:"mathjs",graphType:"polyline"}],grid:!0,xAxis:{domain:a},yAxis:{domain:s},width:this.$el.clientWidth,height:+getComputedStyle(this.$refs.graph).height.split("px")[0]}),t.next=20;break;case 15:return t.prev=15,t.t0=t["catch"](10),console.warn("failed to update graph",t.t0),this.graphFailed=!0,t.abrupt("return");case 20:this.graphFailed=!1,this.fixChart();case 22:case"end":return t.stop()}}),t,this,[[10,15]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"fixChart",value:function(){if(this.chart){var t=this.chart.options,e=d3.select(t.target).selectAll("svg").data([t]).__proto__;wt(this.chart.root,e),wt(this.chart.canvas,e),Object.defineProperty(this.chart,"content",{get:function(){return this._content},set:function(t){return wt(t,e),this._content=t,!0}})}}},{key:"resolveCachedCalc",value:function(t){var e=this.scopeToken;return this.calcCache.has(e)||this.calcCache.set(e,new Map),this.calcCache.get(e).get(t)}},{key:"cacheCalc",value:function(t,e){var n=this.scopeToken;this.calcCache.has(n)||this.calcCache.set(n,new Map),this.calcCache.get(n).set(t,e)}},{key:"calc",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(e){var n,r,o,a,s,i,c,l,u,d,h,f=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.latex){t.next=3;break}return this.result=this.resultFn=null,t.abrupt("return");case 3:if(this.lastScope=Object.assign({},e),this.error=null,n=this.latex&&this.resolveCachedCalc(this.latex),!n){t.next=10;break}r=n,t.next=20;break;case 10:return t.next=12,this.math();case 12:if(o=t.sent,o.flags,a=o.result,a){t.next=17;break}return t.abrupt("return",this.result=null);case 17:try{r=this.mathJS.parse(a).compile()}catch(p){console.debug("failed to parse result from algebra slave",{e:p,mathStr:a,scope:e,latex:this.latex}),r="error"}this.cacheCalc(this.latex,r),console.debug("compiled expression",{latex:this.latex,mathStr:a,compiled:r});case 20:i=this.resolveCachedLatex(this.latex),c=i.flags,l=i.result;try{s=c.noVarSubInPostProcessing?l:r.evaluate(e)}catch(p){s=l}finally{if("string"!==typeof s||c.noVarSubInPostProcessing)if("function"===typeof s||"undefined"===typeof s){if("function"===typeof s){try{s(0)}catch(p){this.error=p.message,s=null}s&&(s["original"]=l),this.resultFn=s}}else this.resultFn=null;else try{if(u=this.mathJS.parse(s),d=u.filter((function(t){return t.isSymbolNode})).map((function(t){return t.toString()})).filter((function(t){return!f.mathJS[t]})).filter((function(t,e,n){return n.indexOf(t)===e})),1===d.length&&"x"===d[0]){h=this.mathJS.parse("f(x)=".concat(l)).compile().evaluate({});try{h(0)}catch(p){h=null}h&&(this.resultFn=h)}else this.resultFn=null}catch(m){this.resultFn=null}}return"number"===typeof s&&(s=this.mathJS.round(s,10)),this.result=s,t.abrupt("return",s);case 25:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"toggleGraph",value:function(){this.showGraph=!this.showGraph}},{key:"updateResultView",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=this.renderFormat,t.next="frac"===t.t0?3:(t.t0,9);break;case 3:return t.next=5,this.fraction(e);case 5:if(n=t.sent,!n){t.next=9;break}return this.resultView.latex(n),t.abrupt("break",12);case 9:try{isNaN(e)&&(r=e,e=xt(r).toTeX()),"function"===typeof e.toTeX&&(e=e.toTeX()),"function"===typeof e.toTex&&(e=e.toTex())}catch(o){console.debug("failed to render result",o,{result:e,latex:this.latex}),e="error"}return this.resultView.latex(e),t.abrupt("break",12);case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"fraction",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",this.mathJS.fraction(e).toLatex());case 4:return t.prev=4,t.t0=t["catch"](0),t.abrupt("return",null);case 7:case"end":return t.stop()}}),t,this,[[0,4]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"toggleRenderFormat",value:function(){this.renderFormat="dec"===this.renderFormat?"frac":"dec"}},{key:"components",value:function(){var t=this;return new Promise((function(e){return t.$emit("get:components",e)}))}},{key:"trigStateWithOverrides",get:function(){return this.trigState||this.$store.state.preferences.defaultTrigState}},{key:"mqRootBlock",get:function(){return this.$refs.mqMount.querySelector(".mq-root-block")}},{key:"isActive",get:function(){try{return this.$el.parentElement.parentElement.classList.contains("ce-block--focused")}catch(t){return!1}}},{key:"scopeToken",get:function(){return JSON.stringify(Object.assign({},this.lastScope,jt(this.lastScope)))}},{key:"defaultXBounds",get:function(){return[-10,10]}},{key:"defaultStep",get:function(){return 1}},{key:"xBoundsWithOverrides",get:function(){var t=this,e=this.xDomain.map((function(t){return"number"===typeof t?t:NaN})).map((function(e,n){return isNaN(e)?t.defaultXBounds[n]:e}));return e.length<2||e[0]===e[1]?[-10,10]:e}},{key:"yBoundsWithOverrides",get:function(){if(!this.resultFn)return null;var t=this.yDomain.map((function(t){return"number"===typeof t?t:NaN}));if(t.some((function(t){return isNaN(t)}))){var e=this.minMaxOfFn.apply(this,Object(ht["a"])(this.xBoundsWithOverrides));t=t.map((function(t,n){return isNaN(t)?e[n]:t}))}return t.sort((function(t,e){return t-e})),t.length<2||t[0]===t[1]?this.minMaxOfFn.apply(this,Object(ht["a"])(this.xBoundsWithOverrides)):t}},{key:"stepWithOverride",get:function(){return this.step||this.defaultStep}},{key:"computedBounds",get:function(){if(!this.resultFn)return null;var t=this.xBoundsWithOverrides,e=this.yBoundsWithOverrides;return{xDomain:t,yDomain:e}}}],[{key:"startGarbageWatcher",value:function(t,e){var n=this;this.garbageTimer=setInterval((function(){console.debug("🗑 time to take out the trash, bitches"),n.garbageClients.forEach((function(t){var n=t.scopeToken,r=Array.from(t.mathCache.keys()).concat(Array.from(t.calcCache.keys())).filter((function(t,e,n){return n.indexOf(t)===e}));r.forEach((function(r){if(r!==n)if("undefined"===typeof t.flaggedForDeletion[r])t.flaggedForDeletion[r]=Date.now();else if(Date.now()-t.flaggedForDeletion[r]>e){var o=t.mathCache.get(r),a=t.calcCache.get(r);console.debug("🗑 purging expired caches for component",{mathCache:{keys:o&&o.keys(),values:o&&o.values()},calcCache:{keys:a&&a.keys(),values:a&&a.values()},token:r,flaggedAt:t.flaggedForDeletion[r]}),o&&o.clear(),a&&a.clear(),t.mathCache.delete(r),t.calcCache.delete(r)}}))}))}),t)}},{key:"stopGarbageWatcher",value:function(){clearTimeout(this.garbageTimer),delete this.garbageTimer}},{key:"registerWithGarbageMan",value:function(t){this.garbageClients.includes(t)||this.garbageClients.push(t)}},{key:"deregisterWithGarbageMan",value:function(t){this.garbageClients.includes(t)&&this.garbageClients.splice(this.garbageClients.indexOf(t),1)}}]),e}(h["c"]);Mt.garbageClients=[],d["a"]([Object(h["b"])()],Mt.prototype,"savedData",void 0),d["a"]([Object(h["b"])()],Mt.prototype,"api",void 0),Mt=lt=d["a"]([Object(h["a"])({components:{FractionSVG:mt,DecimalSVG:vt,GraphSVG:gt,FullscreenSVG:bt}})],Mt);var St=Mt;Mt.startGarbageWatcher(15e3,3e4);var Nt=St,Bt=(n("fdf0"),Object(b["a"])(Nt,ut,dt,!1,null,null,null)),Tt=Bt.exports,Dt={functional:!0,render(t,e){const{_c:n,_v:r,data:o,children:a=[]}=e,{class:s,staticClass:i,style:c,staticStyle:l,attrs:u={},...d}=o;return n("svg",{class:[s,i],style:[{"enable-background":"new 0 0 19.342 19.342"},c,l],attrs:Object.assign({version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 19.342 19.342",style:"enable-background:new 0 0 19.342 19.342;","xml:space":"preserve"},u),...d},a.concat([n("g",[n("g",[n("path",{attrs:{d:"M2.833,4.491c0,0,0.513,0.491,0.513,0.776v12.568c0,0.832,0.736,1.507,1.645,1.507h9.362\r\n\t\t\tc0.908,0,1.644-0.675,1.644-1.507V5.268c0-0.286,0.515-0.776,0.515-0.776V2.969H2.833V4.491z M12.36,6.23h1.223v9.705H12.36V6.23z\r\n\t\t\t M9.086,6.23h1.22v9.705h-1.22V6.23z M6.137,6.23h1.221v9.705H6.137V6.23z"}}),n("path",{attrs:{d:"M17.108,1.711h-3.791C13.128,0.74,12.201,0,11.087,0H8.257C7.143,0,6.216,0.74,6.027,1.711H2.235\r\n\t\t\tv0.93h14.873V1.711z M7.297,1.711c0.156-0.344,0.528-0.586,0.96-0.586h2.829c0.433,0,0.804,0.243,0.961,0.586H7.297z"}})])]),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g")]))}},Pt={functional:!0,render(t,e){const{_c:n,_v:r,data:o,children:a=[]}=e,{class:s,staticClass:i,style:c,staticStyle:l,attrs:u={},...d}=o;return n("svg",{class:[s,i],style:[{"enable-background":"new 0 0 512 512"},c,l],attrs:Object.assign({version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:"enable-background:new 0 0 512 512;","xml:space":"preserve"},u),...d},a.concat([n("g",[n("g",[n("g",[n("rect",{attrs:{x:"128",y:"144",width:"32",height:"32"}}),n("rect",{attrs:{x:"192",y:"144",width:"32",height:"32"}}),n("polygon",{attrs:{points:"256,144 256,176 480,176 480,336 32,336 32,176 96,176 96,144 0,144 0,368 512,368 512,144 \t\t\t"}}),n("path",{attrs:{d:"M64,304h96v-96H64V304z M96,240h32v32H96V240z"}}),n("path",{attrs:{d:"M352,208v96h96v-96H352z M416,272h-32v-32h32V272z"}}),n("path",{attrs:{d:"M208,304h96v-96h-96V304z M240,240h32v32h-32V240z"}})])])]),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g")]))}},It=(n("e439"),n("2ca0"),n("71c0")),Rt=n("1e7c"),Ft=n("36a7"),At=n("ac8c"),zt=n("a3c6"),Vt=n("7c5e");function Gt(t,e,n){var r=t[e]||function(){},o=n(r);t[e]=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o.apply(this,e)}}function qt(t,e,n){var r=Object.getOwnPropertyDescriptor(t,e).get,o=n(r);Object.defineProperty(t,e,{get:function(){return o.call(this)}})}function Wt(t,e,n){var r=Object.getOwnPropertyDescriptor(t,e).set,o=n(r);Object.defineProperty(t,e,{set:function(t){return o.call(this,t)}})}function Ht(t){var e=t.core,n=t.core.moduleInstances,r=n.Dom.constructor,o=n.Sanitizer,a=n.Paste,s=n.BlockSelection;function i(t){var n=null;if(t){var r=e.configuration.blockElements||[],o=e.configuration.inlineElements||[],a=e.configuration.specialElements||[];r.forEach((function(e){return t.tags[e]=!0})),o.forEach((function(e){return t.tags[e]=!0})),n=new Ft(Object.assign({},t,{blockElements:r.map((function(t){return t.toUpperCase()})),inlineElements:o.map((function(t){return t.toUpperCase()})),specialElements:a.map((function(t){return t.toUpperCase()})),keepNestedBlockElements:!0}))}return n}function c(t){if(e.configuration.specialElements.includes(t.nodeName.toLowerCase()))return!0;var n=Array.from(t.childNodes);return n.some((function(t){return c(t)}))}function l(t){var e=document.createElement("div");e.className="codex-editor-clipboard",e.innerText=t,document.body.appendChild(e);var n=window.getSelection(),r=document.createRange();r.selectNode(e),window.getSelection().removeAllRanges(),n.addRange(r),document.execCommand("copy"),document.body.removeChild(e)}Gt(o.__proto__,"createHTMLJanitorInstance",(function(t){return i})),Gt(a,"processText",(function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n[0],a=document.implementation.createHTMLDocument(),s=a.createElement("div");return s.innerHTML=o,c(s)?t.call(this,s.innerHTML,!0):t.call.apply(t,[this].concat(n))}})),Gt(r,"isEmpty",(function(t){return function(n){return!e.configuration.specialElements.includes(n.nodeName.toLowerCase())&&t.call(this,n)}})),Gt(a,"processHTML",(function(t){return function(e){var n=this,o=r.make("DIV");o.innerHTML=e;var a=[],s=[],i=Array.from(o.children),l="_32@!#+_";i.forEach((function(t,e){if(c(t)){a[e]=t;var n="".concat(l).concat(e);s[e]=n;var r=document.createTextNode(n);o.replaceChild(r,t)}}));var u=t.call(this,o.innerHTML),d=function(t){var e=a[t].children[0];return{content:e,isBlock:!0,tool:n.toolsTags[e.tagName].tool,event:n.composePasteEvent("tag",{data:e})}},h=[];return u.forEach((function(t){var e=t.content,n=e instanceof HTMLElement&&e.innerText;if(!n)return h.push(t);var r=n.split(l).map((function(t){return parseInt(t)})).filter((function(t){return!isNaN(t)}));if(0===r.length)return h.push(t);r.forEach((function(t){return h.push(d(t))}))})),h=h.filter((function(t){return!!t})),h}})),Gt(s,"copySelectedBlocks",(function(t){return function(){var t=this,e=document.createElement("div");this.selectedBlocks.forEach((function(n){var r=t.Editor.Sanitizer.clean(n.holder.innerHTML,t.sanitizerConfig),o=document.createElement("p");o.innerHTML=r,e.appendChild(o)})),l(e.innerHTML)}})),qt(r,"blockElements",(function(t){return function(){var n=t.call(this);return e.configuration.specialElements.forEach((function(t){return n.push(t.toLowerCase())})),n}}))}function Ut(t){Gt(It.prototype,"getOutofList",(function(t){return function(e){t.call(this,e),e.defaultPrevented&&this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex())}})),Gt(Rt.prototype,"appendNewElement",(function(e){return function(n){var r=this,o=n.stopPropagation,a=!1;n.stopPropagation=function(){a=!0,o.call(this)};var s=t.core.moduleInstances.BlocksAPI.insertNewBlock,i=!1;t.core.moduleInstances.BlocksAPI.insertNewBlock=function(){return i=!0},e.call(this,n),t.core.moduleInstances.BlocksAPI.insertNewBlock=s,setTimeout((function(){if(a&&(r._elements.items[r._elements.items.length-1].remove(),r._elements.items.splice(r._elements.items.length-1,1),i)){var t=r.Editor.moduleInstances.BlockManager.insert();r.Editor.moduleInstances.Caret.setToBlock(t,r.Editor.moduleInstances.Caret.positions.END)}}),0)}})),Vt.prototype.onTab=function(t){if(!this._suggestions)return!1;t&&(t.preventDefault(),t.stopPropagation()),"undefined"===typeof this.selectedSuggestion?this.selectedSuggestion=0:this.selectedSuggestion++;var e=this.suggestions[this.selectedSuggestion-1],n=this.suggestions[this.selectedSuggestion];return n||(n=this.suggestions[this.selectedSuggestion=0]),e&&e.classList.remove("active"),n&&n.classList.add("active"),!0},Vt.prototype.teardownSuggestions=function(){this._suggestions&&this._suggestions.remove(),delete this._suggestions,delete this.suggestions,delete this.selectedSuggestion},Vt.prototype.focused=function(t){!t&&this._suggestions&&(console.log("tearing down suggestions"),this.teardownSuggestions())},Vt.prototype.selectSuggestion=function(e){var n=e.innerText,r=t.core.moduleInstances.BlockManager.composeBlock(n,{}),o=t.core.moduleInstances.BlockManager._blocks.indexOf(this.block);t.core.moduleInstances.BlockManager._blocks.insert(o,r,!0),t.core.moduleInstances.Caret.setToBlock(r),this.teardownSuggestions()},Vt.prototype.onEnter=function(t){return!!this._suggestions&&(t.preventDefault(),t.stopPropagation(),this.selectSuggestion(this.suggestions[this.selectedSuggestion]),!0)},Vt.prototype.removed=function(){this.teardownSuggestions()},Gt(Vt.prototype,"onKeyUp",(function(e){return function(n){var r=this;e.call(this,n);var o=this._element.textContent;if(!o.startsWith("/")||o.substring(1).split(" ").length>1||"/"===o)this._suggestions&&(console.debug("paragraph is tearing down suggestions"),this.teardownSuggestions());else{var a=o.substring(1).split(" "),s=Object(ft["a"])(a,1),i=s[0],c=Object.keys(t.core.moduleInstances.Tools.blockTools),l=c.filter((function(t){return t.startsWith(i)})).sort((function(t,e){return t.length-e.length}));l.find((function(t){return t===i}));if(l.length!==c.length){n.code;var u="Tab"===n.code;if(!u){var d=this.suggestions=l.map((function(t){var e=document.createElement("span");return e.innerText=t,e.classList.add("tool-suggestion"),e.addEventListener("click",(function(){return r.selectSuggestion(e)})),e}));this._suggestions&&this._suggestions.remove();var h=this._suggestions=document.createElement("span");h.style.position="absolute",h.classList.add("tool-suggestion-container");var f=window.getSelection().getRangeAt(0).cloneRange();f.collapse(!0),h.style.left=f.getClientRects()[0].left+"px";var p=function(t){return parseFloat(getComputedStyle(r._element)[t].split("px")[0])};h.style.top=this._element.getBoundingClientRect().top+p("padding-top")+"px",d.forEach((function(t){return h.appendChild(t)})),document.body.appendChild(h),this.onTab()}}}}})),At.prototype.ignoreBackspace=zt.prototype.ignoreBackspace=function(t){var e=0===this.block.holder.querySelector("textarea").value.length;if(e){var n=this.Editor.moduleInstances.BlockManager.currentBlockIndex;this.Editor.moduleInstances.BlockManager.removeBlock(n);var r=this.Editor.moduleInstances.BlockManager.blocks[n],o=r;return r||(o=this.Editor.moduleInstances.BlockManager.insert(void 0,void 0,void 0,n)),this.Editor.moduleInstances.Caret.setToBlock(o,this.Editor.moduleInstances.Caret.positions.END),!0}return!1}}function Qt(t){var e=t.core,n=e.moduleInstances.BlockManager.composeBlock(e.config.initialBlock,{},{}).__proto__;qt(n,"isEmpty",(function(t){return function(){var e=this.call("isEmpty");return"boolean"===typeof e?e:t.call(this)}})),Wt(n,"focused",(function(t){return function(e){t.call(this,e),this.call("focused",e)}})),Wt(n,"selected",(function(t){return function(e){t.call(this,e),this.call("selected",e)}})),n.call=function(t,e){if(this.tool[t]&&this.tool[t]instanceof Function)try{return this.tool[t](e)}catch(n){console.warn("Error during '".concat(t,"' call: ").concat(n.message))}},Gt(n,"compose",(function(t){return function(){return this.tool.Editor=e,this.tool.block=this,t.call(this)}}))}function Jt(t,e){var n=t;if(!n)return!1;while(n){if(n.isEqualNode(e))return!0;n=n.parentNode}return!1}function Kt(t){var e=t.core,n=e.moduleInstances,r=n.BlockEvents,o=n.BlockManager,a=n.Events,s=n.Caret,i=n.UI;function c(t,e){var n=t;if(!n)return!1;while(n)if(n.classList){if(n.classList.contains(e))return!0;n=n.parentElement}else n=n.parentElement;return!1}Gt(r,"tabPressed",(function(t){return function(e){this.Editor.BlockSelection.clearSelection(e);var n=this.Editor.BlockManager,r=n.currentBlock;if(r){var o=r.call("onTab",e);o||t.call(this,e)}}})),Gt(r,"backspace",(function(t){return function(e){var n=o.currentBlock;!0!==n.call("ignoreBackspace",e)&&t.call(this,e)}})),Gt(o,"highlightCurrentNode",(function(t){return function(){t.call(this),setTimeout((function(){var t=window.getSelection().focusNode,e=!c(t,"ce-block")||!Jt(t,o.currentBlock.holder);e&&s.setToBlock(o.currentBlock,s.positions.END)}))}})),Gt(r,"arrowLeftAndUp",(function(t){return function(e){var n=this.Editor.BlockManager.currentBlock,r=38===e.keyCode?"up":"left";n.tool&&n.tool.keyOverrides&&n.tool.keyOverrides.indexOf(r)>0||t.call(this,e)}})),Gt(r,"arrowRightAndDown",(function(t){return function(e){var n=this.Editor.BlockManager.currentBlock,r=40===e.keyCode?"down":"right";n.tool&&n.tool.keyOverrides&&n.tool.keyOverrides.indexOf(r)>0||t.call(this,e)}})),Gt(r,"enter",(function(t){return function(e){var n=this.Editor.BlockManager,r=n.currentBlock.tool;r&&!0===r.customEnter||t.call(this,e)}})),Gt(r,"enter",(function(t){return function(e){var n=this.Editor.BlockManager,r=n.currentBlock,o=r.call("onEnter",e);o||t.call(this,e)}})),Gt(i,"enterPressed",(function(t){return function(e){var n=this.Editor,r=n.BlockManager,o=n.BlockSelection;n.Caret,r.currentBlockIndex;if(o.anyBlockSelected)return t.call(this,e);var a=r.currentBlock;return a&&a.tool&&a.call("onEnter",e)?void 0:t.call(this,e)}})),Gt(r,"keydown",(function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.call.apply(t,[this].concat(n)),a.emit.apply(a,["keydown"].concat(n))}}))}function Xt(t){var e=t.core,n=e.moduleInstances,r=n.Caret,o=n.Events,a=r.__proto__;Gt(r,"setToBlock",(function(t){return function(e,n,r){null!==e&&t.call(this,e,n,r)}})),Gt(r,"set",(function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.call.apply(t,[this].concat(n)),o.emit.apply(o,["caretChanged"].concat(n))}})),qt(a,"isAtStart",(function(t){return function(){var e=this.Editor.BlockManager.currentBlock,n=e.call("isAtStart");return"boolean"===typeof n?n:t.call(this)}})),qt(a,"isAtEnd",(function(t){return function(){var e=this.Editor.BlockManager.currentBlock,n=e.call("isAtEnd");return"boolean"===typeof n?n:t.call(this)}}))}function Yt(t){var e=t.core,n=e.moduleInstances.BlockManager;n.paste=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n=r?this.replace(t):this.insert(t),!1===n.call("canPaste",e))return this.removeBlock(this.blocks.indexOf(n)),null;try{n.call("onPaste",e)}catch(o){console.error("".concat(t,": onPaste callback call is failed"),o)}return n},Gt(n._blocks,"swap",(function(t){return function(e,n){var r=this.blocks[e],o=this.blocks[n];t.call(this,e,n),r.call("moved",1),o.call("moved",2)}})),Wt(n.__proto__,"currentBlockIndex",(function(e){return function(n){e.call(this,n);var r=t.blockIndexDidChange;"function"===typeof r&&r(n)}}))}function Zt(t){var e=t.core,n=e.moduleInstances,r=n.BlockSelection,o=n.BlockManager,a=n.Caret,s=n.Toolbox,i=n.Dom.constructor,c=n.RectangleSelection,l=(n.Selection,n.Toolbar),u=n.UI,d=n.Tooltip.lib;function h(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}Gt(r,"handleCommandA",(function(t){return function(e){if(i.isNativeInput(e.target)&&!this.readyToBlockSelection)return t.call(this,e);var n=this.Editor.BlockManager.getBlock(e.target);return 0===n.holder.innerText.trim().length&&(this.needToSelectAll=!0),t.call(this,e)}})),Gt(c,"genInfoForMouseSelection",(function(t){return function(){if(!this.Editor.BlockManager.lastBlock){var e=o.insert();a.setToBlock(e)}return t.call(this)}})),Gt(s,"toolButtonActivate",(function(e){return function(){if(!t.VueEditor||!t.VueEditor.touchMoving){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.call.apply(e,[this].concat(r))}}})),Gt(d,"show",(function(t){return function(){if(!h()){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.call.apply(t,[this].concat(n))}}})),Gt(u,"documentClicked",(function(e){return function(){if(!t.VueEditor||!t.VueEditor.touchMoving){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.call.apply(e,[this].concat(r))}}})),Gt(l,"move",(function(t){return function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(this.Editor.Toolbox.close(),this.Editor.BlockSettings.close());var n=this.Editor.BlockManager.currentBlock;if(n)return t.call(this,e)}})),Gt(u,"redactorClicked",(function(t){return function(e){var n=window.getSelection(),r=n?n.isCollapsed:null;if(r){if(!this.Editor.BlockManager.currentBlock){var o=this.Editor.BlockManager.insert();a.setToBlock(o),l.move(!0)}return t.call(this,e)}}})),Gt(u,"removeLoader",(function(e){return function(){if(t.VueEditor)return t.VueEditor.$once("ready",e.bind(this));e.call(this)}})),Gt(o,"clearFocused",(function(){return function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.blocks.forEach((function(n,r){e&&r===t.currentBlockIndex||(n.focused=!1)}))}})),Gt(l,"move",(function(t){return function(){var e=o.currentBlock.holder;if(e){o.clearFocused(!0),e.focused=!0;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];t.call.apply(t,[this].concat(r))}}}))}function te(t){return ee.apply(this,arguments)}function ee(){return ee=Object(P["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.core.editor=e,Gt(e.core,"start",(function(t){return Object(P["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.call(this).then((function(){Ht(e),Ut(e),Qt(e),Kt(e),Xt(e),Yt(e),Zt(e)}));case 2:case"end":return n.stop()}}),n,this)})))}));case 2:case"end":return t.stop()}}),t)}))),ee.apply(this,arguments)}var ne=n("1e7c"),re=n("ac8c"),oe=n("b391"),ae=n("a728"),se=n("3ecd"),ie=n("5d25"),ce=n("71c0"),le=n("0960b"),ue=n("7c5e"),de=n("e1ec"),he=(n("a3c6"),n("3e21")),fe=n("2562"),pe=n("d2ef"),me=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.active="",t.lastIndex=0,t.hasChanges=!1,t.name=null,t.overrides={showRibbon:null,showLabels:null},t.ready=!1,t.toolDrawers={paragraph:["list","header","delimiter","quote"]},t.openDrawers=[],t.touchMoving=!1,t}return Object(u["a"])(e,t),Object(i["a"])(e,[{key:"created",value:function(){var t=this;0!==Object.keys(this.$store.state.notes).length&&0!==Object.values(this.$store.state.notes).filter((function(t){return!!t})).length||this.$store.dispatch("newNote"),window.addEventListener("beforeunload",this.unloadListener=function(){return t.save()})}},{key:"toggleDrawer",value:function(t){if(this.openDrawers.includes(t))return this.openDrawers.splice(this.openDrawers.indexOf(t));this.openDrawers.push(t)}},{key:"mounted",value:function(){var t=this;this.$watch("noteID",function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.editor){e.next=2;break}return e.abrupt("return");case 2:if(t.save(r),t.editor.clear(),t.cachedData){e.next=6;break}return e.abrupt("return");case 6:return t.note,t.hasChanges=!1,e.next=10,t.renderData(t.cachedData);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.$store.subscribe((function(e){switch(e.type){case"updateNote":case"setNote":t.name=t.note.name}})),this.name=this.note.name,this.$el.addEventListener("touchmove",(function(){return t.touchMoving=!0})),this.$el.addEventListener("touchend",(function(){return t.touchMoving=!1})),this.interval=setInterval((function(){t.editor&&t.hasChanges&&(t.save(),t.hasChanges=!1)}),250),this.createEditor()}},{key:"destroyed",value:function(){clearInterval(this.interval),window.removeEventListener("beforeunload",this.unloadListener)}},{key:"mouseenter",value:function(t){t.target.getAttribute("data-tooltip")&&this.$parent.$emit("ct-mouseenter",t)}},{key:"mouseleave",value:function(t){t.target.getAttribute("data-tooltip")&&this.$parent.$emit("ct-mouseleave",t)}},{key:"renderData",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=e||this.cachedData,e&&e.blocks){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,this.editor.render(e||this.cachedData);case 5:if(n=this.editor.core.moduleInstances.BlockManager.blocks.find((function(t){return"math"===t.name})),!n){t.next=9;break}return t.next=9,n.tool.send("updateQuills");case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"save",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){var e,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=n.length>0&&void 0!==n[0]?n[0]:this.noteID,this.$store.state.notes[e]){t.next=3;break}return t.abrupt("return");case 3:if(this.hasChanges){t.next=5;break}return t.abrupt("return");case 5:return t.t0=this.$store,t.next=8,this.editor.save();case 8:t.t1=t.sent,t.t2=e,t.t3={data:t.t1,id:t.t2},t.t0.commit.call(t.t0,"updateNote",t.t3);case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"editorLoaded",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.renderData(this.cachedData);case 2:return this.editor.core.moduleInstances.Events.on("keydown",(function(t){r.hasChanges=!0})),h["c"].set(this.$root.$children[0],"tooltip",this.getModule("API").methods.tooltip),t.next=6,this.save();case 6:e=this.editor.core.moduleInstances.UI.nodes.redactor,n=new MutationObserver((function(t){console.debug("reflowing mathquills"),r.quills.forEach((function(t){return t.tool.send("reflow")}))})),n.observe(e,{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1}),this.$emit("ready"),this.ready=!0;case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"createEditor",value:function(t){var e,n=this;this.editor&&this.editor.destroy(),this.editor=new it.a((e={holder:this.$refs.mountPoint,tools:{math:ct(Tt,{title:"Math",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">\n                <path d="M 4 2 C 2.895 2 2 2.895 2 4 L 2 9 C 2 10.105 2.895 11 4 11 L 9 11 C 10.105 11 11 10.105 11 9 L 11 4 C 11 2.895 10.105 2 9 2 L 4 2 z M 15 2 C 13.895 2 13 2.895 13 4 L 13 9 C 13 10.105 13.895 11 15 11 L 20 11 C 21.105 11 22 10.105 22 9 L 22 4 C 22 2.895 21.105 2 20 2 L 15 2 z M 6 4 L 7 4 L 7 6 L 9 6 L 9 7 L 7 7 L 7 9 L 6 9 L 6 7 L 4 7 L 4 6 L 6 6 L 6 4 z M 15 6 L 20 6 L 20 7 L 15 7 L 15 6 z M 4 13 C 2.895 13 2 13.895 2 15 L 2 20 C 2 21.105 2.895 22 4 22 L 9 22 C 10.105 22 11 21.105 11 20 L 11 15 C 11 13.895 10.105 13 9 13 L 4 13 z M 15 13 C 13.895 13 13 13.895 13 15 L 13 20 C 13 21.105 13.895 22 15 22 L 20 22 C 21.105 22 22 21.105 22 20 L 22 15 C 22 13.895 21.105 13 20 13 L 15 13 z M 4.71875 15.03125 L 6.5 16.78125 L 8.28125 15.03125 L 8.96875 15.71875 L 7.21875 17.5 L 8.96875 19.28125 L 8.28125 19.96875 L 6.5 18.21875 L 4.71875 19.96875 L 4.03125 19.28125 L 5.78125 17.5 L 4.03125 15.71875 L 4.71875 15.03125 z M 15 16 L 20 16 L 20 17 L 15 17 L 15 16 z M 15 18 L 20 18 L 20 19 L 15 19 L 15 18 z"/>\n            </svg>'},{tags:["MQ-PASTE-DATA"]}),checklist:ne,code:re,delimiter:oe,embed:ae,inlineCode:ie,list:{class:ce,inlineToolbar:ce},marker:{class:le,shortcut:"CMD+SHIFT+U"},header:{class:se,inlineToolbar:!0},paragraph:{class:ue,inlineToolbar:!0},quote:{class:de,inlineToolbar:!0},image:he,table:fe,warning:pe},data:t,logLevel:"VERBOSE"},Object(at["a"])(e,"blockElements",["mq-paste-data"]),Object(at["a"])(e,"specialElements",["mq-paste-data"]),Object(at["a"])(e,"patch",te),e)),this.editor.VueEditor=this,this.editor.isReady.then((function(){return n.editorLoaded()})),this.editor.blockIndexDidChange=function(t){t>-1&&(n.lastIndex=t);var e=n.editor.core.moduleInstances.BlockManager.blocks[t];e&&(n.active=e.name)}}},{key:"switchTool",value:function(t){var e=this.getModule("BlockManager"),n=this.getModule("Caret"),r=this.getModule("Toolbar"),o=e.composeBlock(t,{});e._blocks.insert(this.lastIndex,o,!0),n.setToBlock(o),r.close()}},{key:"getModule",value:function(t){return this.editor.core.moduleInstances[t]}},{key:"showRibbon",get:function(){return!!this.ready&&(null===this.overrides.showRibbon?this.$store.state.preferences.showToolbox:this.overrides.showRibbon)},set:function(t){this.overrides.showRibbon=t}},{key:"showLabels",get:function(){return null===this.overrides.showLabels?this.$store.state.preferences.showLabels:this.overrides.showLabels},set:function(t){this.overrides.showLabels=t}},{key:"quills",get:function(){return this.editor.core.moduleInstances.BlockManager.blocks.filter((function(t){return"math"===t.name}))}},{key:"notInMainToolbox",get:function(){return Object.values(this.toolDrawers).reduce((function(t,e){return t.concat(e)}),[])}},{key:"cachedData",get:function(){return this.note&&this.note.data}},{key:"note",get:function(){return this.$store.state.notes[this.noteID]||{}}},{key:"noteID",get:function(){return this.$store.state.currentNote},set:function(t){this.$store.commit("setNote",t)}},{key:"toolboxData",get:function(){try{var t=this.editor.core.moduleInstances.Tools.toolsClasses;return Object.keys(t).map((function(e){return{key:e,toolbox:t[e].toolbox}})).filter((function(t){return!!t.toolbox})).reduce((function(t,e){var n=e.key,r=e.toolbox;return t[n]=r,t}),{})}catch(e){return{}}}},{key:"topLevelToolboxData",get:function(){var t=this;return V.filterObject(this.toolboxData,(function(e){return!t.notInMainToolbox.includes(e)}))}}]),e}(h["c"]);d["a"]([Object(h["b"])({default:!1})],me.prototype,"showBurger",void 0),d["a"]([Object(h["b"])()],me.prototype,"exporter",void 0),d["a"]([Object(h["b"])()],me.prototype,"deleter",void 0),d["a"]([Object(h["b"])({default:!1})],me.prototype,"canDelete",void 0),me=d["a"]([Object(h["a"])({components:{UploadSVG:nt,TrashSVG:Dt,ToolSVG:Pt}})],me);var ve=me,ge=ve,be=(n("58d3"),Object(b["a"])(ge,rt,ot,!1,null,null,null)),ye=be.exports,we={functional:!0,render(t,e){const{_c:n,_v:r,data:o,children:a=[]}=e,{class:s,staticClass:i,style:c,staticStyle:l,attrs:u={},...d}=o;return n("svg",{class:[s,i],style:[c,l],attrs:Object.assign({viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},u),...d},a.concat([n("path",{attrs:{d:"m499.953125 197.703125-39.351563-8.554687c-3.421874-10.476563-7.660156-20.695313-12.664062-30.539063l21.785156-33.886719c3.890625-6.054687 3.035156-14.003906-2.050781-19.089844l-61.304687-61.304687c-5.085938-5.085937-13.035157-5.941406-19.089844-2.050781l-33.886719 21.785156c-9.84375-5.003906-20.0625-9.242188-30.539063-12.664062l-8.554687-39.351563c-1.527344-7.03125-7.753906-12.046875-14.949219-12.046875h-86.695312c-7.195313 0-13.421875 5.015625-14.949219 12.046875l-8.554687 39.351563c-10.476563 3.421874-20.695313 7.660156-30.539063 12.664062l-33.886719-21.785156c-6.054687-3.890625-14.003906-3.035156-19.089844 2.050781l-61.304687 61.304687c-5.085937 5.085938-5.941406 13.035157-2.050781 19.089844l21.785156 33.886719c-5.003906 9.84375-9.242188 20.0625-12.664062 30.539063l-39.351563 8.554687c-7.03125 1.53125-12.046875 7.753906-12.046875 14.949219v86.695312c0 7.195313 5.015625 13.417969 12.046875 14.949219l39.351563 8.554687c3.421874 10.476563 7.660156 20.695313 12.664062 30.539063l-21.785156 33.886719c-3.890625 6.054687-3.035156 14.003906 2.050781 19.089844l61.304687 61.304687c5.085938 5.085937 13.035157 5.941406 19.089844 2.050781l33.886719-21.785156c9.84375 5.003906 20.0625 9.242188 30.539063 12.664062l8.554687 39.351563c1.527344 7.03125 7.753906 12.046875 14.949219 12.046875h86.695312c7.195313 0 13.421875-5.015625 14.949219-12.046875l8.554687-39.351563c10.476563-3.421874 20.695313-7.660156 30.539063-12.664062l33.886719 21.785156c6.054687 3.890625 14.003906 3.039063 19.089844-2.050781l61.304687-61.304687c5.085937-5.085938 5.941406-13.035157 2.050781-19.089844l-21.785156-33.886719c5.003906-9.84375 9.242188-20.0625 12.664062-30.539063l39.351563-8.554687c7.03125-1.53125 12.046875-7.753906 12.046875-14.949219v-86.695312c0-7.195313-5.015625-13.417969-12.046875-14.949219zm-152.160156 58.296875c0 50.613281-41.179688 91.792969-91.792969 91.792969s-91.792969-41.179688-91.792969-91.792969 41.179688-91.792969 91.792969-91.792969 91.792969 41.179688 91.792969 91.792969zm0 0"}})]))}},ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings-panel"},[n("div",{class:["pane-switcher",-1===t.activePane?"col-primary":""]},t._l(t.panes,(function(e,r){return n("span",{key:r,class:["pane-item",t.activePane===r?"active":""],on:{click:function(e){t.activePane=r}}},[t._v(" "+t._s(e.name)+" ")])})),0),t.activePane>-1?n("div",{class:["pane",t.activePane>-1?"col-primary":""]},[n("h2",{staticClass:"pane-title"},[t._v(t._s(t.pane.name))]),t.pane.description?n("p",{staticClass:"pane-desc",domProps:{innerHTML:t._s(t.pane.description)}}):t._e(),t.pane.fields?n("form",t._l(t.pane.fields,(function(e,r){return n("span",{key:r,staticClass:"input-group"},[n("span",{class:["input-field","input-"+e.type,e.options?"input-pick":""]},[e.options?[n("span",{staticClass:"input-pick-name"},[t._v(t._s(e.name))]),t._l(e.options,(function(r,o){return[n("input",{directives:[{name:"model",rawName:"v-model",value:t.controls[t.pane.id][e.id],expression:"controls[pane.id][input.id]"}],key:t.pane.id+":"+e.id+":"+r+":"+o,attrs:{type:"radio",id:t.pane.id+":"+e.id+":"+o},domProps:{value:r,checked:t._q(t.controls[t.pane.id][e.id],r)},on:{change:function(n){return t.$set(t.controls[t.pane.id],e.id,r)}}}),n("label",{key:t.pane.id+":"+e.id+":"+r+":"+o+":label",staticClass:"input-name",attrs:{for:t.pane.id+":"+e.id+":"+o}},[t._v(t._s(r))])]}))]:[n("label",{staticClass:"input-name",attrs:{for:t.pane.id+":"+e.id}},[t._v(t._s(e.name))]),"checkbox"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.controls[t.pane.id][e.id],expression:"controls[pane.id][input.id]"}],attrs:{id:t.pane.id+":"+e.id,type:"checkbox"},domProps:{checked:Array.isArray(t.controls[t.pane.id][e.id])?t._i(t.controls[t.pane.id][e.id],null)>-1:t.controls[t.pane.id][e.id]},on:{change:function(n){var r=t.controls[t.pane.id][e.id],o=n.target,a=!!o.checked;if(Array.isArray(r)){var s=null,i=t._i(r,s);o.checked?i<0&&t.$set(t.controls[t.pane.id],e.id,r.concat([s])):i>-1&&t.$set(t.controls[t.pane.id],e.id,r.slice(0,i).concat(r.slice(i+1)))}else t.$set(t.controls[t.pane.id],e.id,a)}}}):"radio"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.controls[t.pane.id][e.id],expression:"controls[pane.id][input.id]"}],attrs:{id:t.pane.id+":"+e.id,type:"radio"},domProps:{checked:t._q(t.controls[t.pane.id][e.id],null)},on:{change:function(n){return t.$set(t.controls[t.pane.id],e.id,null)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.controls[t.pane.id][e.id],expression:"controls[pane.id][input.id]"}],attrs:{id:t.pane.id+":"+e.id,type:e.type},domProps:{value:t.controls[t.pane.id][e.id]},on:{input:function(n){n.target.composing||t.$set(t.controls[t.pane.id],e.id,n.target.value)}}})]],2),e.description?n("span",{staticClass:"input-desc"},[t._v(t._s(e.description))]):t._e()])})),0):t._e()]):t._e()])},xe=[],Ce=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.activePane=0,t.controls={},t.panes=[{id:"editor",name:"Editor",description:"Configure how the editor behaves by default",fields:[{id:"showLabels",name:"Show labels",description:"Show the toolbox labels by default",type:"checkbox",update:function(e){return t.$store.commit("setPreference",{name:"showLabels",value:e})},value:function(){return t.$store.state.preferences.showLabels}},{id:"showToolbox",name:"Show toolbox",description:"Show the toolbox itself by default",type:"checkbox",update:function(e){return t.$store.commit("setPreference",{name:"showToolbox",value:e})},value:function(){return t.$store.state.preferences.showToolbox}},{id:"hideEditorByDefaultOnMobile",name:"Default Mobile View",description:"Which screen should be presented when opening the app?",type:"string",options:["Menu","Editor"],update:function(e){return t.$store.commit("setPreference",{name:"hideEditorByDefaultOnMobile",value:"Editor"!==e})},value:function(){return t.$store.state.preferences.hideEditorByDefaultOnMobile?"Menu":"Editor"}},{id:"preferredColorScheme",name:"Theme",description:"Choose whether youi want light or dark mode, or inherit the system preference",type:"string",options:["Light","Dark","Inherit"],update:function(e){return t.$store.commit("setPreference",{name:"preferredColorScheme",value:e.toLowerCase()})},value:function(){switch(t.$store.state.preferences.preferredColorScheme){case"light":return"Light";case"dark":return"Dark";default:return"Inherit"}}},{id:"defaultNoteName",name:"Default Note Name",description:"Change the default name of notes",type:"string",update:function(e){return t.$store.commit("setPreference",{name:"defaultNoteName",value:e})},value:function(){return t.$store.state.preferences.defaultNoteName}}]},{id:"credits",name:"Credits",description:"Thanks everyone!"}],t}return Object(u["a"])(e,t),Object(i["a"])(e,[{key:"created",value:function(){var t=this;this.panes.forEach((function(e){h["c"].set(t.controls,e.id,e.fields&&e.fields.reduce((function(t,e){return t[e.id]=e.value(),t}),{})),e.fields&&e.fields.forEach((function(n){t.$watch("controls.".concat(e.id,".").concat(n.id),(function(t){return n.update(t)}))}))}));var e=document.createElement("div");e.classList.add("modal-header","settings-modal-header");var n=document.createElement("h1");n.innerText="Settings",e.appendChild(n);var r=document.createElement("span");r.classList.add("settings-modal-nav-back"),e.appendChild(r),r.addEventListener("click",(function(){return t.activePane=-1})),this.$root.$emit("modal-patch",{header:e,customClasses:["settings-modal"]}),this.$watch("activePane",(function(t){-1===t?r.classList.add("hidden"):r.classList.remove("hidden")})),window.addEventListener("resize",(function(){-1===t.activePane&&(document.documentElement.clientWidth<=500||(t.activePane=0))}))}},{key:"pane",get:function(){return this.panes[this.activePane]}}]),e}(h["c"]);Ce=d["a"]([h["a"]],Ce);var je=Ce,Oe=je,Ee=(n("d382"),Object(b["a"])(Oe,ke,xe,!1,null,null,null)),_e=Ee.exports,Le=n("899b"),$e=Le.VueContext,Me=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.list=[],t.overrides={navCollapse:null},t.canDelete=!1,t.sortListAscending=!1,t}return Object(u["a"])(e,t),Object(i["a"])(e,[{key:"mounted",value:function(){var t=this;this.$store.subscribe((function(e,n){switch(e.type){case"setNote":case"newNote":case"delNote":case"updateNote":t.list=t.sortedList(t.notes)}})),this.$watch("sortListAscending",(function(){t.list=t.sortedList(t.notes)})),document.addEventListener("mousedown",this.mouseDown),this.$on("ct-mouseenter",(function(e){return t.mouseenter(e)})),this.$on("ct-mouseleave",(function(e){return t.mouseleave(e)})),this.list=this.sortedList(this.notes)}},{key:"destroyed",value:function(){document.removeEventListener("mousedown",this.mouseDown)}},{key:"showSettings",value:function(){this.$root.$emit("modal-show",{header:"Settings",body:_e})}},{key:"mouseDown",value:function(t){var e=t.target;e&&e instanceof Element&&this.activeContext&&(this.activeContext.$el.isEqualNode(e)||this.activeContext.$el.isEqualNode(e.closest(".v-context"))||this.closeContext())}},{key:"triggerContext",value:function(t,e){this.activeContext&&this.activeContext.close();var n=this.$refs["contextMenu".concat(e)][0];n?(n.open(t),this.activeContext=n):console.warn("unknown context at ".concat(e))}},{key:"download",value:function(t){var e=this.$store.state.notes[t];V.saveFile(JSON.stringify(e),"".concat(e.name,".onote"),"application/json")}},{key:"exportNotes",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={},n=Object.keys(this.notes).map((function(t){return{name:r.notes[t].name,text:JSON.stringify(r.notes[t])}})).map((function(t,n,r){return e[t.name]||(e[t.name]=0),{name:1===r.filter((function(e){return e.name===t.name})).length?t.name:"".concat(t.name).concat(e[t.name]++>0?" (".concat(e[t.name]-1,")"):""),text:t.text}})).map((function(t){var e=t.name,n=t.text;return{name:"".concat(e,".onote"),text:n}})),t.next=4,V.zipFilesAndDownload("OpenNote Export.zip",n);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"closeContext",value:function(){this.activeContext&&(this.activeContext.close(),this.activeContext=null)}},{key:"setTitle",value:function(t){var e=t.target,n=V.Dom.getCaretPosition(e),r=e.innerText.split("\n").join(""),o=e.getAttribute("data-id");e.innerText=r,this.$store.commit("updateNote",{id:o,name:r}),this.$nextTick((function(){V.Dom.setCurrentCursorPosition(n,e)}))}},{key:"mouseenter",value:function(t){var e=0;if(this.tooltip&&!(document.body.clientWidth<=500)){var n=t.target.getAttribute("data-tooltip"),r=t.target.getAttribute("data-placement")||"bottom";if(n){var o=document.createTextNode(n),a=new MutationObserver((function(e){o.textContent=t.target.getAttribute("data-tooltip")}));a.observe(t.target,{attributes:!0,attributeFilter:["data-tooltip"],childList:!1,characterData:!1}),this.tooltip.show(t.target,o,{placement:r});var s=Array.from(document.querySelectorAll(".ct.ct--bottom"));s.forEach((function(t){t.style.left="".concat((parseInt(t.style.left.split("px")[0])||0)+e,"px")}))}}}},{key:"mouseleave",value:function(t){this.tooltip&&this.tooltip.hide()}},{key:"selectNote",value:function(t){this.currentNote!==t&&(this.$store.commit("setNote",t),document.activeElement&&document.activeElement.getAttribute("data-id")===t||document.body.clientWidth<=500&&!this.navCollapse&&(this.navCollapse=!0))}},{key:"newNote",value:function(){this.$store.dispatch("newNote")}},{key:"delNote",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentNote;if(this.canDelete){var n=this.nextNote,r=function(){t.$store.commit("delNote",e),t.$store.commit("setNote",n.id)};this.notes[e].data&&0!==this.notes[e].data.blocks.length?this.$root.$emit("modal-show",{header:"Delete Note?",body:"Deleting a note is permanent, it cannot be restored unless you have a backup.",footer:D,footerOptions:{cancel:function(){t.$root.$emit("modal-close")},confirm:function(){r(),t.$root.$emit("modal-close")},confirmText:"Delete Note",cancelText:"Keep Note",confirmStyle:"danger"}}):r()}}},{key:"importNote",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){var e,n,r,o,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V.getFilesAsString();case 3:e=t.sent,e.forEach((function(t){return a.$store.dispatch("newNote",JSON.parse(t))})),t.next=13;break;case 7:if(t.prev=7,t.t0=t["catch"](0),!(t.t0 instanceof V.DisplayableError)){t.next=13;break}return n=t.t0.options,r=n.message,o=n.title,t.next=13,this.$root.$emit("modal-show",{header:o,body:r,footer:D,footerOptions:{hasCancel:!1,confirm:function(){return a.$root.$emit("modal-close")},confirmText:"OK",confirmStyle:"primary"}});case 13:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"sortedList",value:function(t){var e=this;this.canDelete=Object.keys(this.$store.state.notes).length>1;var n=Object.keys(this.notes).map((function(t){return Object(Z["a"])({id:t},e.notes[t])}));return n.sort((function(t,n){var r=t.data&&t.data.time||t.created,o=n.data&&n.data.time||n.created;return e.sortListAscending?r-o:o-r})).map((function(t){var e=t.id,n=t.name,r=t.created,o=t.data;return{id:e,name:n,timestamp:et()(o&&o.time||r).calendar()}}))}},{key:"navCollapse",get:function(){return null===this.overrides.navCollapse?!this.$store.state.preferences.hideEditorByDefaultOnMobile:this.overrides.navCollapse},set:function(t){this.overrides.navCollapse=t}},{key:"version",get:function(){return"1.1.2"}},{key:"currentNote",get:function(){return this.$store.state.currentNote}},{key:"notes",get:function(){return this.$store.state.notes}},{key:"tooltip",get:function(){return this.$root.$children[0].tooltip}},{key:"prevNote",get:function(){var t=this,e=this.sortedList(this.notes);return e[e.findIndex((function(e){return e.id===t.currentNote}))-1]}},{key:"nextNote",get:function(){var t=this,e=this.sortedList(this.notes);return e[e.findIndex((function(e){return e.id===t.currentNote}))+1]}}]),e}(h["c"]);Me=d["a"]([Object(h["a"])({components:{VueContext:$e,UploadSVG:nt,Editor:ye,TrashSVG:Dt,SettingsSVG:we}})],Me);var Se=Me,Ne=Se,Be=(n("21bb"),Object(b["a"])(Ne,X,Y,!1,null,null,null)),Te=Be.exports;r["a"].use(K["a"]);var De=[{path:"/",name:"home",component:Te}],Pe=new K["a"]({mode:"history",base:"/",routes:De}),Ie=Pe,Re=(n("4d63"),n("466d"),n("2f62")),Fe=n("bfa9"),Ae=new Fe["a"]({storage:window.localStorage});function ze(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)}))}r["a"].use(Re["a"]);var Ve="Untitled Note",Ge=new Re["a"].Store({state:{currentNote:ze(),notes:{},preferences:{showLabels:!0,showToolbox:!0,hideEditorByDefaultOnMobile:!0,sawFirstRun:!1,preferredColorScheme:null,defaultNoteName:Ve,defaultTrigState:"rad"}},mutations:{setNote:function(t,e){t.currentNote=e},newNote:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.id,r=e.data,o=e.name,a=e.created;o=o||t.preferences.defaultNoteName;var s=new RegExp(o),i=new RegExp(/(?:\s\((\d+)\))?/),c=new RegExp("^"+s.source+i.source+"$"),l=Object.values(t.notes).map((function(t){return t.name.match(c)})).filter((function(t){return!!t}));if(l.length>0){var u=l.map((function(t){var e=Object(ft["a"])(t,2),n=e[1];return parseInt(n||"0")})).sort((function(t,e){return e-t})),d=Object(ft["a"])(u,1),h=d[0],f=h+1;o="".concat(o," (").concat(f,")")}t.notes[n]={data:r,name:o,created:a||Date.now()}},delNote:function(t,e){var n=Object.keys(t.notes);n.indexOf(e);delete t.notes[e]},updateNote:function(t,e){var n=e.data,o=e.id,a=e.name,s=t.notes[o]||(t.notes[o]={});r["a"].set(s,"data",n||s.data),r["a"].set(s,"name",a||s.name||Ve)},setPreference:function(t,e){var n=e.name,r=e.value;t.preferences[n]=r}},actions:{newNote:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.data,r=e.name,o=e.created,a=ze();while(t.state.notes[a])a=ze();return t.commit("newNote",{id:a,data:n,name:r,created:o}),t.commit("setNote",a),a}},getters:{preferredColorScheme:function(t){return t.preferences.preferredColorScheme},currentNote:function(t){return t.notes[t.currentNote]},currentNoteName:function(t,e){return e.currentNote.name}},modules:{},plugins:[Ae.plugin]}),qe=n("1157"),We=qe;window.$=We;var He=n("9c6e");window.AlgebraWorker=new He,r["a"].use(n("e49d")),r["a"].config.productionTip=!1,window.MathQuill=MathQuill.getInterface(1),new r["a"]({router:Ie,store:Ge,render:function(t){return t(Q)}}).$mount("#app")},d382:function(t,e,n){"use strict";var r=n("c08c"),o=n.n(r);o.a},e9d1:function(t,e,n){},f08e:function(t,e,n){},fdf0:function(t,e,n){"use strict";var r=n("34d9"),o=n.n(r);o.a}});
//# sourceMappingURL=app.ee17d8e5.js.map