{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Onboarding.vue?b33a","webpack:///./src/views/Home.vue?6fe7","webpack:///./src/mathquill-patches.ts","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/Editor.vue?6d93","webpack:///./src/App.vue?f446","webpack:///./src/polyfills.ts","webpack:///./src/components/DecisionButtons.vue?2f73","webpack:///./src/algebra.worker.ts","webpack:///./src/App.vue?d6fc","webpack:///./src/components/ElementHost.vue?1a3e","webpack:///./src/components/ElementHost.vue?f41c","webpack:///./src/components/ElementHost.vue?0588","webpack:///./src/components/ElementHost.vue","webpack:///./src/components/Onboarding.vue?8b33","webpack:///./src/components/Onboarding.vue?c9de","webpack:///./src/components/Onboarding.vue?2fdf","webpack:///./src/components/Onboarding.vue","webpack:///./src/components/DecisionButtons.vue?6e2b","webpack:///./src/components/DecisionButtons.vue?47b7","webpack:///./src/util.ts","webpack:///./src/components/DecisionButtons.vue?9259","webpack:///./src/components/DecisionButtons.vue","webpack:///./src/App.vue?ec60","webpack:///./src/App.vue?640d","webpack:///./src/App.vue","webpack:///./src/registerServiceWorker.ts","webpack:///./src/views/Home.vue?3992","webpack:///./src/assets/upload.svg","webpack:///./src/components/Editor.vue?e7cf","webpack:///./src/tools/MQVueTool.ts","webpack:///./src/components/MathQuillComponent.vue?8a3f","webpack:///./src/assets/frac.svg","webpack:///./src/assets/decimal.svg","webpack:///./src/assets/graph.svg","webpack:///./src/assets/fullscreen.svg","webpack:///./src/components/MathQuillComponent.vue?f5b5","webpack:///./src/components/MathQuillComponent.vue?6661","webpack:///./src/components/MathQuillComponent.vue","webpack:///./src/assets/trash.svg","webpack:///./src/assets/tool.svg","webpack:///./src/editorjs-patches.ts","webpack:///./src/components/Editor.vue?f7ed","webpack:///./src/components/Editor.vue?87f9","webpack:///./src/components/Editor.vue","webpack:///./src/assets/settings.svg","webpack:///./src/components/Settings.vue?9a52","webpack:///./src/components/Settings.vue?c732","webpack:///./src/components/Settings.vue?c5f7","webpack:///./src/components/Settings.vue","webpack:///./src/views/Home.vue?42b8","webpack:///./src/views/Home.vue?102e","webpack:///./src/views/Home.vue","webpack:///./src/router/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts","webpack:///./src/components/Settings.vue?0802","webpack:///./src/components/MathQuillComponent.vue?ccc7"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","MathQuillAPI","LatexCmds","MathQuill","L","R","integral","latex","simplify","this","ctrlSeq","ends","superscript","subscript","prefix","block","sub","sup","summation","__proto__","map","webpackContext","req","id","webpackContextResolve","code","keys","MouseEvent","MouseEventPolyfill","eventType","params","bubbles","cancelable","mouseEvent","createEvent","initMouseEvent","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","Event","Worker","_vm","_h","$createElement","_c","_self","attrs","firstRun","_e","modalOptions","ref","staticClass","class","concat","customClasses","closable","on","closeModal","_v","isNode","header","_s","_b","tag","headerOptions","body","bodyOptions","footer","footerOptions","staticRenderFns","$refs","mount","replaceWith","element","component","_m","$root","$emit","confirmStyle","confirm","confirmText","cancel","cancelText","default","_","_mediaRules","originalMedia","DisplayableError","options","saveFile","blob","Blob","view","detail","a","download","href","URL","createObjectURL","dataset","downloadurl","join","dispatchEvent","getFiles","input","accept","multiple","addEventListener","ev","files","Array","from","file","endsWith","title","reader","FileReader","readAsArrayBuffer","click","getFilesAsString","then","decoder","TextDecoder","decode","registerDevModule","assign","filterObject","obj","filter","k","reduce","zipFilesAndDownload","zipName","zip","forEach","text","generateAsync","content","saveAs","computeMediaRules","styleSheets","rules","media","mediaText","includes","mediaRules","ensureDefaults","resetPreferredColorScheme","rule","index","setPreferredColorScheme","deleteMedium","appendMedium","Dom","getCaretPosition","_range","getSelection","getRangeAt","range","cloneRange","selectNodeContents","setEnd","endContainer","endOffset","pos","toString","createRange","node","chars","selectNode","setStart","count","nodeType","Node","TEXT_NODE","textContent","lp","childNodes","setCurrentCursorPosition","selection","collapse","removeAllRanges","addRange","MathKit","inputFunctions","outputFunctions","patchFunctions","math","functions","state","mutator","acc","cur","original","fnNumber","typed","x","patchInputFunctions","fn","Math","PI","patchOutputFunctions","loadPatchedMathFunctions","replacements","import","override","mergeObject","thisArg","prop","set","tooltip","onclick","clickListener","$on","showModal","$store","watch","getters","preferredColorScheme","newValue","oldValue","preferences","sawFirstRun","DecisionButtons","commit","hasCancel","ELEMENT_NODE","removeEventListener","modalRoot","classList","contains","inside","modal","modalReady","debug","components","ElementHost","ready","log","registered","cached","updatefound","updated","offline","navCollapse","mouseenter","mouseleave","$event","sortListAscending","domProps","importNote","newNote","_l","idx","timestamp","active","currentNote","style","display","preventDefault","triggerContext","selectNote","refInFor","setTitle","canDelete","delNote","showSettings","exportNotes","functional","children","classNames","staticStyle","rest","exporter","noteID","showRibbon","showLabels","switchTool","icon","toolDrawers","openDrawers","toggleDrawer","sliderItemKey","toolboxData","toolForVueComponent","Component","toolbox","pasteConfig","config","pendingPasteEvent","parent","Editor","editor","VueEditor","propsData","savedData","api","$mount","moduleInstances","Caret","setToBlock","BlockManager","insert","showToolbar","Toolbar","plusButton","show","hide","navigateNext","navigatePrevious","cb","blocks","tool","blockIndex","currentBlock","currentBlockIndex","isEmpty","Events","once","ignoreBackspace","isAtStart","isAtEnd","save","sanitize","render","renderSettings","$once","root","$destroy","$el","open","highlightCurrentNode","indexOf","directives","rawName","expression","isFocused","bigPopout","focused","unfocused","resultFn","renderFormat","toggleRenderFormat","toggleGraph","showGraph","graphFailed","defaultXBounds","toFixed","domainOverrideChanged","xDomain","yBoundsWithOverrides","yDomain","defaultStep","stepOverrideChanged","step","mathjs","attachProto","proto","objKeys","nerdamer","PASTE_DATA_TAG","functionsFromContext","context","values","g","syntax","substring","variablesFromContext","uuidv4","replace","random","v","ignoredElements","pending","onmessage","nonce","flags","runAlgebraOnWorker","worker","AlgebraWorker","variables","postMessage","evaluate","lastScope","chart","trigState","settingsButtons","flaggedForDeletion","oldWidth","mathCache","Map","NaN","calcCache","args","width","height","updateGraph","mathJS","trigStateWithOverrides","registerWithGarbageMan","mathField","MathField","mqMount","handlers","edit","field","updateQuills","upOutOf","downOutOf","moveOutOf","dir","enter","autoCommands","resultView","StaticMath","mqResult","write","mqRootBlock","firstElementChild","lastElementChild","tags","holder","selector","add","styles","settingsButton","settingsButtonActive","innerText","toUpperCase","reflow","getAttribute","Boolean","el","parentElement","$watch","updateResultView","removeGraph","toggle","clear","deregisterWithGarbageMan","token","scopeToken","has","resolveCachedLatex","parsed","parse","response","cacheLatex","isActive","clearVars","scope","calc","remove","xMin","xMax","stepWithOverride","sort","b","domain","minMax","rawValue","parseFloat","keyPath","previousBound","isNaN","trim","$nextTick","lastStep","xBoundsWithOverrides","low","high","abs","plot","computedBounds","graph","tip","xLine","yLine","renderer","y","nSamples","sampler","graphType","grid","xAxis","yAxis","clientWidth","getComputedStyle","split","warn","fixChart","d3","select","selectAll","canvas","_content","cachedResult","resolveCachedCalc","compiled","compile","mathStr","cacheCalc","noVarSubInPostProcessing","symbols","isSymbolNode","round","fraction","frac","oldResult","toTeX","toTex","toLatex","defaultTrigState","querySelector","JSON","stringify","some","bounds","minMaxOfFn","interval","lifetime","garbageTimer","setInterval","garbageClients","client","tokens","Date","now","flaggedAt","delete","FractionSVG","DecimalSVG","GraphSVG","FullscreenSVG","startGarbageWatcher","List","CheckList","janitor","Code","Raw","Paragraph","Table","hook","lib","meth","replacement","oldMeth","newMeth","hookGet","oldGet","getOwnPropertyDescriptor","newGet","hookSet","oldSet","newSet","newVal","loadClipboardPatches","core","constructor","Sanitizer","Paste","BlockSelection","createHTMLJanitorInstance","janet","blockElements","configuration","inlineElements","specialElements","inline","str","keepNestedBlockElements","hasSpecial","nodeName","toLowerCase","childs","child","copyTextToClipboard","className","execCommand","removeChild","old","sandbox","implementation","createHTMLDocument","host","innerHTML","wrapper","make","specials","specialTexts","createTextNode","replaceChild","eventForIndex","specialIndex","isBlock","toolsTags","tagName","composePasteEvent","newResults","details","HTMLElement","contents","parseInt","fakeClipboard","selectedBlocks","cleanHTML","clean","sanitizerConfig","fragment","elements","loadToolPatches","currentSuggested","UI","defaultPrevented","caret","getCurrentBlockIndex","oldStopPropogation","stopPropagation","propogationStopped","insertNewBlock","BlocksAPI","shouldInsert","_elements","items","needsFocus","positions","END","onTab","_suggestions","selectedSuggestion","oldSuggestion","suggestions","suggestion","teardownSuggestions","selectSuggestion","selected","composeBlock","currentIndex","_blocks","onEnter","removed","Listeners","redrawSuggestions","nodes","scrollTop","scrollHeight","requestAnimationFrame","_element","command","tools","Tools","blockTools","possible","startsWith","find","elm","suggestionContainer","position","left","getClientRects","getPxStyle","offset","top","getBoundingClientRect","scrollY","wantsCompletion","empty","removeBlock","previousBlock","_tableConstructor","_TableConstructor","_Table","_table","deleteRow","_numberOfRows","deleteColumn","_numberOfColumns","rows","columns","deleteCell","_deleteRow","_deleteColumn","loadBlockPatches","Block","initialBlock","methodName","Function","hasAncestor","ancestor","isEqualNode","parentNode","loadBlockEventPatches","BlockEvents","ancestorHasClass","clearSelection","shouldHandoffTabEvent","focusNode","direction","keyCode","keyOverrides","customEnter","shouldHandoffEnterEvent","anyBlockSelected","emit","loadCaretPatches","CaretProto","blockSaysAtStart","blockSaysAtEnd","loadBlockManagerPatches","paste","toolName","pasteEvent","first","second","firstBlock","secondBlock","updateHandler","blockIndexDidChange","loadUsabilityPatches","Toolbox","$","RectangleSelection","Selection","Tooltip","hasTouch","documentElement","navigator","maxTouchPoints","msMaxTouchPoints","isNativeInput","readyToBlockSelection","workingBlock","getBlock","needToSelectAll","lastBlock","touchMoving","forceClose","close","BlockSettings","collapsed","isCollapsed","move","skipCurrentBlock","clearFocused","patchEditorJS","Checklist","Delimiter","Embed","Header","InlineCode","Marker","Quote","SimpleImage","Warning","lastIndex","hasChanges","overrides","paragraph","notes","dispatch","unloadListener","drawer","newID","oldID","cachedData","note","renderData","subscribe","mutation","createEditor","clearInterval","$parent","quill","send","$children","getModule","methods","redactor","observer","MutationObserver","quills","q","observe","attributes","attributeFilter","childList","characterData","destroy","mountPoint","checklist","delimiter","embed","inlineCode","list","inlineToolbar","marker","shortcut","quote","image","table","warning","logLevel","isReady","editorLoaded","showToolbox","val","toolsClasses","notInMainToolbox","UploadSVG","TrashSVG","ToolSVG","activePane","pane","openSourcePage","description","choice","choiceIndex","controls","_q","$set","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","composing","panes","fields","update","hideEditorByDefaultOnMobile","defaultNoteName","backButton","VueContext","sortedList","mouseDown","Element","activeContext","closest","closeContext","repeats","serialized","f","leftOffset","placement","tooltipContainers","querySelectorAll","tooltipContainer","activeElement","nextNote","completion","flatNotes","aTime","time","created","bTime","calendar","findIndex","SettingsSVG","use","routes","path","router","base","vuexLocal","storage","localStorage","NEW_NOTE_NAME","Store","mutations","setNote","noteName","RegExp","quantifier","merged","source","clashingNotes","match","previousMax","nextNumber","ids","updateNote","setPreference","actions","currentNoteName","plugins","plugin","jQuery","productionTip","getInterface","store","h"],"mappings":"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UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,gBAAiB,OACjB,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OA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","file":"js/app.fa9ecf5e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-265e34ea\":\"2510ce63\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Onboarding.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Onboarding.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=scss&\"","interface MathQuillAPI {\n    LatexCmds: {\n        integral: {\n            prototype: {\n                latex: Function;\n            }\n        },\n        superscript: {\n            prototype: {\n                latex: Function;\n            }\n        },\n        subscript: {\n            prototype: {\n                latex: Function;\n            }\n        },\n        summation(): {\n            __proto__: {\n                latex: Function\n            }\n        }\n    }\n}\n\ndeclare const MathQuillAPI: MathQuillAPI;\n\nconst { LatexCmds } = MathQuillAPI;\nconst { L, R } = MathQuill;\n\nLatexCmds.integral.prototype.latex = function(this: any) {\n    function simplify(latex: string) {\n      return '{' + (latex || ' ') + '}';\n    }\n    return this.ctrlSeq + '_' + simplify(this.ends[L].latex()) +\n      '^' + simplify(this.ends[R].latex());\n}\n\nLatexCmds.superscript.prototype.latex = LatexCmds.subscript.prototype.latex = function(this: any) {\n    function latex(prefix: string, block: {latex(): string}) {\n        var l = block && block.latex();\n        return block ? prefix + '{' + (l || ' ') + '}' : '';\n    }\n    return latex('_', this.sub) + latex('^', this.sup);\n}\n\nLatexCmds.summation().__proto__.latex = function(this: any) {\n    function simplify(latex: string) {\n        return '{' + (latex || ' ') + '}';\n    }\n    return this.ctrlSeq + '_' + simplify(this.ends[L].latex()) +\n    '^' + simplify(this.ends[R].latex());\n}","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-SG\": \"cdab\",\n\t\"./en-SG.js\": \"cdab\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","require('fastestsmallesttextencoderdecoder');\n\n(function (window) {\n    try {\n      new MouseEvent('test');\n      return false; // No need to polyfill\n    } catch (e) {\n          // Need to polyfill - fall through\n    }\n  \n      // Polyfills DOM4 MouseEvent\n      var MouseEventPolyfill = function (eventType: any, params: any) {\n          params = params || { bubbles: false, cancelable: false };\n          var mouseEvent = document.createEvent('MouseEvent');\n          mouseEvent.initMouseEvent(eventType, \n              params.bubbles,\n              params.cancelable,\n              window,\n              0,\n              params.screenX || 0,\n              params.screenY || 0,\n              params.clientX || 0,\n              params.clientY || 0,\n              params.ctrlKey || false,\n              params.altKey || false,\n              params.shiftKey || false,\n              params.metaKey || false,\n              params.button || 0,\n              params.relatedTarget || null\n          );\n  \n          return mouseEvent;\n      }\n  \n      MouseEventPolyfill.prototype = Event.prototype;\n  \n      (window as any).MouseEvent = MouseEventPolyfill as any;\n  })(window);","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DecisionButtons.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DecisionButtons.vue?vue&type=style&index=0&lang=scss&\"","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"49dd008d384cf2bbc3c8.worker.js\");\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(!_vm.firstRun)?_c('router-view'):_vm._e(),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.modalOptions !== null)?_c('div',{ref:\"modalRoot\",staticClass:\"modal-root\"},[_c('div',{ref:\"modal\",class:['modal' ].concat( (_vm.modalOptions.customClasses || []))},[(_vm.modalOptions.closable !== false)?_c('div',{staticClass:\"modal-close\",on:{\"click\":_vm.closeModal}},[_vm._v(\"×\")]):_vm._e(),(_vm.isNode(_vm.modalOptions.header))?_c('element-host',{attrs:{\"element\":_vm.modalOptions.header}}):_c('div',{staticClass:\"modal-header\"},[(_vm.modalOptions.header && typeof _vm.modalOptions.header === 'string')?_c('h1',[_vm._v(_vm._s(_vm.modalOptions.header))]):(_vm.modalOptions.header && typeof _vm.modalOptions.header === 'function')?_c(_vm.modalOptions.header,_vm._b({tag:\"component\"},'component',_vm.modalOptions.headerOptions,false)):_vm._e()],1),(typeof _vm.modalOptions.body === 'string')?_c('div',{staticClass:\"modal-body\"},[_vm._v(\" \"+_vm._s(_vm.modalOptions.body)+\" \")]):_c(_vm.modalOptions.body,_vm._b({tag:\"component\",staticClass:\"modal-body\"},'component',_vm.modalOptions.bodyOptions,false)),(typeof _vm.modalOptions.footer === 'string')?_c('div',{staticClass:\"modal-footer\"},[_vm._v(_vm._s(_vm.modalOptions.footer))]):(_vm.modalOptions.footer && typeof _vm.modalOptions.footer === 'function')?_c(_vm.modalOptions.footer,_vm._b({tag:\"component\",staticClass:\"modal-footer\"},'component',_vm.modalOptions.footerOptions,false)):_vm._e()],1)]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"mount\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport { Component, Vue, Prop } from \"vue-property-decorator\";\n\n@Component\nexport default class ElementHost extends Vue {\n    @Prop()\n    element: Node;\n\n    $refs: {\n        mount: HTMLDivElement;\n    };\n\n    mounted() {\n        this.$refs.mount.replaceWith(this.element);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementHost.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementHost.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementHost.vue?vue&type=template&id=8723201a&\"\nimport script from \"./ElementHost.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementHost.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"onboarding-view\"},[_c('h2',[_vm._v(\"Welcome to OpenNote.\")]),_c('p',[_vm._v(\"OpenNote can:\")]),_c('ul',[_c('li',[_vm._v(\"Solve algebraic expressions\")]),_c('li',[_vm._v(\"Take rich notes with intuitive keyboard shortcuts\")]),_c('li',[_vm._v(\"React to your dark mode preferences\")]),_c('li',[_vm._v(\"Easily export and import your notes\")]),_c('li',[_c('i',[_vm._v(\"and so much more\")])])]),_c('h3',[_vm._v(\"Ready to play?\")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\n\n@Component\nexport default class Onboarding extends Vue {\n    mounted() {\n        this.$root.$emit('modal-patch', { customClasses: ['modal-onboarding', 'modal-fullscreen'] })\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Onboarding.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Onboarding.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Onboarding.vue?vue&type=template&id=4e587907&\"\nimport script from \"./Onboarding.vue?vue&type=script&lang=ts&\"\nexport * from \"./Onboarding.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Onboarding.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"controls\"},[_c('div',{class:['control', (\"control-\" + _vm.confirmStyle)],on:{\"click\":_vm.confirm}},[_vm._v(\" \"+_vm._s(_vm.confirmText)+\" \")]),(_vm.hasCancel)?_c('div',{staticClass:\"control control-neutral\",on:{\"click\":_vm.cancel}},[_vm._v(\" \"+_vm._s(_vm.cancelText)+\" \")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop } from \"vue-property-decorator\";\n\n@Component\nexport default class ConfirmationModal extends Vue {\n    @Prop()\n    cancel: () => any;\n\n    @Prop()\n    confirm: () => any;\n\n    @Prop({ default: true })\n    hasCancel: boolean;\n\n    @Prop({ default: 'Cancel' })\n    confirmText: string;\n\n    @Prop({ default: 'Confirm' })\n    cancelText: string;\n\n    @Prop({ default: 'neutral' })\n    confirmStyle: string;\n}\n","import JSZip from \"jszip\";\nimport saver from \"file-saver\";\nimport * as mathjs from \"mathjs\";\n\nexport namespace _ {\n    interface DisplayableErrorOptions {\n        title?: string;\n        message: string;\n    }\n\n    export class DisplayableError extends Error {\n        constructor(message: string, public options: DisplayableErrorOptions) {\n            super(message);\n        }\n    }\n\n    /**\n     * Programatically saves a file to the browser\n     * @param data the data to save\n     * @param name name of file\n     * @param type MIME type\n     */\n    export function saveFile(data: any, name: string, type: string = 'text/plain') {\n        const blob = new Blob([data], { type });\n        const e = new MouseEvent('click', {\n            bubbles: true,\n            cancelable: true,\n            view: window,\n            detail: 0,\n            screenX: 0,\n            screenY: 0,\n            clientX: 0,\n            clientY: 0,\n            ctrlKey: false,\n            altKey: false,\n            shiftKey: false,\n            metaKey: false,\n            button: 0,\n            relatedTarget: null\n        });\n        const a = document.createElement('a');\n        a.download = name;\n        a.href = window.URL.createObjectURL(blob);\n        a.dataset.downloadurl = ['text/json', a.download, a.href].join(':');\n        a.dispatchEvent(e);\n    }\n\n    /**\n     * Prompts a user for a file and returns the raw data\n     */\n    export function getFiles(): Promise<ArrayBuffer[]> {\n        return new Promise((resolve, reject) => {\n            const input = document.createElement('input');\n            input.type = 'file';\n            input.accept = '.onote';\n            input.multiple = true;\n            input.addEventListener('change', function (ev) {\n                if (!this.files) return reject(new Error('missing files property'));\n                resolve(Promise.all(Array.from(this.files).map(file => {\n                    return new Promise((resolve, reject) => {\n                        if (!file.name.endsWith('.onote')) {\n                            return reject(new DisplayableError(`bad filename: ${file.name}`, {\n                                title: 'Unsupported File',\n                                message: `The file '${file.name}' is unsupported. Please upload .onote files only.`\n                            }));\n                        }\n                        const reader = new FileReader();\n                        reader.readAsArrayBuffer(file);\n                        reader.addEventListener('load', function () {\n                            resolve(this.result as ArrayBuffer);\n                        });\n                    }) as Promise<ArrayBuffer>;\n                })));\n            });\n            input.click();\n        });\n    }\n\n    /**\n     * Prompts a user for a file and decodes it to a string\n     */\n    export function getFilesAsString(): Promise<string[]> {\n        return getFiles().then(files => {\n            const decoder = new TextDecoder('utf-8');\n            return files.map(file => decoder.decode(file));\n        });\n    }\n\n    export function registerDevModule(data: any) {\n        Object.assign(window, data);\n    }\n\n    export function filterObject<T>(obj: T, filter: (key: string, value: any) => boolean): T {\n        return Object.keys(obj).filter(k => filter(k, (obj as any)[k])).reduce((a, c) => { a[c] = (obj as any)[c]; return a; }, {} as any);\n    }\n\n    export async function zipFilesAndDownload(zipName: string, files: Array<{ name: string, text: string }>): Promise<void> {\n        const zip = new JSZip();\n        files.forEach(({ name, text }) => zip.file(name, text));\n        const content = await zip.generateAsync({ type: \"blob\" });\n        await saver.saveAs(content, zipName);\n    }\n\n    let _mediaRules: MediaList[], originalMedia: string[];\n\n    function computeMediaRules() {\n        if (_mediaRules) return _mediaRules;\n        _mediaRules = Array.from(document.styleSheets).map((s) => {\n            try {\n                return Array.from((s as CSSStyleSheet).rules) as any as StyleSheet[];\n            } catch {\n                return null;\n            }\n        }).filter(s => !!s).map(s => s!.filter(r => (r as StyleSheet).media).map(r => r.media).filter(r => r.mediaText.includes(\"prefers-color-scheme\"))).reduce((a, c) => a.concat(c), []);\n        originalMedia = _mediaRules.map(r => r.mediaText);\n        return _mediaRules;\n    }\n\n    export function mediaRules() {\n        return _mediaRules || computeMediaRules();\n    }\n\n    export function ensureDefaults() {\n        if (!_mediaRules || !originalMedia) {\n            computeMediaRules();\n        }\n    }\n\n    export function resetPreferredColorScheme() {\n        mediaRules().forEach((rule, index) => {\n            rule.mediaText = originalMedia[index];\n        });\n    }\n\n    export function setPreferredColorScheme(mode: 'light' | 'dark') {\n        resetPreferredColorScheme();\n        mediaRules().forEach(rule => {\n            try {\n                switch (mode) {\n                    case \"light\":\n                        if (rule.mediaText.includes(\"light\")) rule.deleteMedium(\"(prefers-color-scheme: light)\");\n                        if (rule.mediaText.includes(\"dark\")) rule.deleteMedium(\"(prefers-color-scheme: dark)\");\n                        break;\n                    case \"dark\":\n                        if (rule.mediaText.includes(\"light\") && !rule.mediaText.includes(\"dark\")) {\n                            // dark code, fucking kill it\n                            rule.deleteMedium(\"(prefers-color-scheme: light)\");\n                            rule.appendMedium(\"speechsexyt\");\n                        }\n                        if (rule.mediaText.includes(\"dark\") && !rule.mediaText.includes(\"light\")) {\n                            rule.deleteMedium(\"(prefers-color-scheme: dark)\");\n                        }\n                        break;\n                }\n            } catch (e) {\n                return;\n            }\n        });\n    }\n\n    export namespace Dom {\n        export function getCaretPosition(target: HTMLElement) {\n            let _range = document.getSelection()!.getRangeAt(0);\n            let range = _range.cloneRange();\n            range.selectNodeContents(target);\n            range.setEnd(_range.endContainer, _range.endOffset);\n            const pos = range.toString().length;\n            return pos;\n        }\n\n        function createRange(\n            node: Node,\n            chars: { count: number },\n            range?: Range\n        ): Range {\n            if (!range) {\n                range = document.createRange();\n                range.selectNode(node);\n                range.setStart(node, 0);\n            }\n\n            if (chars.count === 0) {\n                range.setEnd(node, chars.count);\n            } else if (node && chars.count > 0) {\n                if (node.nodeType === Node.TEXT_NODE) {\n                    if (node.textContent!.length < chars.count) {\n                        chars.count -= node.textContent!.length;\n                    } else {\n                        range.setEnd(node, chars.count);\n                        chars.count = 0;\n                    }\n                } else {\n                    for (var lp = 0; lp < node.childNodes.length; lp++) {\n                        range = createRange(node.childNodes[lp], chars, range);\n\n                        if (chars.count === 0) {\n                            break;\n                        }\n                    }\n                }\n            }\n\n            return range;\n        }\n\n        export function setCurrentCursorPosition(index: number, node: Node) {\n            if (index >= 0) {\n                const selection = window.getSelection()!;\n\n                const range = createRange(node, { count: index });\n\n                if (range) {\n                    range.collapse(false);\n                    selection.removeAllRanges();\n                    selection.addRange(range);\n                }\n            }\n        }\n    }\n\n    export namespace MathKit {\n        const inputFunctions = ['sin', 'cos', 'tan', 'sec', 'cot', 'csc'];\n        const outputFunctions = ['asin', 'acos', 'atan', 'atan2', 'acot', 'acsc', 'asec'];\n\n        function patchFunctions(math: mathjs.MathJsStatic, functions: string[], state: () => string, mutator: (fn: (x: number) => number) => (x: number) => number) {\n            return functions.reduce((acc: any, cur) => {\n                const original = math[cur as keyof typeof math];\n\n                const fnNumber = mutator(original);\n\n                acc[cur] = math.typed(cur, {\n                    'number': fnNumber,\n                    'Array | Matrix': x => math.map(x, fnNumber)\n                });\n\n                return acc;\n            }, {});\n        }\n\n        function patchInputFunctions(math: mathjs.MathJsStatic, state: () => TrigState) {\n            return patchFunctions(math, inputFunctions, state, fn => function (x: number) {\n                // convert from configured type of angles to radians\n                switch (state()) {\n                    case 'deg':\n                        return fn(x / 360 * 2 * Math.PI);\n                    case 'grad':\n                        return fn(x / 400 * 2 * Math.PI);\n                    default:\n                        return fn(x);\n                }\n            });\n        }\n\n        function patchOutputFunctions(math: mathjs.MathJsStatic, state: () => TrigState) {\n            return patchFunctions(math, outputFunctions, state, fn => function (x) {\n                const result = fn(x)\n\n                if (typeof result === 'number') {\n                    // convert to radians to configured type of angles\n                    switch (state()) {\n                        case 'deg': return result / 2 / Math.PI * 360\n                        case 'grad': return result / 2 / Math.PI * 400\n                        default: return result\n                    }\n                }\n\n                return result\n            });\n        }\n\n        /**\n         * Implements patched trig functions that are configurable for deg/grad/rad\n         * @param math mathjs instance\n         * @param state function that returns the current output statae\n         */\n        export function loadPatchedMathFunctions(math: mathjs.MathJsStatic, state: () => TrigState) {\n            const replacements = Object.assign({}, patchInputFunctions(math, state), patchOutputFunctions(math, state));\n            math.import(replacements, { override: true });\n\n            return math;\n        }\n\n        export type TrigState = 'deg' | 'grad' | 'rad';\n    }\n}\n\nexport default _;","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DecisionButtons.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DecisionButtons.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DecisionButtons.vue?vue&type=template&id=01ca5886&\"\nimport script from \"./DecisionButtons.vue?vue&type=script&lang=ts&\"\nexport * from \"./DecisionButtons.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DecisionButtons.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { Tooltip } from \"@editorjs/editorjs/types/api\";\nimport { VueConstructor } from \"vue\";\nimport ElementHost from \"@/components/ElementHost.vue\";\nimport Onboarding from './components/Onboarding.vue';\nimport DecisionButtons from \"@/components/DecisionButtons.vue\";\nimport _ from './util';\n\nexport interface ModalOptions {\n  header?: string | VueConstructor | HTMLElement;\n  headerOptions?: any;\n  footer?: string | VueConstructor;\n  footerOptions?: any;\n  body: string | VueConstructor;\n  bodyOptions?: any;\n  customClasses?: string[];\n  closable?: boolean;\n}\n\nfunction mergeObject(thisArg: any, prop: string, obj: any) {\n  Object.keys(obj).forEach(k => Vue.set(thisArg[prop], k, obj[k]));\n}\n\n@Component({\n  components: {\n    ElementHost\n  }\n})\nexport default class App extends Vue {\n  tooltip: Tooltip = null as any;\n  modalOptions: ModalOptions | null = null;\n  onclick = (e: MouseEvent) => this.clickListener(e);\n\n  $refs: {\n    modal: HTMLDivElement;\n    modalRoot: HTMLDivElement;\n  };\n\n  get firstRun() {\n    return !this.$store.state.preferences.sawFirstRun;\n  }\n\n  mounted() {\n    this.$on(\"modal-show\", (options: ModalOptions) => this.showModal(options));\n    this.$on(\"modal-close\", () => this.closeModal());\n    this.$on(\"modal-patch\", (options: Partial<ModalOptions>) => mergeObject(this, 'modalOptions', options));\n\n    this.$root.$on(\"modal-show\", (options: ModalOptions) =>\n      this.$emit(\"modal-show\", options)\n    );\n    this.$root.$on(\"modal-close\", () => this.$emit(\"modal-close\"));\n    this.$root.$on(\"modal-patch\", (options: Partial<ModalOptions>) => this.$emit(\"modal-patch\", options));\n\n    document.addEventListener(\"click\", this.onclick);\n\n    this.$store.watch((state, getters) => getters.preferredColorScheme, (newValue: string, oldValue) => {\n      _.ensureDefaults();\n      switch (newValue) {\n        case 'light':\n        case 'dark':\n          _.setPreferredColorScheme(newValue);\n          break;\n        default:\n          _.resetPreferredColorScheme();\n      }\n    });\n\n    _.setPreferredColorScheme(this.$store.state.preferences.preferredColorScheme);\n\n    if (!this.$store.state.preferences.sawFirstRun) {\n      this.$root.$emit('modal-show', {\n        header: 'Hello',\n        body: Onboarding,\n        footer: DecisionButtons,\n        footerOptions: {\n          confirmText: \"Launch OpenNote\",\n          confirmStyle: \"primary\",\n          confirm: () => {\n            this.$store.commit('setPreference', { name: 'sawFirstRun', value: true });\n            this.$root.$emit('modal-close');\n          },\n          hasCancel: false\n        },\n        closable: false\n      } as ModalOptions);\n    }\n  }\n\n  isNode(obj: any) {\n    return obj && obj.nodeType === Node.ELEMENT_NODE;\n  }\n\n  destroyed() {\n    document.removeEventListener(\"click\", this.onclick);\n  }\n\n  modalReady(): boolean {\n    if (!this.$refs.modalRoot) return false;\n    return !this.$refs.modalRoot.classList.contains('fade-enter-active');\n  }\n\n  clickListener(e: MouseEvent) {\n    const inside =\n      this.$refs.modal &&\n      (this.$refs.modal === e.target ||\n        this.$refs.modal.contains(e.target as Node));\n    if (inside || !this.modalReady()) return;\n    this.closeModal();\n  }\n\n  showModal(options: ModalOptions) {\n    console.debug(\"showing modal with options\", {\n      options\n    });\n    this.modalOptions = options;\n  }\n\n  closeModal() {\n    if (!this.modalOptions) return;\n    console.debug(\"closing modal with options\", {\n      options: this.modalOptions\n    });\n    this.modalOptions = null;\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=e6c18b70&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready () {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered () {\n      console.log('Service worker has been registered.')\n    },\n    cached () {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound () {\n      console.log('New content is downloading.')\n    },\n    updated () {\n      console.log('New content is available; please refresh.')\n    },\n    offline () {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error (error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{'home': true, 'nav-collapse': _vm.navCollapse}},[_c('div',{staticClass:\"navigator\"},[_c('div',{staticClass:\"title\"},[_c('span',{staticClass:\"note-controls-left\"},[_c('span',{staticClass:\"control\",attrs:{\"data-tooltip\":\"Toggle Menu\",\"data-placement\":\"right\"},on:{\"mouseenter\":_vm.mouseenter,\"mouseleave\":_vm.mouseleave,\"click\":function($event){_vm.navCollapse = !_vm.navCollapse}}},[_vm._v(\" ☰ \")]),_c('span',{staticClass:\"control\",attrs:{\"data-tooltip\":(\"Sort \" + (_vm.sortListAscending ? 'Descending' : 'Ascending')),\"data-placement\":\"right\"},domProps:{\"innerHTML\":_vm._s(_vm.sortListAscending ? '&#8595;' : '&#8593;')},on:{\"mouseenter\":_vm.mouseenter,\"mouseleave\":_vm.mouseleave,\"click\":function($event){_vm.sortListAscending = !_vm.sortListAscending}}})]),_c('span',{staticClass:\"note-title\"},[_vm._v(\"Notes\")]),_c('span',{staticClass:\"note-controls\"},[_c('span',{staticClass:\"control control-success\",attrs:{\"data-tooltip\":\"Import Note\"},on:{\"mouseenter\":_vm.mouseenter,\"mouseleave\":_vm.mouseleave,\"click\":_vm.importNote}},[_c('UploadSVG',{attrs:{\"width\":\"12px\"}})],1),_c('span',{staticClass:\"control control-primary\",attrs:{\"data-tooltip\":\"New Note\"},on:{\"mouseenter\":_vm.mouseenter,\"mouseleave\":_vm.mouseleave,\"click\":_vm.newNote}},[_c('svg',{staticClass:\"icon icon--plus\",attrs:{\"width\":\"14px\",\"height\":\"14px\"}},[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#plus\"}})])])])]),_c('transition-group',{staticClass:\"navigator-contents\",attrs:{\"name\":\"list\",\"mode\":\"out-in\",\"tag\":\"div\"}},_vm._l((_vm.list),function(ref,idx){\nvar id = ref.id;\nvar name = ref.name;\nvar timestamp = ref.timestamp;\nreturn _c('div',{key:id,class:{'navigator-item': true, active: id === _vm.currentNote},style:({display: !name ? 'none' : 'flex'}),on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.triggerContext($event, idx)},\"click\":function($event){return _vm.selectNote(id)}}},[_c('span',{ref:(\"edit\" + id),refInFor:true,staticClass:\"item-title\",attrs:{\"contenteditable\":\"true\",\"data-id\":id},on:{\"input\":_vm.setTitle}},[_vm._v(_vm._s(name))]),_c('span',{staticClass:\"item-timestamp\"},[_vm._v(_vm._s(timestamp))])])}),0),_c('div',{staticClass:\"title\"},[_c('span',{staticClass:\"note-controls-left\"},[_c('span',{class:['labels-control labels-control-btn labels-control-btn-danger', _vm.canDelete ? '' : 'labels-control-btn-disabled'],on:{\"click\":function($event){return _vm.delNote(_vm.currentNote)}}},[_c('span',{staticClass:\"label-text\"},[_vm._v(\"Delete\")]),_c('TrashSVG',{staticClass:\"alt-icon\"})],1),_c('span',{staticClass:\"labels-control labels-control-btn\",attrs:{\"data-tooltip\":\"Settings\",\"data-placement\":\"top\"},on:{\"mouseenter\":_vm.mouseenter,\"mouseleave\":_vm.mouseleave,\"click\":function($event){return _vm.showSettings()}}},[_c('SettingsSVG')],1)]),_c('span',{staticClass:\"note-controls-right\"},[_c('span',{class:['labels-control labels-control-btn']},[_c('span',{staticClass:\"label-text no-kill\",on:{\"click\":_vm.exportNotes}},[_vm._v(\"Export All\")])])])])],1),_c('editor',{attrs:{\"show-burger\":_vm.navCollapse,\"exporter\":_vm.download,\"canDelete\":_vm.canDelete,\"deleter\":_vm.delNote},on:{\"burgerClick\":function($event){_vm.navCollapse = !_vm.navCollapse}}}),_vm._l((_vm.list),function(data,idx){return _c('vue-context',{key:idx,ref:(\"contextMenu\" + idx),refInFor:true},[_c('li',{on:{\"click\":function($event){return _vm.download(data.id)}}},[_vm._v(\"Export\")]),_c('li',{class:['ctx-danger', _vm.canDelete ? '' : 'ctx-danger-disabled'],on:{\"click\":function($event){return _vm.delNote(data.id)}}},[_vm._v(\"Delete\")])])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [{\"enable-background\":\"new 0 0 40.9 49.6\"},style,staticStyle],\n              attrs: Object.assign({\"version\":\"1.1\",\"id\":\"Layer_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 40.9 49.6\",\"style\":\"enable-background:new 0 0 40.9 49.6;\",\"xml:space\":\"preserve\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('g',{attrs:{\"id\":\"XMLID_5_\"}},[_c('path',{staticClass:\"st0\",attrs:{\"id\":\"XMLID_9_\",\"d\":\"M11.7,37.9h17.5V20.4h11.7L20.4,0L0,20.4h11.7V37.9z M0,43.8h40.8v5.8H0V43.8z\"}})])])\n          )\n        }\n      }\n    ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"editor-view\"},[(_vm.note)?_c('div',{staticClass:\"editor-meta-view\"},[_c('span',{staticClass:\"controls-left\"},[(_vm.showBurger)?_c('span',{staticClass:\"editor-burger\",on:{\"click\":function($event){return _vm.$emit('burgerClick')}}},[_vm._v(\" ☰ \")]):_vm._e(),_c('span',{staticClass:\"labels-control labels-control-btn\",on:{\"click\":function($event){return _vm.exporter(_vm.noteID)}}},[_c('span',{staticClass:\"label-text\"},[_vm._v(\"Export\")]),_c('UploadSVG',{staticClass:\"alt-icon icon-invert\"})],1)]),_c('span',{staticClass:\"note-name\"},[_vm._v(\" \"+_vm._s(_vm.name)+\" \")]),_c('span',{staticClass:\"controls-right\"},[_c('span',{class:{'labels-control': true, 'hiding-labels': !_vm.showRibbon},on:{\"click\":function($event){_vm.showRibbon = !_vm.showRibbon}}},[_c('span',{staticClass:\"label-text no-kill\"},[_vm._v(\"Toolbar\")])]),_c('span',{class:{'labels-control': true, 'hiding-labels': !_vm.showLabels},on:{\"click\":function($event){_vm.showLabels = !_vm.showLabels}}},[_c('span',{staticClass:\"label-text no-kill\"},[_vm._v(\"Labels\")])])])]):_vm._e(),(_vm.showRibbon)?_c('div',{staticClass:\"editor-ribbon-container\"},[_c('div',{staticClass:\"editor-ribbon\"},[_vm._l((_vm.topLevelToolboxData),function(value,key){return [_c('span',{key:key,class:{'ribbon-item': true, active: key === _vm.active},attrs:{\"data-tooltip\":_vm.showLabels ? '' : value.title},on:{\"mouseenter\":_vm.mouseenter,\"mouseleave\":_vm.mouseleave,\"click\":function($event){return _vm.switchTool(key)}}},[(_vm.showLabels)?_c('span',{staticClass:\"ribbon-text\"},[_vm._v(_vm._s(value.title))]):_vm._e(),_c('span',{staticClass:\"ribbon-icon\",domProps:{\"innerHTML\":_vm._s(value.icon)}})]),(key in _vm.toolDrawers)?_c('span',{key:(key + \"-drawer\"),class:['tools-drawer-slider', _vm.openDrawers.includes(key) ? '' : 'drawer-closed']},[_c('span',{staticClass:\"drawer-toggle\",attrs:{\"data-tooltip\":((_vm.openDrawers.includes(key) ? 'Close' : 'Open') + \" \" + (value.title) + \" Drawer\")},on:{\"mouseenter\":_vm.mouseenter,\"mouseleave\":_vm.mouseleave,\"click\":function($event){return _vm.toggleDrawer(key)}}}),_vm._l((_vm.toolDrawers[key]),function(sliderItemKey){return _c('span',{key:sliderItemKey,class:{'ribbon-item': true, active: sliderItemKey === _vm.active},attrs:{\"data-tooltip\":_vm.showLabels ? '' : _vm.toolboxData[sliderItemKey].title},on:{\"mouseenter\":_vm.mouseenter,\"mouseleave\":_vm.mouseleave,\"click\":function($event){return _vm.switchTool(sliderItemKey)}}},[(_vm.showLabels)?_c('span',{staticClass:\"ribbon-text\"},[_vm._v(_vm._s(_vm.toolboxData[sliderItemKey].title))]):_vm._e(),_c('span',{staticClass:\"ribbon-icon\",domProps:{\"innerHTML\":_vm._s(_vm.toolboxData[sliderItemKey].icon)}})])})],2):_vm._e()]})],2)]):_vm._e(),_c('div',{ref:\"mountPoint\",staticClass:\"editor-container\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { BlockTool, BlockToolConstructable, PasteConfig, PasteEvent, SanitizerConfig } from '@editorjs/editorjs';\nimport MathQuillComponent from '@/components/MathQuillComponent.vue';\nimport { VueConstructor } from 'vue/types/umd';\n\ntype FirstArgument<T> = T extends new (arg1: infer U, ...args: any[]) => any ? U : any;\n\nexport function toolForVueComponent(Component: VueConstructor, toolbox: BlockToolConstructable['toolbox'], pasteConfig: PasteConfig = {}) {\n    return class VueTool implements BlockTool {\n        constructor(private config: FirstArgument<BlockToolConstructable>) {\n        }\n    \n        static toolbox = toolbox;\n        static pasteConfig = pasteConfig;\n    \n        root: HTMLElement;\n        component: Vue;\n        pendingPasteEvent: PasteEvent | null = null;\n        sanitize: SanitizerConfig;\n        ignoreBackspace: () => boolean;\n        isEmpty: () => boolean;\n        isAtStart: () => boolean;\n        isAtEnd: () => boolean;\n        toPasteFragment: () => HTMLElement;\n        renderSettings: () => HTMLElement;\n    \n        get keyOverrides() {\n            return ['up', 'down', 'left', 'right']\n        }\n    \n        get customEnter() {\n            return true;\n        }\n    \n        // internal API >:)\n        Editor: any;\n        block: any;\n    \n        save(block: HTMLElement): object {\n            return {};\n        }\n    \n        render(): HTMLElement {\n            this.component = new Component({\n                parent: this.Editor.editor.VueEditor,\n                propsData: {\n                    savedData: (this.config as any).data || {},\n                    api: this.config.api\n                }\n            });\n            \n            this.component.$mount();\n    \n            this.component.$on('insert', () => {\n                this.Editor.moduleInstances.Caret.setToBlock(this.Editor.moduleInstances.BlockManager.insert());\n                this.showToolbar();\n                this.Editor.moduleInstances.Toolbar.plusButton.show();\n            });\n    \n            this.component.$on('showToolbar', () => {\n                this.showToolbar();\n            });\n    \n            this.component.$on('hidePlusButton', () => {\n                this.Editor.moduleInstances.Toolbar.plusButton.hide();\n            });\n    \n            this.component.$on('showPlusButton', () => {\n                this.Editor.moduleInstances.Toolbar.plusButton.show();\n            });\n    \n            this.component.$on('navigateNext', () => {\n                this.Editor.moduleInstances.Caret.navigateNext(true);\n            });\n    \n            this.component.$on('navigatePrevious', () => {\n                this.Editor.moduleInstances.Caret.navigatePrevious(true);\n            });\n    \n            this.component.$on('get:components', (cb: (components: Vue[]) => any) => {\n                cb(this.Editor.moduleInstances.BlockManager.blocks.filter((block: any) => block.name === this.block.name).map((block: any) => block.tool.component));\n            });\n    \n            this.component.$on('downOutOf', () => {\n                if (this.blockIndex === this.Editor.moduleInstances.BlockManager.blocks.length - 1) return;\n                this.Editor.moduleInstances.Caret.navigateNext(true);\n                const { currentBlock, currentBlockIndex, blocks } = this.Editor.moduleInstances.BlockManager;\n                if (currentBlockIndex !== blocks.length - 1) return;\n                if (!currentBlock.isEmpty) return;\n                this.Editor.moduleInstances.Events.once('caretChanged', () => {\n                    this.Editor.moduleInstances.Toolbar.plusButton.show();\n                });\n            });\n    \n            this.component.$on('upOutOf', () => {\n                if (this.blockIndex === 0) return;\n                this.Editor.moduleInstances.Caret.navigatePrevious(true);\n            });\n    \n            this.component.$on('setIgnoreBackspace', (ignoreBackspace: () => boolean) => this.ignoreBackspace = ignoreBackspace);\n            this.component.$on('setIsEmpty', (isEmpty: () => boolean) => this.isEmpty = isEmpty);\n            this.component.$on('setIsAtStart', (isAtStart: () => boolean) => this.isAtStart = isAtStart);\n            this.component.$on('setIsAtEnd', (isAtEnd: () => boolean) => this.isAtEnd = isAtEnd);\n            this.component.$on('setSave', (save: (block: HTMLElement) => any) => this.save = save);\n            this.component.$on('setSanitizer', (sanitize: SanitizerConfig) => this.sanitize = sanitize);\n            this.component.$on('setRenderSettings', (render: () => HTMLElement) => this.renderSettings = render);\n\n            // run this at the end\n            this.component.$emit('preload');\n\n            this.component.$once('ready', () => {\n                if (this.pendingPasteEvent) {\n                    this.component.$emit('parsePaste', this.pendingPasteEvent);\n                    this.pendingPasteEvent = null;\n                }\n            })\n    \n            return this.root = document.createElement('div');\n        }\n    \n        moved() {\n            this.component.$emit('moved');\n        }\n    \n        removed() {\n            this.component.$destroy();\n        }\n    \n        rendered() {\n            this.root.replaceWith(this.component.$el);\n            this.component.$emit('rendered', this.root);\n        }\n\n        onPaste(e: PasteEvent) {\n            if (!this.component) return this.pendingPasteEvent = e;\n            this.component.$emit('parsePaste', e);\n        }\n    \n        showToolbar() {\n            this.Editor.moduleInstances.Toolbar.open();\n            this.Editor.moduleInstances.BlockManager.highlightCurrentNode();\n        }\n    \n        send(message: string, ...data: any[]) {\n            return new Promise((resolve, reject) => {\n                this.component.$emit(message, ...data, resolve);\n            });\n        }\n    \n        /**\n         * Uses internal API to get index of this tool block\n         */\n        get blockIndex() {\n            return this.Editor.moduleInstances.BlockManager.blocks.indexOf(this.block);\n        }\n    }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"resize\",rawName:\"v-resize\",value:(_vm.handleResize),expression:\"handleResize\"}],class:{'codex-mq-root': true, 'codex-mq-focused': _vm.isFocused, 'codex-mq-popout': _vm.bigPopout}},[_c('div',{staticClass:\"mq-calc-root\"},[_c('div',{ref:\"mqMount\",class:{'mq-editable-field': true, 'mq-math-mode': true},on:{\"focusin\":_vm.focused,\"focusout\":_vm.unfocused}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.result !== null),expression:\"result !== null\"}],ref:\"mqResult\",staticClass:\"mq-result-view\"})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.error !== null),expression:\"error !== null\"}],staticClass:\"mq-result-bar text-right mq-result-error\"},[_vm._v(_vm._s(_vm.error))]),[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.result !== null && _vm.resultFn === null),expression:\"result !== null && resultFn === null\"}],class:{'mq-result-bar': true}},[(_vm.renderFormat === 'dec')?_c('FractionSVG',{on:{\"click\":function($event){return _vm.toggleRenderFormat()}}}):_c('DecimalSVG',{on:{\"click\":function($event){return _vm.toggleRenderFormat()}}})],1),(_vm.resultFn !== null)?_c('div',{class:{'mq-result-bar': true}},[_c('GraphSVG',{on:{\"click\":function($event){return _vm.toggleGraph()}}}),(_vm.showGraph && !_vm.graphFailed)?_c('div',{staticClass:\"graph-controls\"},[_c('span',{staticClass:\"graph-control-range\",staticStyle:{\"--variable\":\"'x'\"}},[_c('span',{staticClass:\"graph-control-input\",attrs:{\"contenteditable\":\"true\",\"data-placeholder\":+_vm.defaultXBounds[0].toFixed(3)},on:{\"input\":function($event){return _vm.domainOverrideChanged('x', 0, $event)}}},[_vm._v(_vm._s(_vm.xDomain[0] || ''))]),_c('span',{staticClass:\"graph-control-input\",attrs:{\"contenteditable\":\"true\",\"data-placeholder\":+_vm.defaultXBounds[1].toFixed(3)},on:{\"input\":function($event){return _vm.domainOverrideChanged('x', 1, $event)}}},[_vm._v(_vm._s(_vm.xDomain[1] || ''))])]),_c('span',{staticClass:\"graph-control-range\",staticStyle:{\"--variable\":\"'y'\"}},[_c('span',{staticClass:\"graph-control-input\",attrs:{\"contenteditable\":\"true\",\"data-placeholder\":+_vm.yBoundsWithOverrides[0].toFixed(3)},on:{\"input\":function($event){return _vm.domainOverrideChanged('y', 0, $event)}}},[_vm._v(_vm._s(_vm.yDomain[0] || ''))]),_c('span',{staticClass:\"graph-control-input\",attrs:{\"contenteditable\":\"true\",\"data-placeholder\":+_vm.yBoundsWithOverrides[1].toFixed(3)},on:{\"input\":function($event){return _vm.domainOverrideChanged('y', 1, $event)}}},[_vm._v(_vm._s(_vm.yDomain[1] || ''))])]),_c('span',{staticClass:\"graph-control-number\",staticStyle:{\"--variable\":\"'step'\"}},[_c('span',{staticClass:\"graph-control-input\",attrs:{\"contenteditable\":\"true\",\"data-placeholder\":_vm.defaultStep},on:{\"input\":_vm.stepOverrideChanged}},[_vm._v(_vm._s(_vm.step || ''))])])]):_vm._e()],1):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showGraph),expression:\"showGraph\"}],ref:\"graph\",staticClass:\"graph-container\"})],_c('mq-paste-data',{attrs:{\"renderFormat\":_vm.renderFormat,\"showGraph\":_vm.showGraph,\"latex\":_vm.latex}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [{\"enable-background\":\"new 0 0 464.6 264\"},style,staticStyle],\n              attrs: Object.assign({\"version\":\"1.1\",\"id\":\"Layer_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 464.6 264\",\"style\":\"enable-background:new 0 0 464.6 264;\",\"xml:space\":\"preserve\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('title',[_v('decimal')]),_c('polygon',{attrs:{\"points\":\"0.5,63.1 153.5,134.2 0.5,205.2 \"}}),_c('g',{staticClass:\"st0\"},[_c('path',{attrs:{\"d\":\"M239.4,114.1v-4.3c11.1,0,16.6-3.1,16.6-9.2V39c0-3.9-1.8-5.9-5.3-5.9h-11.9v-4.3c3.5-0.6,6.5-1.2,8.8-1.6\\n\\t\\tc2.3-0.6,4.7-1.2,6.5-2c2-0.8,3.7-1.8,5.5-2.9s3.7-2.7,6.1-4.7l3.7,1c-0.4,2-0.6,3.5-0.8,5.1c-0.2,1.4-0.2,2.9-0.2,4.1v72.8\\n\\t\\tc0,6.1,5.5,9.2,16.6,9.2v4.3H239.4z\"}})]),_c('g',{staticClass:\"st0\"},[_c('path',{attrs:{\"d\":\"M241.7,250c-2,0-3.7,0-5.5,0.2c-1.8,0-3.3,0.2-4.7,0.4l-0.6-3.7c6.3-6.3,12.1-12.1,17.4-18c5.3-5.9,9.8-11.5,13.7-17\\n\\t\\tc3.9-5.5,6.8-11,9.2-16.2c2.2-5.3,3.3-10.6,3.3-15.8c0-5.7-1.6-9.8-4.7-12.5c-3.1-2.7-7.4-4.1-13.3-4.1c-5.3,0-9.4,1-12.1,2.9\\n\\t\\ts-4.1,4.7-4.1,8c3.3,1,4.9,2.7,4.9,5.3c0,4.7-2,6.8-6.1,6.8c-3.9,0-5.9-3.1-5.9-9.2c0-7,2.3-12.3,7-16c4.7-3.7,11.7-5.5,21.3-5.5\\n\\t\\tc16.8,0,25.4,7.8,25.4,23.5c0,5.3-0.8,10.4-2.5,15.3c-1.8,4.7-4.3,9.6-7.8,14.3c-3.5,4.7-8,9.6-13.3,14.7\\n\\t\\tc-5.5,4.9-11.7,10.4-19.2,16h25c2.5,0,4.7-0.2,6.5-0.4c1.8-0.2,3.3-0.8,4.7-1.8c1.4-0.8,2.3-2,3.3-3.5c1-1.6,2-3.5,2.7-6.1l3.7,0.6\\n\\t\\tl-5.3,22.5h-43.2V250z\"}})]),_c('rect',{attrs:{\"x\":\"193\",\"y\":\"133.7\",\"width\":\"133\",\"height\":\"4.3\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [{\"enable-background\":\"new 0 0 464.6 264\"},style,staticStyle],\n              attrs: Object.assign({\"version\":\"1.1\",\"id\":\"Layer_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 464.6 264\",\"style\":\"enable-background:new 0 0 464.6 264;\",\"xml:space\":\"preserve\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('title',[_v('decimal')]),_c('polygon',{attrs:{\"points\":\"0.5,63.1 153.5,134.2 0.5,205.2 \"}}),_c('path',{attrs:{\"d\":\"M298,183.6c-3.4,0.7-6.8,1.2-10.3,1.5c-4.7,0.5-10.7,1.2-17.9,2.3l-2.2-13c-2.4,4.4-6,8-10.4,10.5c-4.8,2.7-10.1,4-15.6,3.9\\n\\tc-4.8,0-9.6-0.8-14.1-2.5c-4.4-1.6-8.4-4.2-11.7-7.6c-3.5-3.7-6.3-8.2-8-13c-2.1-6-3.1-12.3-3-18.7c0-6.4,1-12.7,3.2-18.7\\n\\tc2-5.5,4.9-10.6,8.8-15c3.7-4.2,8.2-7.5,13.3-9.9c5.2-2.4,10.9-3.7,16.7-3.6c4.3-0.1,8.6,0.9,12.5,2.9c3.1,1.6,5.9,3.7,8.3,6.3V65.6\\n\\tc0-4.5-5.1-6.8-15.4-6.8v-6.2l32-5.2c0.3,4.9,0.5,10.7,0.6,17.2S285,78,285,85.4v75.4c0,11.2,4.6,17.1,13.8,17.6L298,183.6z\\n\\t M247.6,178.8c4.4,0,7.9-0.8,10.6-2.4c2.7-1.7,4.9-4.2,6.2-7.1c1.6-3.6,2.6-7.5,3-11.4c0.6-5.1,0.8-10.2,0.8-15.3\\n\\tc0-23.3-7.6-35-22.8-35c-3.6-0.1-7.1,0.9-10.1,2.9c-2.9,2-5.3,4.6-7.1,7.6c-1.9,3.3-3.3,6.8-4.2,10.5c-0.9,3.8-1.4,7.7-1.4,11.6\\n\\tc0,4.6,0.4,9.3,1.3,13.8c0.8,4.3,2.2,8.5,4.2,12.4c1.8,3.6,4.4,6.7,7.7,9C239.3,177.7,243.4,178.9,247.6,178.8L247.6,178.8z\"}}),_c('path',{attrs:{\"d\":\"M380.4,165.4c-3,6.9-7.9,12.9-14,17.4c-6.1,4.2-13.4,6.4-20.8,6.2c-6,0.1-12-1-17.6-3.4c-4.9-2.1-9.2-5.2-12.7-9.2\\n\\tc-3.5-4-6.1-8.7-7.7-13.8c-1.8-5.5-2.6-11.2-2.6-17c0-5.8,0.9-11.7,2.8-17.2c1.8-5.3,4.4-10.2,7.9-14.6c3.3-4.2,7.5-7.7,12.3-10.2\\n\\tc4.9-2.6,10.4-3.9,16-3.8c3.8,0,7.6,0.5,11.3,1.3c4,0.9,7.8,2.6,11.1,5.1c3.8,2.9,6.9,6.6,9,10.9c2.5,4.7,4.2,11,5,18.7\\n\\tc0,1.5-0.2,3-0.6,4.4h-53.2c-2.5,0-3.8,1-3.8,3c0,4.6,0.6,9.2,2,13.6c1.2,4,3.1,7.8,5.6,11.2c2.3,3.1,5.3,5.7,8.8,7.5\\n\\tc3.6,1.8,7.6,2.8,11.6,2.7c5.2,0.1,10.4-1.6,14.5-4.8c4.1-3.2,7.7-7,10.7-11.2L380.4,165.4z M353.2,134.2c5.5,0,8.2-2.8,8.2-8.4\\n\\tc-0.3-4.8-2.1-9.5-5.1-13.3c-3-3.8-7.4-5.7-13.1-5.7c-2.9,0-5.8,0.7-8.4,2.1c-2.5,1.4-4.7,3.3-6.5,5.6c-1.8,2.4-3.2,5.1-4.1,8\\n\\tc-0.9,3-1.4,6.1-1.4,9.3c0,1.6,1.5,2.4,4.4,2.4L353.2,134.2z\"}}),_c('path',{attrs:{\"d\":\"M464.6,168.4c-1.3,3.5-3.2,6.6-5.8,9.3c-2.5,2.6-5.3,4.7-8.5,6.4c-3.1,1.7-6.5,2.9-9.9,3.7c-3.3,0.8-6.6,1.2-10,1.2\\n\\tc-5.4,0.1-10.8-1-15.8-3.3c-4.6-2.1-8.6-5.2-11.8-9.1c-3.3-4-5.8-8.6-7.3-13.6c-1.7-5.4-2.5-11.1-2.5-16.8c0-6,0.9-12,2.7-17.8\\n\\tc1.7-5.4,4.5-10.5,8.2-14.8c3.8-4.4,8.5-7.8,13.8-10.1c6.2-2.6,12.8-3.8,19.5-3.7c3.2,0,6.4,0.5,9.5,1.4c3,0.9,5.8,2.2,8.4,3.9\\n\\tc2.4,1.6,4.4,3.7,5.9,6.1c1.5,2.3,2.2,5,2.2,7.8c0,2.7-1.3,5.2-3.4,6.9c-2,1.8-4.7,2.9-7.4,2.9c-5.5,0-8.2-3-8.2-9.1\\n\\tc0.1-0.9,0.2-1.8,0.3-2.6c0.2-1.2,0.3-2.4,0.3-3.6c0.1-2.5-1.4-4.9-3.7-5.8c-2.4-1.2-5-1.8-7.7-1.8c-3.6-0.1-7,1-9.9,3.1\\n\\tc-2.8,2.2-5.1,4.9-6.8,8c-1.9,3.4-3.2,7.1-4,10.9c-0.8,3.8-1.3,7.7-1.3,11.6c0,5,0.5,10.1,1.6,15c0.9,4.2,2.6,8.3,4.8,12\\n\\tc4.2,7.1,12,11.3,20.2,11c8.9,0,16.1-4,21.4-12L464.6,168.4z\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [{\"enable-background\":\"new 0 0 30.973 30.973\"},style,staticStyle],\n              attrs: Object.assign({\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"width\":\"30.973px\",\"height\":\"30.973px\",\"viewBox\":\"0 0 30.973 30.973\",\"style\":\"enable-background:new 0 0 30.973 30.973;\",\"xml:space\":\"preserve\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('g',[_c('g',[_c('rect',{attrs:{\"y\":\"2.961\",\"width\":\"2\",\"height\":\"2.034\"}}),_c('rect',{attrs:{\"y\":\"7.162\",\"width\":\"2\",\"height\":\"2.033\"}}),_c('rect',{attrs:{\"y\":\"11.359\",\"width\":\"2\",\"height\":\"2.034\"}}),_c('rect',{attrs:{\"y\":\"15.561\",\"width\":\"2\",\"height\":\"2.033\"}}),_c('rect',{attrs:{\"y\":\"19.76\",\"width\":\"2\",\"height\":\"2.035\"}}),_c('polygon',{attrs:{\"points\":\"6.383,24.531 6.383,0.104 3.332,0.104 3.332,27.582 30.973,27.582 30.973,24.531 \\t\\t\"}}),_c('rect',{attrs:{\"x\":\"26.08\",\"y\":\"28.861\",\"width\":\"2.034\",\"height\":\"2.008\"}}),_c('rect',{attrs:{\"x\":\"21.881\",\"y\":\"28.861\",\"width\":\"2.033\",\"height\":\"2.008\"}}),_c('rect',{attrs:{\"x\":\"17.682\",\"y\":\"28.861\",\"width\":\"2.033\",\"height\":\"2.008\"}}),_c('rect',{attrs:{\"x\":\"13.481\",\"y\":\"28.861\",\"width\":\"2.034\",\"height\":\"2.008\"}}),_c('rect',{attrs:{\"x\":\"9.282\",\"y\":\"28.861\",\"width\":\"2.034\",\"height\":\"2.008\"}}),_c('polygon',{attrs:{\"points\":\"12.837,16.688 18.154,19.235 21.227,13.286 25.938,15.495 30.477,7.363 28.701,6.373 25.086,12.85 20.319,10.614 \\r\\n\\t\\t\\t17.254,16.549 12.031,14.045 7.123,22.398 8.877,23.43 \\t\\t\"}})])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [{\"enable-background\":\"new 0 0 512 512\"},style,staticStyle],\n              attrs: Object.assign({\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 512 512\",\"style\":\"enable-background:new 0 0 512 512;\",\"xml:space\":\"preserve\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M236.454,172.808L132.421,68.789l43.184-43.184C185.014,16.197,178.365,0,165,0H15C6.709,0,0,6.709,0,15v150\\r\\n\\t\\t\\tc0,13.241,16.066,20.112,25.606,10.606l43.198-43.169l104.004,104.018c5.856,5.856,15.351,5.859,21.209,0.001l42.437-42.437\\r\\n\\t\\t\\tC242.286,188.187,242.334,178.688,236.454,172.808z\"}})])]),_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M497,0H347c-13.361,0-20.018,16.193-10.606,25.605l43.184,43.184L275.544,172.792c-5.844,5.844-5.868,15.358,0,21.226\\r\\n\\t\\t\\tl42.437,42.437c5.86,5.86,15.352,5.859,21.211,0l104.019-104.034l43.184,43.184C495.93,185.141,512,178.23,512,165V15\\r\\n\\t\\t\\tC512,6.709,505.291,0,497,0z\"}})])]),_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M486.396,336.393l-43.184,43.184L339.193,275.544c-5.856-5.856-15.349-5.862-21.211,0l-42.437,42.437\\r\\n\\t\\t\\tc-5.868,5.868-5.844,15.382,0,21.226l104.034,104.004l-43.184,43.184C326.986,495.803,333.635,512,347,512h150\\r\\n\\t\\t\\tc8.291,0,15-6.709,15-15V347C512,333.639,495.807,326.982,486.396,336.393z\"}})])]),_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M236.456,317.983l-42.437-42.437c-5.625-5.625-15.586-5.625-21.211,0L68.789,379.579l-43.184-43.184\\r\\n\\t\\t\\tC16.283,327.04,0,333.563,0,347v150c0,8.291,6.709,15,15,15h150c13.361,0,20.018-16.193,10.606-25.605l-43.184-43.184\\r\\n\\t\\t\\tl104.034-104.017C242.336,333.314,242.289,323.816,236.456,317.983z\"}})])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])\n          )\n        }\n      }\n    ","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop } from \"vue-property-decorator\";\nimport * as utensils from \"latex-utensils\";\n\nimport \"mathquill/build/mathquill.js\";\nimport \"@/mathquill-patches\";\n\nimport FractionSVG from \"@/assets/frac.svg?inline\";\nimport DecimalSVG from \"@/assets/decimal.svg?inline\";\nimport GraphSVG from \"@/assets/graph.svg?inline\";\nimport FullscreenSVG from \"@/assets/fullscreen.svg?inline\";\n\nimport { SanitizerConfig, API } from \"@editorjs/editorjs\";\nimport _ from \"../util\";\nimport { MathJsStatic } from \"mathjs\";\n\ntype TypeWithGeneric<T> = Partial<T>;\ntype extractGeneric<Type> = Type extends TypeWithGeneric<infer X> ? X : never;\n\nconst mathjs = require(\"mathjs\");\n\ndeclare const d3: any;\n\nfunction attachProto(obj: any, proto: any) {\n  const objKeys = Object.keys(obj);\n  Object.keys(proto)\n    .filter(k => !objKeys.includes(k))\n    .forEach(key => {\n      obj[key] = proto[key];\n    });\n}\n\nlet passiveSupported = false;\n\ntry {\n  const options = {\n    get passive() {\n      // This function will be called when the browser\n      //   attempts to access the passive property.\n      passiveSupported = true;\n      return false;\n    }\n  };\n\n  window.addEventListener(\"test\" as any, null!, options);\n  window.removeEventListener(\"test\" as any, null!);\n} catch (err) {\n  passiveSupported = false;\n}\n\nconst nerdamer = require(\"nerdamer\");\nconst PASTE_DATA_TAG = \"mq-paste-data\";\n\nVue.config.ignoredElements.push(PASTE_DATA_TAG);\n\nfunction functionsFromContext(context: any): { [key: string]: string } {\n  return Object.values(context)\n    .filter(g => typeof g === \"function\")\n    .reduce((acc: any, c: any) => {\n      acc[c.syntax] = c.original.substring(c.syntax.length + 1);\n      return acc;\n    }, {}) as any;\n}\n\nfunction variablesFromContext(context: any): { [key: string]: number } {\n  return Object.keys(context)\n    .filter(g => typeof context[g] === \"number\")\n    .reduce((acc: any, c: any) => {\n      acc[c] = context[c];\n      return acc;\n    }, {});\n}\n\nfunction uuidv4() {\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n    var r = (Math.random() * 16) | 0,\n      v = c == \"x\" ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n\nconst pending: {\n  [nonce: string]: Function;\n} = {};\n\nfunction onmessage(event: MessageEvent) {\n  const { nonce, result, flags } = event.data;\n  const { [nonce]: resolve } = pending;\n  if (!resolve) {\n    console.debug(`unknown nonce from worker response`, {\n      event,\n      data: event.data,\n      nonce,\n      result,\n      pending\n    });\n    return;\n  }\n  resolve({ result, flags });\n}\n\nfunction runAlgebraOnWorker(content: any, context: any): Promise<{result: string, flags: {noVarSubInPostProcessing: boolean}}> {\n  const worker = (window as any).AlgebraWorker;\n  if (worker.onmessage === null) {\n    worker.onmessage = onmessage;\n  }\n  return new Promise((resolve, reject) => {\n    const functions = functionsFromContext(context);\n    const variables = variablesFromContext(context);\n    const nonce = uuidv4();\n    pending[nonce] = resolve;\n    worker.postMessage({\n      evaluate: content,\n      functions,\n      variables,\n      nonce\n    });\n  });\n}\n\n@Component({\n  components: {\n    FractionSVG,\n    DecimalSVG,\n    GraphSVG,\n    FullscreenSVG\n  }\n})\nexport default class MathQuillComponent extends Vue {\n  renderFormat: \"dec\" | \"frac\" = \"dec\";\n  isFocused: boolean = false;\n  latex: string | null = null;\n  lastScope: any = {};\n  resultFn: Function | null = null;\n  result: string | null = null;\n  showGraph: boolean = false;\n  chart: ReturnType<typeof import(\"function-plot/lib/index.js\")> | null = null;\n  error: string | null = null;\n  graphFailed: boolean = false;\n  trigState: _.MathKit.TrigState | null = null;\n  settingsButtons: HTMLSpanElement[] = [];\n  bigPopout: boolean = false;\n\n  @Prop()\n  savedData: {\n    latex: string | null;\n    renderFormat: \"dec\" | \"frac\";\n    showGraph: boolean;\n    xDomain: [number, number];\n    yDomain: [number, number];\n    step: number;\n    trigState: _.MathKit.TrigState;\n  };\n\n  @Prop()\n  api: API;\n\n  $refs: {\n    mqMount: HTMLDivElement;\n    mqResult: HTMLSpanElement;\n    graph: HTMLDivElement;\n  };\n\n  mathField: MathQuill.MathField;\n  resultView: MathQuill.StaticMath;\n  mathJS: MathJsStatic;\n\n  flaggedForDeletion: {\n    [token: string]: number;\n  } = {};\n\n  static startGarbageWatcher(interval: number, lifetime: number) {\n    this.garbageTimer = setInterval(() => {\n      console.debug(\"🗑 time to take out the trash, bitches\");\n      this.garbageClients.forEach(client => {\n        const scopeToken = client.scopeToken;\n        const tokens = Array.from(client.mathCache.keys())\n          .concat(Array.from(client.calcCache.keys()))\n          .filter((t, i, a) => a.indexOf(t) === i);\n        tokens.forEach(token => {\n          if (token === scopeToken) return;\n\n          if (typeof client.flaggedForDeletion[token] === \"undefined\")\n            client.flaggedForDeletion[token] = Date.now();\n          else if (Date.now() - client.flaggedForDeletion[token] > lifetime) {\n            const mathCache = client.mathCache.get(token);\n            const calcCache = client.calcCache.get(token);\n            console.debug(\"🗑 purging expired caches for component\", {\n              mathCache: {\n                keys: mathCache && mathCache.keys(),\n                values: mathCache && mathCache.values()\n              },\n              calcCache: {\n                keys: calcCache && calcCache.keys(),\n                values: calcCache && calcCache.values()\n              },\n              token,\n              flaggedAt: client.flaggedForDeletion[token]\n            });\n            mathCache && mathCache.clear();\n            calcCache && calcCache.clear();\n            client.mathCache.delete(token);\n            client.calcCache.delete(token);\n          }\n        });\n      });\n    }, interval);\n  }\n\n  static stopGarbageWatcher() {\n    clearTimeout(this.garbageTimer);\n    delete this.garbageTimer;\n  }\n\n  private static garbageTimer: NodeJS.Timer;\n  private static garbageClients: MathQuillComponent[] = [];\n\n  private static registerWithGarbageMan(component: MathQuillComponent) {\n    if (this.garbageClients.includes(component)) return;\n    this.garbageClients.push(component);\n  }\n\n  private static deregisterWithGarbageMan(component: MathQuillComponent) {\n    if (!this.garbageClients.includes(component)) return;\n    this.garbageClients.splice(this.garbageClients.indexOf(component), 1);\n  }\n\n  oldWidth: number | null = null;\n\n  handleResize(args: any) {\n    if (this.oldWidth !== null && args.width === this.oldWidth) return;\n    this.oldWidth = args.width;\n    console.log(args.height);\n    if (this.showGraph) {\n      this.updateGraph();\n    }\n  }\n\n  created() {\n    const math = (this.mathJS = mathjs.create(mathjs.all, {}) as any);\n    math.import(require(\"mathjs-simple-integral\" as any), {});\n    _.MathKit.loadPatchedMathFunctions(math, () => this.trigStateWithOverrides);\n  }\n\n  get trigStateWithOverrides() {\n    return this.trigState || this.$store.state.preferences.defaultTrigState;\n  }\n\n  mounted() {\n    var ready: boolean = false;\n    MathQuillComponent.registerWithGarbageMan(this);\n    this.mathField = new MathQuill.MathField(this.$refs.mqMount, {\n      handlers: {\n        edit: field => {\n          this.latex = field.latex();\n          if (!ready) return;\n          this.updateQuills();\n        },\n        upOutOf: () => this.$emit(\"upOutOf\"),\n        downOutOf: () => this.$emit(\"downOutOf\"),\n        moveOutOf: (dir, field) => {\n          if (dir == \"1\") {\n            // move right\n            this.$emit(\"navigateNext\");\n          } else {\n            // move left\n            this.$emit(\"navigatePrevious\");\n          }\n        },\n        enter: field => {\n          this.$emit(\"insert\");\n        }\n      },\n      autoCommands: \"int pi sqrt sum\"\n    });\n\n    this.resultView = new MathQuill.StaticMath(this.$refs.mqResult);\n\n    Object.keys(this.savedData).forEach(key => {\n      Vue.set(this, key, (this.savedData as any)[key]);\n    });\n\n    this.mathField.write(this.latex || \"\");\n\n    this.$on(\"preload\", () => {\n      this.$emit(\"setIgnoreBackspace\", () => (this.latex || \"\").length > 0);\n      this.$emit(\"setIsEmpty\", () => (this.latex || \"\").length === 0);\n      this.$emit(\n        \"setIsAtStart\",\n        () =>\n          this.mqRootBlock.firstElementChild &&\n          this.mqRootBlock.firstElementChild.classList.contains(\"mq-cursor\")\n      );\n      this.$emit(\n        \"setIsAtEnd\",\n        () =>\n          this.mqRootBlock.lastElementChild &&\n          this.mqRootBlock.lastElementChild.classList.contains(\"mq-cursor\")\n      );\n      this.$emit(\"setSave\", () => ({\n        latex: this.latex,\n        renderFormat: this.renderFormat,\n        showGraph: this.showGraph,\n        xDomain: this.xDomain,\n        yDomain: this.yDomain,\n        step: this.step,\n        trigState: this.trigState\n      }));\n      this.$emit(\"setPasteConfig\", { tags: [PASTE_DATA_TAG] });\n\n      this.$emit(\"setRenderSettings\", () => {\n        const holder = document.createElement(\"div\");\n\n        [\"deg\", \"rad\", \"grad\"].forEach(mode => {\n          const selector = document.createElement(\"span\");\n\n          selector.classList.add(this.api.styles.settingsButton);\n          selector.classList.add(\"mq-trig-mode-control\");\n\n          if (this.trigStateWithOverrides === mode) {\n            selector.classList.add(this.api.styles.settingsButtonActive);\n          }\n\n          selector.innerText = mode.toUpperCase();\n          selector.dataset.mode = mode;\n\n          selector.addEventListener(\"click\", () => {\n            console.log(\"clakc\");\n            this.trigState = mode as _.MathKit.TrigState;\n          });\n\n          holder.appendChild(selector);\n          this.settingsButtons.push(selector);\n        });\n\n        return holder;\n      });\n\n      this.$emit(\"ready\");\n    });\n\n    this.$on(\"updateQuills\", (resolve?: (value: void) => any) =>\n      this.updateQuills().then(resolve)\n    );\n    this.$on(\"moved\", () => this.updateQuills());\n    this.$on(\"reflow\", () => this.reflow());\n\n    this.$on(\"parsePaste\", (e: CustomEvent) => {\n      const data: HTMLElement = e.detail.data;\n      const renderFormat = data.getAttribute(\"renderFormat\");\n      const latex = data.getAttribute(\"latex\");\n      const showGraph = data.getAttribute(\"showGraph\");\n\n      this.mathField.write(latex || \"\");\n      this.updateQuills().then(() => {\n        this.renderFormat = (renderFormat as any) || this.renderFormat;\n        this.showGraph = Boolean(showGraph);\n      });\n    });\n\n    this.$on('rendered', (el: HTMLElement) => {\n      this.$el.parentElement!.classList.add('codex-mq-holder');\n    })\n\n    this.$watch(\"renderFormat\", () => {\n      if (!this.result) return;\n      this.updateResultView(this.result);\n    });\n\n    this.$watch(\"result\", result => {\n      this.updateResultView(result);\n    });\n\n    this.$watch(\"resultFn\", resultFn => {\n      if (!resultFn) return this.removeGraph();\n      if (!this.showGraph) return;\n      this.updateGraph();\n    });\n\n    this.$watch(\"showGraph\", (showGraph: boolean) => {\n      if (showGraph) {\n        this.updateGraph();\n      } else {\n        this.removeGraph();\n      }\n    });\n\n    this.$watch(\"trigState\", async mode => {\n      this.settingsButtons.forEach(button => {\n        button.classList.toggle(\n          this.api.styles.settingsButtonActive,\n          button.dataset.mode === mode\n        );\n      });\n      await this.updateQuills();\n    });\n\n    this.$once(\"ready\", () => {\n      ready = true;\n    });\n\n    this.xDomain;\n    this.yDomain;\n    this.step;\n\n    this.$watch(\"xDomain\", () => this.updateGraph());\n    this.$watch(\"yDomain\", () => this.updateGraph());\n    this.$watch(\"step\", () => this.updateGraph());\n  }\n\n  destroyed() {\n    this.calcCache.clear();\n    this.mathCache.clear();\n    MathQuillComponent.deregisterWithGarbageMan(this);\n  }\n\n  updated() {\n    if (this.resultView) {\n      this.resultView.reflow();\n    }\n  }\n\n  reflow() {\n    this.resultView && this.resultView.reflow();\n    this.mathField && this.mathField.reflow();\n  }\n\n  get mqRootBlock(): HTMLSpanElement {\n    return this.$refs.mqMount.querySelector(\".mq-root-block\") as any;\n  }\n\n  /**\n   * Returns true if block has focused class\n   */\n  get isActive() {\n    try {\n      return this.$el.parentElement!.parentElement!.classList.contains(\n        \"ce-block--focused\"\n      );\n    } catch {\n      return false;\n    }\n  }\n\n  mathCache: Map<string, Map<string, { result: string, flags: any }>> = new Map();\n\n  get scopeToken() {\n    return JSON.stringify(\n      Object.assign({}, this.lastScope, functionsFromContext(this.lastScope))\n    );\n  }\n\n  private resolveCachedLatex(latex: string) {\n    const token = this.scopeToken;\n    if (!this.mathCache.has(token)) this.mathCache.set(token, new Map());\n    return this.mathCache.get(token)!.get(latex);\n  }\n\n  private cacheLatex(latex: string, expression: { result: string, flags: any}): void {\n    const token = this.scopeToken;\n    if (!this.mathCache.has(token)) this.mathCache.set(token, new Map());\n    this.mathCache.get(token)!.set(latex, expression);\n  }\n\n  /**\n   * Converts latex to math and returns it\n   */\n  async math() {\n    if (!this.latex) return { flags: {}, result: null };\n    var expression = this.resolveCachedLatex(this.latex);\n    var parsed;\n    if (!expression) {\n      parsed = utensils.latexParser.parse(this.latex);\n      const response = await runAlgebraOnWorker(parsed.content, this.lastScope);\n      this.cacheLatex(this.latex, response);\n      return response;\n    }\n    return expression;\n  }\n\n  /**\n   * Quill was focused.\n   */\n  focused() {\n    this.isFocused = true;\n    this.$emit(\"hidePlusButton\");\n    this.$emit(\"showToolbar\");\n  }\n\n  /**\n   * Quill was unfocused.\n   */\n  unfocused() {\n    this.isFocused = false;\n    if (this.isActive) return;\n    this.$emit(\"showToolbar\");\n  }\n\n  /**\n   * Updates quills in their DOM order\n   */\n  async updateQuills() {\n    nerdamer.clearVars();\n    const components = await this.components();\n    const scope = {};\n    for (let c of components) {\n      await c.calc(scope);\n    }\n  }\n\n  removeGraph() {\n    if (!this.chart) return;\n\n    this.chart.root.remove();\n    this.chart = null;\n  }\n\n  get defaultXBounds(): [number, number] {\n    return [-10, 10];\n  }\n\n  get defaultStep(): number {\n    return 1;\n  }\n\n  /**\n   * User-set overrides, can be NaN in any configuration\n   */\n  xDomain: [number, number] = [NaN, NaN];\n  yDomain: [number, number] = [NaN, NaN];\n  step: number = NaN;\n\n  /**\n   * Determines the minimum and maximum value of the function given the bounds\n   */\n  minMaxOfFn(xMin: number, xMax: number): [number, number] {\n    if (!this.resultFn) return [NaN, NaN];\n\n    let values: number[] = [];\n\n    for (let i = xMin; i < xMax; i += this.stepWithOverride) {\n      values.push(this.resultFn(i));\n    }\n\n    values = values.sort((a, b) => a - b);\n\n    const range = [values[0], values[values.length - 1]];\n    \n    return range as [number, number];\n  }\n\n  get xBoundsWithOverrides() {\n    const range = this.xDomain\n      .map(i => (typeof i === \"number\" ? i : NaN))\n      .map((i, idx) => (isNaN(i) ? this.defaultXBounds[idx] : i)) as [\n      number,\n      number\n    ];\n\n    if (range.length < 2 || (range[0] === range[1])) return [-10, 10] as [number, number];\n\n    return range;\n  }\n\n  get yBoundsWithOverrides() {\n    if (!this.resultFn) return null;\n    let yDomain = this.yDomain.map(i => (typeof i === \"number\" ? i : NaN));\n    if (yDomain.some(i => isNaN(i))) {\n      const bounds = this.minMaxOfFn(...this.xBoundsWithOverrides);\n      yDomain = yDomain.map((i, idx) => (isNaN(i) ? bounds[idx] : i)) as [\n        number,\n        number\n      ];\n    }\n    \n    yDomain.sort((a, b) => a - b);\n\n    if (yDomain.length < 2 || (yDomain[0] === yDomain[1])) return this.minMaxOfFn(...this.xBoundsWithOverrides);\n\n    return yDomain;\n  }\n\n  get stepWithOverride() {\n    return this.step || this.defaultStep;\n  }\n\n  /**\n   * Recalculates the bounds of the graph\n   */\n  get computedBounds() {\n    if (!this.resultFn) return null;\n\n    const xDomain = this.xBoundsWithOverrides;\n    const yDomain = this.yBoundsWithOverrides!;\n\n    return {\n      xDomain,\n      yDomain\n    };\n  }\n\n  /**\n   * Called when a domain override field is modified by the user\n   */\n  domainOverrideChanged(domain: \"x\" | \"y\", minMax: 0 | 1, event: InputEvent) {\n    const target = event.target as HTMLSpanElement;\n    const pos = _.Dom.getCaretPosition(target);\n    const { innerText: rawValue } = target;\n    let override = parseFloat(rawValue);\n\n    const keyPath = `${domain}Domain` as \"xDomain\" | \"yDomain\";\n    const previousBound = this[keyPath][minMax];\n\n    if (!isNaN(override) && rawValue.trim().length > 0 && !rawValue.endsWith('.')) {\n      target.innerText = override.toString();\n      \n      if (override !== previousBound) {\n        this[`${domain}Domain` as \"xDomain\" | \"yDomain\"].splice(\n          minMax,\n          1,\n          override\n        );\n      }\n    }\n\n    this.$nextTick(() => {\n      _.Dom.setCurrentCursorPosition(pos, target);\n    });\n  }\n\n  stepOverrideChanged(event: InputEvent) {\n    const target = event.target as HTMLSpanElement;\n    const pos = _.Dom.getCaretPosition(target);\n    const { innerText: rawValue } = target;\n    let override = parseFloat(rawValue);\n    const lastStep = this.step;\n\n    const [low, high] = this.xBoundsWithOverrides;\n    let range = Math.abs(low - high);\n\n    if ((low >= 0 && high < 0) || (low < 0 && high >= 0)) range += 1;\n\n    if (!isNaN(override) && rawValue.trim().length > 0 && override < range && override > 0 && !rawValue.endsWith('.')) {\n      target.innerText = override.toString();\n\n      if ((override !== lastStep) && override > 0) {\n        this.step = override;\n      }\n    }\n\n    this.$nextTick(() => {\n      _.Dom.setCurrentCursorPosition(pos, target);\n    });\n  }\n\n  async updateGraph() {\n    if (!this.resultFn) return;\n    if (this.chart) this.removeGraph();\n    if (!this.showGraph) return;\n\n    const { default: plot } = await import(\"function-plot/lib/index.js\");\n\n    const { xDomain, yDomain } = this.computedBounds!;\n\n    console.debug(`calculated bounds for function`, {\n      resultFn: this.resultFn,\n      xDomain,\n      yDomain\n    });\n\n    try {\n      this.chart = plot({\n        target: this.$refs.graph,\n        tip: {\n          xLine: true,\n          yLine: true,\n          renderer: (x, y) => `(${x.toFixed(3)}, ${y.toFixed(3)})`\n        },\n        data: [\n          {\n            fn: \"fn\",\n            step: this.stepWithOverride,\n            scope: {\n              fn: this.resultFn\n            },\n            nSamples: 1000,\n            sampler: \"mathjs\",\n            graphType: \"polyline\"\n          }\n        ],\n        grid: true,\n        xAxis: {\n          domain: xDomain\n        },\n        yAxis: {\n          domain: yDomain\n        },\n        width: this.$el.clientWidth,\n        height: +getComputedStyle(this.$refs.graph).height!.split('px')[0]\n      });\n    } catch (e) {\n      console.warn(\"failed to update graph\", e);\n      this.graphFailed = true;\n      return;\n    }\n\n    this.graphFailed = false;\n\n    this.fixChart();\n  }\n\n  /**\n   * Fixes inconsistencies in the function-plot chart object\n   */\n  fixChart() {\n    if (!this.chart) return;\n    const options = this.chart.options;\n    const prototype = d3\n      .select(options.target)\n      .selectAll(\"svg\")\n      .data([options]).__proto__;\n    attachProto(this.chart!.root, prototype);\n    attachProto(this.chart!.canvas, prototype);\n    Object.defineProperty(this.chart, \"content\", {\n      get() {\n        return this._content;\n      },\n      set(content) {\n        attachProto(content, prototype);\n        this._content = content;\n        return true;\n      }\n    });\n  }\n\n  calcCache: Map<string, Map<string, any>> = new Map();\n\n  private resolveCachedCalc(latex: string) {\n    const token = this.scopeToken;\n    if (!this.calcCache.has(token)) this.calcCache.set(token, new Map());\n    return this.calcCache.get(token)!.get(latex);\n  }\n\n  private cacheCalc(latex: string, result: any): void {\n    const token = this.scopeToken;\n    if (!this.calcCache.has(token)) this.calcCache.set(token, new Map());\n    this.calcCache.get(token)!.set(latex, result);\n  }\n\n  /**\n   * Calculates the result of this quill using the given scope\n   */\n  async calc(scope: any) {\n    if (!this.latex) {\n      // reset the component, its empty\n      this.result = this.resultFn = null;\n      return;\n    }\n\n    this.lastScope = Object.assign({}, scope);\n    this.error = null;\n\n    let cachedResult = this.latex && this.resolveCachedCalc(this.latex);\n    let compiled;\n    if (cachedResult) {\n      compiled = cachedResult;\n    } else {\n      const { flags: parserFlags, result: mathStr } = await this.math();\n      if (!mathStr) return (this.result = null);\n      try {\n        compiled = this.mathJS.parse(mathStr).compile();\n      } catch (e) {\n        console.debug(`failed to parse result from algebra slave`, {\n          e,\n          mathStr,\n          scope,\n          latex: this.latex\n        });\n        compiled = \"error\";\n      }\n      this.cacheCalc(this.latex, compiled);\n      console.debug(\"compiled expression\", {\n        latex: this.latex,\n        mathStr,\n        compiled\n      });\n    }\n\n    let result: any,\n      { flags, result: mathStr } = this.resolveCachedLatex(this.latex)!;\n\n    try {\n      if (flags.noVarSubInPostProcessing) {\n        result = mathStr;\n      } else {\n        result = compiled.evaluate(scope);\n      }\n    } catch (e) {\n      result = mathStr;\n    } finally {\n      if (typeof result === \"string\" && !flags.noVarSubInPostProcessing) {\n        try {\n          const parsed = this.mathJS.parse(result);\n          const symbols = parsed\n            .filter(n => n.isSymbolNode)\n            .map(n => n.toString())\n            .filter(n => !(this.mathJS as any)[n])\n            .filter((n,i,a) => a.indexOf(n) === i);\n          if (symbols.length === 1 && symbols[0] === 'x') {\n            let resultFn = this.mathJS.parse(`f(x)=${mathStr}`).compile().evaluate({});\n\n            try {\n              resultFn(0);\n            } catch (e) {\n              resultFn = null;\n            }\n\n            if (resultFn) {\n              this.resultFn = resultFn;\n            }\n          } else this.resultFn = null;\n        } catch { this.resultFn = null; }\n      } else if (\n        typeof result === \"function\" ||\n        typeof result === \"undefined\"\n      ) {\n        if (typeof result === \"function\") {\n          try {\n            result(0);\n          } catch (e) {\n            this.error = e.message;\n            result = null;\n          }\n          if (result) {\n            result[\"original\"] = mathStr;\n          }\n          this.resultFn = result;\n        }\n      } else this.resultFn = null;\n    }\n\n    if (typeof result === \"number\") {\n      result = this.mathJS.round(result, 10);\n    }\n\n    console.debug('calculation complete', {\n      scope,\n      cachedResult,\n      compiled,\n      flags,\n      result,\n      resultFn: this.resultFn\n    });\n\n    this.result = result;\n\n    return result;\n  }\n\n  toggleGraph() {\n    this.showGraph = !this.showGraph;\n  }\n\n  async updateResultView(result: any) {\n    switch (this.renderFormat) {\n      case \"frac\":\n        var frac = await this.fraction(result);\n        if (frac) {\n          this.resultView.latex(frac);\n          break;\n        }\n      case \"dec\":\n      default:\n        try {\n          if (isNaN(result)) {\n            const oldResult = result;\n            result = nerdamer(oldResult).toTeX();\n          }\n          if (typeof result.toTeX === \"function\") result = result.toTeX();\n          if (typeof result.toTex === \"function\") result = result.toTex();\n        } catch (e) {\n          console.debug(\"failed to render result\", e, {\n            result,\n            latex: this.latex\n          });\n          result = \"error\";\n        }\n        this.resultView.latex(result);\n        break;\n    }\n  }\n\n  /**\n   * Returns a fraction representation\n   */\n  async fraction(result: string) {\n    try {\n      return (this.mathJS.fraction(result) as any).toLatex();\n    } catch {\n      return null;\n    }\n  }\n\n  toggleRenderFormat() {\n    this.renderFormat = this.renderFormat === \"dec\" ? \"frac\" : \"dec\";\n  }\n\n  /**\n   * Gets all Vue components of this tool from the Editor layer\n   */\n  components(): Promise<MathQuillComponent[]> {\n    return new Promise(resolve => this.$emit(\"get:components\", resolve));\n  }\n}\n\nMathQuillComponent.startGarbageWatcher(15000, 30000);\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MathQuillComponent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MathQuillComponent.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MathQuillComponent.vue?vue&type=template&id=f4c94712&\"\nimport script from \"./MathQuillComponent.vue?vue&type=script&lang=ts&\"\nexport * from \"./MathQuillComponent.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MathQuillComponent.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [{\"enable-background\":\"new 0 0 19.342 19.342\"},style,staticStyle],\n              attrs: Object.assign({\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 19.342 19.342\",\"style\":\"enable-background:new 0 0 19.342 19.342;\",\"xml:space\":\"preserve\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M2.833,4.491c0,0,0.513,0.491,0.513,0.776v12.568c0,0.832,0.736,1.507,1.645,1.507h9.362\\r\\n\\t\\t\\tc0.908,0,1.644-0.675,1.644-1.507V5.268c0-0.286,0.515-0.776,0.515-0.776V2.969H2.833V4.491z M12.36,6.23h1.223v9.705H12.36V6.23z\\r\\n\\t\\t\\t M9.086,6.23h1.22v9.705h-1.22V6.23z M6.137,6.23h1.221v9.705H6.137V6.23z\"}}),_c('path',{attrs:{\"d\":\"M17.108,1.711h-3.791C13.128,0.74,12.201,0,11.087,0H8.257C7.143,0,6.216,0.74,6.027,1.711H2.235\\r\\n\\t\\t\\tv0.93h14.873V1.711z M7.297,1.711c0.156-0.344,0.528-0.586,0.96-0.586h2.829c0.433,0,0.804,0.243,0.961,0.586H7.297z\"}})])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [{\"enable-background\":\"new 0 0 512 512\"},style,staticStyle],\n              attrs: Object.assign({\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 512 512\",\"style\":\"enable-background:new 0 0 512 512;\",\"xml:space\":\"preserve\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('g',[_c('g',[_c('g',[_c('rect',{attrs:{\"x\":\"128\",\"y\":\"144\",\"width\":\"32\",\"height\":\"32\"}}),_c('rect',{attrs:{\"x\":\"192\",\"y\":\"144\",\"width\":\"32\",\"height\":\"32\"}}),_c('polygon',{attrs:{\"points\":\"256,144 256,176 480,176 480,336 32,336 32,176 96,176 96,144 0,144 0,368 512,368 512,144 \\t\\t\\t\"}}),_c('path',{attrs:{\"d\":\"M64,304h96v-96H64V304z M96,240h32v32H96V240z\"}}),_c('path',{attrs:{\"d\":\"M352,208v96h96v-96H352z M416,272h-32v-32h32V272z\"}}),_c('path',{attrs:{\"d\":\"M208,304h96v-96h-96V304z M240,240h32v32h-32V240z\"}})])])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])\n          )\n        }\n      }\n    ","import EditorJS, { EditorConfig, SanitizerConfig, PasteEvent } from \"@editorjs/editorjs\";\nconst List = require('@editorjs/list');\nconst CheckList = require('@editorjs/checklist');\nconst janitor = require(\"html-janitor\");\nconst Code = require('@editorjs/code');\nconst Raw = require('@editorjs/raw');\nconst Paragraph = require('@editorjs/paragraph');\nconst Table = require('@editorjs/table');\n\nfunction hook(lib: any, meth: string, replacement: (old: Function) => (this: any, ...args: any[]) => any) {\n    const oldMeth = lib[meth] || (() => void 0);\n    const newMeth = replacement(oldMeth);\n    lib[meth] = function (...args: any[]) {\n        return newMeth.apply(this, args);\n    }\n}\n\nfunction hookGet(lib: any, prop: string, replacement: (old: Function) => (this: any) => any) {\n    const oldGet = Object.getOwnPropertyDescriptor(lib, prop)!.get!;\n    const newGet = replacement(oldGet);\n    Object.defineProperty(lib, prop, {\n        get() {\n            return newGet.call(this);\n        }\n    });\n}\n\nfunction hookSet(lib: any, prop: string, replacement: (old: Function) => (this: any, newVal: any) => any) {\n    const oldSet = Object.getOwnPropertyDescriptor(lib, prop)!.set!;\n    const newSet = replacement(oldSet);\n    Object.defineProperty(lib, prop, {\n        set(newVal) {\n            return newSet.call(this, newVal);\n        }\n    });\n}\n\n/**\n * Loads patches to be applied to the EditorJS clipboard system, allows complex tools to easily serialize/deserialize\n * @param editor editorjs instance\n */\nfunction loadClipboardPatches(editor: EditorJS) {\n    const core = (editor as any).core;\n    const { Dom: { constructor: Dom } , Sanitizer, Paste, BlockSelection, } = (editor as any).core.moduleInstances;\n\n    /**\n     * Patched janitor generator, accounts for overrides from EditorJS\n     * @param config sanitizer config\n     */\n    function createHTMLJanitorInstance(config: { tags: SanitizerConfig }) {\n        var janet = null;\n        if (config) {\n            const blockElements: string[] = core.configuration.blockElements || [];\n            const inlineElements: string[] = core.configuration.inlineElements || [];\n            const specialElements: string[] = core.configuration.specialElements || [];\n            blockElements.forEach(block => config.tags[block] = true);\n            inlineElements.forEach(inline => config.tags[inline] = true);\n            janet = new janitor(Object.assign({}, config, {\n                blockElements: blockElements.map((str: string) => str.toUpperCase()),\n                inlineElements: inlineElements.map((str: string) => str.toUpperCase()),\n                specialElements: specialElements.map((str: string) => str.toUpperCase()),\n                keepNestedBlockElements: true\n            }));\n        }\n        return janet;\n    }\n\n    hook(Sanitizer.__proto__, 'createHTMLJanitorInstance', old => createHTMLJanitorInstance);\n\n    /**\n     * Returns true if and only if the node or its descendants contain a special element.\n     * @param node node to search\n     */\n    function hasSpecial(node: Node): boolean {\n        if (core.configuration.specialElements.includes(node.nodeName.toLowerCase())) return true;\n        const childs = Array.from(node.childNodes);\n        return childs.some(child => hasSpecial(child));\n    }\n\n    /**\n     * If special elements are present, ensure processText knows to treat it as HTML\n     */\n    hook(Paste, 'processText', old => function (...args: any[]) {\n        const [data] = args;\n\n        const sandbox = document.implementation.createHTMLDocument();\n        const host = sandbox.createElement('div');\n        host.innerHTML = data;\n\n        if (hasSpecial(host)) {\n            return old.call(this, host.innerHTML, true);\n        }\n\n        return old.call(this, ...args);\n    });\n\n    /**\n     * If the node is special, never treat it as empty\n     */\n    hook(Dom, 'isEmpty', old => function(node: Node): boolean {\n        if (core.configuration.specialElements.includes(node.nodeName.toLowerCase())) {\n            return false;\n        }\n        return old.call(this, node);\n    })\n\n    /**\n     * Ensures special nodes are translated to the correct tool event\n     */\n    hook(Paste, 'processHTML', old => function (innerHTML: string) {\n        const wrapper: HTMLDivElement = Dom.make('DIV');\n\n        wrapper.innerHTML = innerHTML;\n\n        /**\n         * Specials are replaced with a text fragment containing a unique string that maps back to the specials data\n         */\n        const specials: any[] = [];\n        const specialTexts: string[] = [];\n        let children = Array.from(wrapper.children);\n\n        const prefix = '_32@!#+_'\n\n        children.forEach((child, index) => {\n            if (!hasSpecial(child)) return;\n            specials[index] = child;\n            const text = `${prefix}${index}`;\n            specialTexts[index] = text;\n            const replacement = document.createTextNode(text);\n            wrapper.replaceChild(replacement, child);\n        });\n\n        /**\n         * The mangled children are then passed to the original code, and then we replace the text fragment events with tool events\n         */\n        let result: any[] = old.call(this, wrapper.innerHTML);\n\n        const eventForIndex = (specialIndex: number) => {\n            const content = specials[specialIndex].children[0];\n            return {\n                content,\n                isBlock: true,\n                tool: this.toolsTags[content.tagName].tool,\n                event: this.composePasteEvent('tag', {\n                    data: content,\n                })\n            }\n        }\n\n        let newResults: any[] = [];\n\n        // translate the results to their specialdata\n        result.forEach((ev: any) => {\n            const details = ev.content;\n            const content = details instanceof HTMLElement && details.innerText;\n            if (!content) return newResults.push(ev);\n            const contents = content.split(prefix).map(i => parseInt(i)).filter(i => !isNaN(i));\n            if (contents.length === 0) return newResults.push(ev);\n            contents.forEach(c => newResults.push(eventForIndex(c)));\n        });\n\n        newResults = newResults.filter(r => !!r);\n\n        return newResults;\n    });\n\n    /**\n     * Copies supplied text to the clipboard\n     * @param text text to copy\n     */\n    function copyTextToClipboard(text: string) {\n        const el = document.createElement('div');\n        el.className = 'codex-editor-clipboard';\n        el.innerText = text;\n\n        document.body.appendChild(el);\n\n        const selection = window.getSelection();\n        const range = document.createRange();\n        range.selectNode(el);\n\n        window.getSelection()!.removeAllRanges();\n        selection!.addRange(range);\n\n        document.execCommand('copy');\n        document.body.removeChild(el);\n    }\n\n    /**\n     * Ensures the correct sanitizer is used (which will take into account special elements)\n     */\n    hook(BlockSelection, 'copySelectedBlocks', old => function () {\n        const fakeClipboard = document.createElement('div');\n\n        this.selectedBlocks.forEach((block: any) => {\n            /**\n             * Make <p> tag that holds clean HTML\n             */\n\n            const cleanHTML = this.Editor.Sanitizer.clean(block.holder.innerHTML, this.sanitizerConfig);\n            const fragment = document.createElement('p');\n\n            fragment.innerHTML = cleanHTML;\n            fakeClipboard.appendChild(fragment);\n        });\n\n        copyTextToClipboard(fakeClipboard.innerHTML);\n    });\n\n    hookGet(Dom, 'blockElements', old => function() {\n        const elements = old.call(this);\n        core.configuration.specialElements.forEach((e: string) => elements.push(e.toLowerCase()));\n        return elements;\n    });\n}\n\n/**\n * Patches bugs in tools to make them work properly/in an expected behavior\n */\nfunction loadToolPatches(editor: EditorJS) {\n    const { UI } = (editor as any).core.moduleInstances;\n    const { Editor } = UI;\n    // properly gets out of list because the plugin is fucking stupid\n    hook(List.prototype, 'getOutofList', old => function (event: KeyboardEvent) {\n        old.call(this, event);\n        if (!event.defaultPrevented) return;\n        this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex());\n    });\n\n    // Fixes checklist exit list bug because stupid\n    hook(CheckList.prototype, 'appendNewElement', old => function(event: KeyboardEvent) {\n        const oldStopPropogation = event.stopPropagation;\n\n        let propogationStopped: boolean = false;\n\n        event.stopPropagation = function() {\n            propogationStopped = true;\n            oldStopPropogation.call(this);\n        }\n\n        const insertNewBlock = (editor as any).core.moduleInstances.BlocksAPI.insertNewBlock;\n        let shouldInsert: boolean = false;\n        (editor as any).core.moduleInstances.BlocksAPI.insertNewBlock = () => shouldInsert = true;\n\n        old.call(this, event);\n\n        (editor as any).core.moduleInstances.BlocksAPI.insertNewBlock = insertNewBlock;\n\n        setTimeout(() => {\n            if (!propogationStopped) return;\n\n            this._elements.items[this._elements.items.length - 1].remove();\n            this._elements.items.splice(this._elements.items.length - 1, 1);\n\n            if (shouldInsert) {\n                let needsFocus = this.Editor.moduleInstances.BlockManager.insert();\n                this.Editor.moduleInstances.Caret.setToBlock(needsFocus, this.Editor.moduleInstances.Caret.positions.END)\n            }\n        }, 0);\n    });\n\n    Paragraph.prototype.onTab = function(event: KeyboardEvent) {\n        if (!this._suggestions) {\n            return false;\n        }\n\n        if (event) {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n\n        if (typeof this.selectedSuggestion === 'undefined') this.selectedSuggestion = 0;\n        else this.selectedSuggestion++;\n        const oldSuggestion = this.suggestions[this.selectedSuggestion - 1];\n        let suggestion = this.suggestions[this.selectedSuggestion];\n        if (!suggestion) suggestion = this.suggestions[this.selectedSuggestion = 0];\n\n        if (oldSuggestion) (oldSuggestion as HTMLElement).classList.remove('active');\n        if (suggestion) suggestion.classList.add('active');\n\n        return true;\n    }\n\n    Paragraph.prototype.teardownSuggestions = function() {\n        console.log('tearing down suggestions');\n        if (this._suggestions) (this._suggestions as HTMLElement).remove();\n        delete this._suggestions;\n        delete this.suggestions;\n        delete this.selectedSuggestion;\n        currentSuggested = null;\n    }\n\n    Paragraph.prototype.focused = function(newVal: boolean) {\n        if (!newVal && this._suggestions) {\n            this.teardownSuggestions();\n        }\n    }\n\n    Paragraph.prototype.selectSuggestion = function(suggestion: HTMLElement) {\n        const selected = suggestion.innerText;\n\n        const block = (editor as any).core.moduleInstances.BlockManager.composeBlock(selected, {});\n        const currentIndex = (editor as any).core.moduleInstances.BlockManager._blocks.indexOf(this.block);\n        (editor as any).core.moduleInstances.BlockManager._blocks.insert(currentIndex, block, true);\n\n        (editor as any).core.moduleInstances.Caret.setToBlock(block);\n\n        this.teardownSuggestions();\n    }\n\n    Paragraph.prototype.onEnter = function(event: KeyboardEvent) {\n        if (!this._suggestions) {\n            return false;\n        }\n\n        event.preventDefault();\n        event.stopPropagation();\n        \n        this.selectSuggestion(this.suggestions[this.selectedSuggestion]);\n\n        return true;\n    }\n\n    Paragraph.prototype.removed = function() {\n        this.teardownSuggestions();\n    }\n\n    let currentSuggested: any;\n\n    Editor.Listeners.on(window, 'resize', () => {\n        if (currentSuggested) {\n            currentSuggested.redrawSuggestions();\n        }\n    });\n\n    const wrapper = UI.nodes.wrapper;\n    const parent = wrapper.parentElement;\n    parent.scrollTop = parent.scrollHeight;\n\n    Editor.Listeners.on(parent, 'scroll', () => {\n        requestAnimationFrame(function() {\n            if (currentSuggested) {\n                currentSuggested.redrawSuggestions();\n            }\n        })\n    })\n\n    Paragraph.prototype.redrawSuggestions = function() {\n        const {textContent} = this._element as HTMLElement;\n\n        const [ command ] = textContent!.substring(1).split(' ');\n        const tools = Object.keys((editor as any).core.moduleInstances.Tools.blockTools);\n        const possible = tools.filter(t => t.startsWith(command)).sort((a, b) => a.length - b.length);\n        const match = possible.find(t => t === command);\n\n        if (possible.length === tools.length) return;\n\n        const suggestions = this.suggestions = possible.map(s => {\n            const elm = document.createElement('span');\n            elm.innerText = s;\n            elm.classList.add('tool-suggestion');\n            elm.addEventListener('click', () => this.selectSuggestion(elm));\n            return elm;\n        });\n\n        if (this._suggestions) (this._suggestions as HTMLElement).remove();\n        const suggestionContainer = this._suggestions = document.createElement('span');\n        suggestionContainer.style.position = 'absolute';\n        suggestionContainer.classList.add('tool-suggestion-container');\n        const range = window.getSelection()!.getRangeAt(0).cloneRange();\n        range.collapse(true);\n        suggestionContainer.style.left = range.getClientRects()[0].left + 'px';\n\n        const getPxStyle = (style: string) => parseFloat((getComputedStyle(this._element) as any)[style].split('px')[0]);\n\n        const offset = (getPxStyle('lineHeight') - getPxStyle('fontSize')) / 2;\n\n        suggestionContainer.style.top = this._element.getBoundingClientRect().top + getPxStyle('padding-top') + offset + window.scrollY + 'px';\n        suggestions.forEach(s => suggestionContainer.appendChild(s));\n\n        document.body.appendChild(suggestionContainer);\n    }\n\n    hook(Paragraph.prototype, 'onKeyUp', old => function(event: KeyboardEvent) {\n        old.call(this, event);\n\n        const wantsCompletion = event.code === 'Tab';\n\n        if (wantsCompletion) return;\n\n        const {textContent} = this._element as HTMLElement;\n        if (!textContent!.startsWith('/') || textContent!.substring(1).split(' ').length > 1 || textContent === '/') {\n            if (this._suggestions) {\n                console.debug('paragraph is tearing down suggestions');\n                this.teardownSuggestions();\n            }\n            return;\n        }\n\n        currentSuggested = this;\n\n        this.redrawSuggestions();\n\n        this.onTab();\n    });\n\n    Code.prototype.ignoreBackspace = Raw.prototype.ignoreBackspace = function(e: KeyboardEvent) {\n        const empty = this.block.holder.querySelector('textarea').value.length === 0\n        if (empty) {\n            const index = this.Editor.moduleInstances.BlockManager.currentBlockIndex;\n            this.Editor.moduleInstances.BlockManager.removeBlock(index);\n            const previousBlock = this.Editor.moduleInstances.BlockManager.blocks[index];\n            let needsFocus = previousBlock;\n            if (!previousBlock) {\n                needsFocus = this.Editor.moduleInstances.BlockManager.insert(undefined, undefined, undefined, index);\n            }\n            this.Editor.moduleInstances.Caret.setToBlock(needsFocus, this.Editor.moduleInstances.Caret.positions.END)\n            return true;\n        }\n        return false;\n    }\n    \n    // Table Extensions\n\n    let { __proto__: _TableConstructor, _table: { __proto__: _Table }} = new Table({data: { content: [] }, config: { }, api: { styles: { }}})._tableConstructor;\n\n    _Table.deleteRow = function(index: number = -1) {\n        this._numberOfRows--;\n        this._table.deleteRow(index);\n    }\n\n    _Table.deleteColumn = function(index: number = -1) {\n        this._numberOfColumns--;\n        /** Delete cell in each row */\n        const rows = this._table.columns;\n\n        for (let i = 0; i < rows.length; i++) {\n            rows[i].deleteCell(index);\n        }\n    }\n\n    _TableConstructor._deleteRow = function(index: number = -1) {\n        this._table.deleteRow(index);\n    }\n\n    _TableConstructor._deleteColumn = function(index: number = -1) {\n        this._table.deleteColumn(index);\n    }\n}\n\n/**\n * Better integrates tools into the EditorJS API\n * @param editor editor\n */\nfunction loadBlockPatches(editor: EditorJS) {\n    const core = (editor as any).core;\n\n    const Block = core.moduleInstances.BlockManager.composeBlock(core.config.initialBlock, {}, {}).__proto__;\n\n    /**\n     * Allows tools to implement the isEmpty check\n     */\n    hookGet(Block, 'isEmpty', old => function () {\n        const result = this.call('isEmpty');\n        if (typeof result === 'boolean') return result;\n        return old.call(this);\n    });\n\n    hookSet(Block, 'focused', old => function(newVal) {\n        old.call(this, newVal);\n        this.call('focused', newVal);\n    });\n\n    hookSet(Block, 'selected', old => function(newVal) {\n        old.call(this, newVal);\n        this.call('selected', newVal);\n    });\n\n    /**\n     * Allows calls to be passed to the tool\n     */\n    Block.call = function (this: typeof Block, methodName: string, params?: object) {\n        if (this.tool[methodName] && this.tool[methodName] instanceof Function) {\n            try {\n                return this.tool[methodName](params);\n            } catch (e) {\n                console.warn(`Error during '${methodName}' call: ${e.message}`);\n            }\n        }\n    }\n\n    /**\n     * Expose the core and block to the tool\n     */\n    hook(Block, 'compose', old => function (this: typeof Block) {\n        this.tool.Editor = core;\n        this.tool.block = this;\n        return old.call(this);\n    });\n}\n\n\n\nfunction hasAncestor(node: Node, ancestor: Node) {\n    let parent = node;\n    if (!parent) return false;\n    while (parent) {\n        if (parent.isEqualNode(ancestor)) return true;\n        parent = parent.parentNode!;\n    }\n    return false;\n}\n\n/**\n * Allows tools to override various events, and exposes keydown to the global event namespace\n * @param editor editor\n */\nfunction loadBlockEventPatches(editor: EditorJS) {\n    const core = (editor as any).core;\n    const { BlockEvents, BlockManager, Events, Caret, UI } = core.moduleInstances;\n\n    hook(BlockEvents, 'tabPressed', old => function(event: KeyboardEvent) {\n         /**\n         * Clear blocks selection by tab\n         */\n        this.Editor.BlockSelection.clearSelection(event);\n\n        const { BlockManager } = this.Editor;\n        const currentBlock = BlockManager.currentBlock;\n\n        if (!currentBlock) {\n            return;\n        }\n\n        const shouldHandoffTabEvent = currentBlock.call('onTab', event);\n        if (shouldHandoffTabEvent) return;\n\n        old.call(this, event);\n    });\n\n    /**\n     * Allows tool to override backspace\n     */\n    hook(BlockEvents, 'backspace', old => function (event: KeyboardEvent) {\n        const currentBlock = BlockManager.currentBlock;\n\n        if (currentBlock.call('ignoreBackspace', event) === true) return;\n\n        old.call(this, event);\n    });\n\n    function ancestorHasClass(node: HTMLElement, className: string) {\n        let ancestor = node;\n        if (!ancestor) return false;\n        while (ancestor) {\n            if (!ancestor.classList) {\n                ancestor = ancestor.parentElement!;\n                continue;\n            }\n            if (ancestor.classList.contains(className)) return true;\n            ancestor = ancestor.parentElement!;\n        }\n        return false;\n    }\n\n    hook(BlockManager, 'highlightCurrentNode', old => function() {\n        old.call(this);\n        setTimeout(() => {\n            const focusNode = window.getSelection()!.focusNode;\n            const needsFocus = !ancestorHasClass(focusNode as HTMLElement, 'ce-block') || !hasAncestor(focusNode!, BlockManager.currentBlock.holder);\n            if (needsFocus) {\n                Caret.setToBlock(BlockManager.currentBlock, Caret.positions.END)\n            }\n        });\n    });\n\n    // sticky to bottom when overflowing!\n    hook(BlockManager._blocks.__proto__, 'insertToDOM', old => function(...args: any[]) {\n        old.call(this, ...args);\n\n        const [ block ] = args;\n        const index = this.indexOf(block);\n        if ((this.length - 3 - index) < 3) {\n            console.log(' lets eat');\n            const wrapper = UI.nodes.wrapper;\n            const parent = wrapper.parentElement;\n            parent.scrollTop = parent.scrollHeight;\n        }\n    });\n\n\n    /**\n     * Allows tool to override arrow keys\n     */\n    hook(BlockEvents, 'arrowLeftAndUp', old => function (event: KeyboardEvent) {\n        const { currentBlock } = this.Editor.BlockManager;\n        const direction = event.keyCode === 38 ? 'up' : 'left';\n        if (currentBlock.tool && currentBlock.tool.keyOverrides && currentBlock.tool.keyOverrides.indexOf(direction) > 0) return;\n        old.call(this, event);\n    });\n\n    /**\n     * Allows tool to override arrow keys\n     */\n    hook(BlockEvents, 'arrowRightAndDown', old => function (event: KeyboardEvent) {\n        const { currentBlock } = this.Editor.BlockManager;\n        const direction = event.keyCode === 40 ? 'down' : 'right';\n        if (currentBlock.tool && currentBlock.tool.keyOverrides && currentBlock.tool.keyOverrides.indexOf(direction) > 0) return;\n        old.call(this, event);\n    });\n\n    /**\n     * Allows tool to override enter key\n     */\n    hook(BlockEvents, 'enter', old => function (event: KeyboardEvent) {\n        const { BlockManager } = this.Editor;\n        const { tool } = BlockManager.currentBlock;\n        if (tool && tool.customEnter === true) return;\n        old.call(this, event);\n    });\n\n    hook(BlockEvents, 'enter', old => function(event: KeyboardEvent) {\n        const { BlockManager } = this.Editor;\n        const { currentBlock } = BlockManager;\n        const shouldHandoffEnterEvent = currentBlock.call('onEnter', event);\n        if (shouldHandoffEnterEvent) return;\n        old.call(this, event);\n    });\n\n    hook(UI, 'enterPressed', old => function(event: KeyboardEvent) {\n        const { BlockManager, BlockSelection, Caret } = this.Editor;\n        const hasPointerToBlock = BlockManager.currentBlockIndex >= 0;\n\n        if (BlockSelection.anyBlockSelected) {\n            return old.call(this, event);\n        }\n\n        const currentBlock = BlockManager.currentBlock;\n        if (currentBlock && currentBlock.tool) {\n            if (currentBlock.call('onEnter', event)) return;\n        }\n\n        return old.call(this, event);\n    })\n\n    /**\n     * Dispatch keydown to the main events world\n     */\n    hook(BlockEvents, 'keydown', old => function (...args) {\n        old.call(this, ...args);\n        Events.emit('keydown', ...args);\n    });\n}\n\n/**\n * Allows tools to implement their own position logic, and dispatches changes to the event world\n * @param editor editor\n */\nfunction loadCaretPatches(editor: EditorJS) {\n    const core = (editor as any).core;\n    const { Caret, Events } = core.moduleInstances;\n    const CaretProto = Caret.__proto__;\n\n    /**\n     * Prevent caret selection of null\n     */\n    hook(Caret, 'setToBlock', old => function (block: any, position: string, offset: number) {\n        if (block === null) return;\n        old.call(this, block, position, offset);\n    });\n\n    /**\n     * Dispatches caret changes to the main events world\n     */\n    hook(Caret, 'set', old => function (...args: any[]) {\n        old.call(this, ...args);\n        Events.emit('caretChanged', ...args);\n    });\n\n    /**\n     * Allows tools to implement their own isAtStart logic\n     */\n    hookGet(CaretProto, 'isAtStart', old => function () {\n        const currentBlock = this.Editor.BlockManager.currentBlock;\n        const blockSaysAtStart = currentBlock.call('isAtStart');\n        if (typeof blockSaysAtStart === 'boolean') return blockSaysAtStart;\n        return old.call(this);\n    });\n\n    /**\n     * Allows tools to implement their own isAtEnd logic\n     */\n    hookGet(CaretProto, 'isAtEnd', old => function () {\n        const currentBlock = this.Editor.BlockManager.currentBlock;\n        const blockSaysAtEnd = currentBlock.call('isAtEnd');\n        if (typeof blockSaysAtEnd === 'boolean') return blockSaysAtEnd;\n        return old.call(this);\n    });\n}\n\n/**\n * Notifies tools when moved, allows tools to deny paste, attaches to blockIndexChanged listener\n * @param editor editor\n */\nfunction loadBlockManagerPatches(editor: EditorJS) {\n    const core = (editor as any).core;\n    const { BlockManager } = core.moduleInstances;\n\n    /**\n     * Allows tools to implement checks for whether pastes are valid\n     */\n    BlockManager.paste = function (toolName: string, pasteEvent: PasteEvent, replace: boolean = false) {\n        let block;\n\n        if (replace) {\n            block = this.replace(toolName);\n        } else {\n            block = this.insert(toolName);\n        }\n\n        if (block.call('canPaste', pasteEvent) === false) {\n            this.removeBlock(this.blocks.indexOf(block));\n            return null;\n        }\n\n        try {\n            block.call('onPaste', pasteEvent);\n        } catch (e) {\n            console.error(`${toolName}: onPaste callback call is failed`, e);\n        }\n\n        return block;\n    }\n\n    /**\n     * Notify tools that they were moved\n     */\n    hook(BlockManager._blocks, 'swap', old => function (first: number, second: number) {\n        const firstBlock = this.blocks[first];\n        const secondBlock = this.blocks[second];\n        old.call(this, first, second);\n        firstBlock.call('moved', 1);\n        secondBlock.call('moved', 2);\n    });\n\n    /**\n     * Dispatches that the block index changed if there is a listener registered on the editor instance\n     */\n    hookSet(BlockManager.__proto__, 'currentBlockIndex', old => function (newVal) {\n        old.call(this, newVal);\n        const updateHandler = (editor as any).blockIndexDidChange;\n        if (typeof updateHandler === 'function') updateHandler(newVal);\n    });\n}\n\nfunction loadUsabilityPatches(editor: EditorJS) {\n    const core = (editor as any).core;\n    const { BlockSelection, BlockManager, Caret, Toolbox, Dom: {constructor: $}, RectangleSelection, Selection, Toolbar, UI, Tooltip: { lib: Tooltip } } = core.moduleInstances;\n\n    hook(BlockSelection, 'handleCommandA', old => function(event: KeyboardEvent): void {\n        /** allow default selection on native inputs */\n        if ($.isNativeInput(event.target) && !this.readyToBlockSelection) {\n            return old.call(this, event);\n        }\n\n        const workingBlock = this.Editor.BlockManager.getBlock(event.target as HTMLElement);\n        if (workingBlock.holder.innerText.trim().length === 0) {\n            this.needToSelectAll = true;\n        }\n\n        return old.call(this, event);\n    });\n\n    hook(RectangleSelection, 'genInfoForMouseSelection', old => function() {\n        if (!this.Editor.BlockManager.lastBlock) {\n            // insert new block to prevent errors and unexpected functionality\n            const block = BlockManager.insert();\n            Caret.setToBlock(block);\n        }\n        return old.call(this);\n    });\n\n    // ignore if touchMoving is true\n    hook(Toolbox, 'toolButtonActivate', old => function(...args: any[]) {\n        if ((editor as any).VueEditor) {\n            if ((editor as any).VueEditor.touchMoving) {\n                return;\n            }\n        }\n        return old.call(this, ...args);\n    });\n\n    function hasTouch() {\n        return 'ontouchstart' in document.documentElement\n               || navigator.maxTouchPoints > 0\n               || navigator.msMaxTouchPoints > 0;\n    }\n\n    hook(Tooltip, 'show', old => function(...args: any[]) {\n        if (hasTouch()) return;\n        old.call(this, ...args);\n    })\n\n    hook(UI, 'documentClicked', old => function(...args: any[]) {\n        if ((editor as any).VueEditor) {\n            if ((editor as any).VueEditor.touchMoving) {\n                return;\n            }\n        }\n        return old.call(this, ...args);\n    });\n\n    hook(Toolbar, 'move', old => function(forceClose: boolean = true) {\n        if (forceClose) {\n            /** Close Toolbox when we move toolbar */\n            this.Editor.Toolbox.close();\n            this.Editor.BlockSettings.close();\n        }\n\n        const currentBlock = this.Editor.BlockManager.currentBlock;\n        \n        if (!currentBlock) {\n            return;\n        }\n\n        return old.call(this, forceClose);\n    });\n\n    hook(UI, 'redactorClicked', old => function(event: MouseEvent) {\n        const selection = window.getSelection();\n\n        const collapsed = selection ? selection.isCollapsed : null;\n        if (!collapsed) {\n            return;\n        }\n    \n        if (!this.Editor.BlockManager.currentBlock) {\n            const block = this.Editor.BlockManager.insert();\n            Caret.setToBlock(block);\n            Toolbar.move(true);\n        }\n\n        return old.call(this, event);\n    })\n\n    hook(UI, 'removeLoader', old => function() {\n        if ((editor as any).VueEditor) {\n            return (editor as any).VueEditor.$once('ready', old.bind(this));\n        }\n        old.call(this);\n    });\n\n    hook(BlockManager, 'clearFocused', () => function(skipCurrentBlock: boolean = false) {\n        (this.blocks as any[]).forEach( (block, index) => {\n            if (skipCurrentBlock && index === this.currentBlockIndex) return;\n            block.focused = false\n        });\n    });\n\n    hook(Toolbar, 'move', old => function(...args: any[]) {\n        const currentBlock = BlockManager.currentBlock.holder;\n        if (!currentBlock) return;\n\n        BlockManager.clearFocused(true);\n        currentBlock.focused = true\n\n        old.call(this, ...args);\n    });\n}\n\n/**\n * Loads various patches to EditorJS to better integrate\n * @param editor editor\n */\nexport default async function patchEditorJS(editor: EditorJS) {\n    (editor as any).core.editor = editor;\n\n    hook((editor as any).core, 'start', old => async function() {\n        await old.call(this).then(() => {\n            loadClipboardPatches(editor);\n            loadToolPatches(editor);\n            loadBlockPatches(editor);\n            loadBlockEventPatches(editor);\n            loadCaretPatches(editor);\n            loadBlockManagerPatches(editor);\n            loadUsabilityPatches(editor);\n        })\n    });\n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport EditorJS, { OutputData } from \"@editorjs/editorjs\";\nimport { Component, Vue, Prop } from \"vue-property-decorator\";\nimport { toolForVueComponent } from \"@/tools/MQVueTool\";\nimport MathQuillComponent from '@/components/MathQuillComponent.vue';\nimport UploadSVG from \"@/assets/upload.svg?inline\";\nimport TrashSVG from \"@/assets/trash.svg?inline\";\nimport ToolSVG from \"@/assets/tool.svg?inline\";\n\nimport patchEditorJS from \"../editorjs-patches\";\nimport _ from '../util';\n\nconst Checklist = require(\"@editorjs/checklist\");\nconst Code = require(\"@editorjs/code\");\nconst Delimiter = require(\"@editorjs/delimiter\");\nconst Embed = require(\"@editorjs/embed\");\nconst Header = require(\"@editorjs/header\");\nconst InlineCode = require(\"@editorjs/inline-code\");\nconst List = require(\"@editorjs/list\");\nconst Marker = require(\"@editorjs/marker\");\nconst Paragraph = require(\"@editorjs/paragraph\");\nconst Quote = require(\"@editorjs/quote\");\nconst Raw = require(\"@editorjs/raw\");\nconst SimpleImage = require(\"@editorjs/simple-image\");\nconst Table = require(\"@editorjs/table\");\nconst Warning = require(\"@editorjs/warning\");\n\n/**\n * Wrapper around Codex, manages all communication with it.\n */\n@Component({\n  components: {\n    UploadSVG,\n    TrashSVG,\n    ToolSVG\n  }\n})\nexport default class Editor extends Vue {\n  editor: EditorJS;\n  active: string = \"\";\n  lastIndex: number = 0;\n  interval: any;\n  unloadListener: Function;\n  hasChanges: boolean = false;\n\n  name: string | null = null;\n\n  overrides: {\n    showRibbon: boolean | null;\n    showLabels: boolean | null;\n  } = {\n    showRibbon: null,\n    showLabels: null\n  }\n\n  ready: boolean = false;\n\n  get showRibbon(): boolean {\n    if (!this.ready) return false;\n    return this.overrides.showRibbon === null ? this.$store.state.preferences.showToolbox : this.overrides.showRibbon;\n  }\n\n  set showRibbon(val: boolean) {\n    this.overrides.showRibbon = val;\n  }\n\n  get showLabels(): boolean {\n    return this.overrides.showLabels === null ? this.$store.state.preferences.showLabels : this.overrides.showLabels;\n  }\n\n  set showLabels(val: boolean) {\n    this.overrides.showLabels = val;\n  }\n\n  @Prop({ default: false })\n  showBurger: boolean;\n\n  @Prop()\n  exporter: (id: string) => any;\n\n  @Prop()\n  deleter: (id: string) => any;\n\n  @Prop({ default: false })\n  canDelete: boolean;\n\n  toolDrawers: {[key: string]: string[]} = {\n    paragraph: ['list', 'header', 'delimiter', 'quote']\n  };\n\n  openDrawers: string[] = [];\n\n  $refs: {\n    mountPoint: HTMLDivElement;\n  };\n\n  touchMoving: boolean = false;\n\n  created() {\n      // if theres no note, create it before render\n    if (\n      Object.keys(this.$store.state.notes).length === 0 ||\n      Object.values(this.$store.state.notes).filter(n => !!n).length === 0\n    ) {\n      this.$store.dispatch('newNote');\n    }\n\n    window.addEventListener('beforeunload', this.unloadListener = () => this.save());\n  }\n\n  toggleDrawer(drawer: string) {\n    if (this.openDrawers.includes(drawer)) return this.openDrawers.splice(this.openDrawers.indexOf(drawer));\n    this.openDrawers.push(drawer);\n  }\n\n  mounted() {\n      // when the noteID in store changes, save & reload the editor\n    this.$watch(\"noteID\", async (newID: string, oldID) => {\n      if (!this.editor) return;\n\n      this.save(oldID);\n\n      this.editor.clear();\n\n      if (!this.cachedData) return;\n\n      const note = this.note;\n\n      this.hasChanges = false;\n      await this.renderData(this.cachedData);\n    });\n\n    this.$store.subscribe(mutation => {\n      switch (mutation.type) {\n        case 'updateNote':\n        case 'setNote':\n          this.name = this.note.name;\n      }\n    });\n\n    this.name = this.note.name;\n\n    this.$el.addEventListener('touchmove', () => this.touchMoving = true);\n    this.$el.addEventListener('touchend', () => this.touchMoving = false);\n\n    // autosaver (if changes only)\n    this.interval = setInterval(() => {\n      if (!this.editor) return;\n      if (!this.hasChanges) return;\n      this.save();\n      this.hasChanges = false;\n    }, 250);\n\n    this.createEditor();\n  }\n\n  destroyed() {\n    clearInterval(this.interval);\n    window.removeEventListener('beforeunload', this.unloadListener as any);\n  }\n\n  mouseenter(ev: MouseEvent) {\n    if (!(ev.target as HTMLElement).getAttribute('data-tooltip')) return;\n    this.$parent.$emit('ct-mouseenter', ev);\n  }\n\n  mouseleave(ev: MouseEvent) {\n    if (!(ev.target as HTMLElement).getAttribute('data-tooltip')) return;\n    this.$parent.$emit('ct-mouseleave', ev);\n  }\n\n  async renderData(data: OutputData) {\n    data = data || this.cachedData;\n    if (!data || !data.blocks) return;\n    await this.editor.render(data || this.cachedData);\n\n    const quill = (this\n      .editor as any).core.moduleInstances.BlockManager.blocks.find(\n      (block: any) => block.name === \"math\"\n    );\n    if (quill) await quill.tool.send('updateQuills');\n  }\n\n  get quills() {\n    return (this.editor as any).core.moduleInstances.BlockManager.blocks.filter((block: {name: string}) => block.name === 'math');\n  }\n\n  get notInMainToolbox() {\n    return Object.values(this.toolDrawers).reduce((a,c) => a.concat(c), []);\n  }\n\n  /**\n   * Returns note data of the currently selected note\n   */\n  get cachedData() {\n    return this.note && this.note.data;\n  }\n\n  get note() {\n    return this.$store.state.notes[this.noteID] || {};\n  }\n\n  /**\n   * Returns the currently selected note ID\n   */\n  get noteID() {\n    return this.$store.state.currentNote;\n  }\n\n  /**\n   * Updates stored active note ID\n   */\n  set noteID(newVal: string) {\n    this.$store.commit(\"setNote\", newVal);\n  }\n\n  /**\n   * Saves Codex data to store\n   */\n  async save(id: string = this.noteID) {\n    if (!this.$store.state.notes[id]) return;\n    if (!this.hasChanges) return;\n\n    this.$store.commit(\"updateNote\", {\n      data: await this.editor.save(),\n      id\n    });\n  }\n\n  /**\n   * Called when Codex is ready\n   */\n  async editorLoaded() {\n    await this.renderData(this.cachedData);\n\n    (this.editor as any).core.moduleInstances.Events.on('keydown', (ev: KeyboardEvent) => {\n        this.hasChanges = true;\n    });\n\n    // reveal tooltip lib\n    Vue.set(this.$root.$children[0], 'tooltip', this.getModule('API').methods.tooltip);\n\n    // only show ribbon by default if we are on big screen\n    await this.save();\n\n    const redactor = (this.editor as any).core.moduleInstances.UI.nodes.redactor;\n\n    var observer = new MutationObserver((mutation) => {\n      console.debug('reflowing mathquills');\n      this.quills.forEach((q: any) => q.tool.send('reflow'));\n    });\n\n    observer.observe(redactor, {\n      attributes: true, \n      attributeFilter: ['class'],\n      childList: false, \n      characterData: false\n    });\n\n    this.$emit(\"ready\");\n\n    this.ready = true;\n  }\n\n  /**\n   * Creates and mounts a Codex editor, destroying the old one if it exists\n   */\n  createEditor(data?: any) {\n    if (this.editor) {\n      this.editor.destroy();\n    }\n\n    this.editor = new EditorJS({\n      holder: this.$refs.mountPoint,\n      tools: {\n        math: toolForVueComponent(MathQuillComponent, {\n            title: 'Math',\n            icon: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n                <path d=\"M 4 2 C 2.895 2 2 2.895 2 4 L 2 9 C 2 10.105 2.895 11 4 11 L 9 11 C 10.105 11 11 10.105 11 9 L 11 4 C 11 2.895 10.105 2 9 2 L 4 2 z M 15 2 C 13.895 2 13 2.895 13 4 L 13 9 C 13 10.105 13.895 11 15 11 L 20 11 C 21.105 11 22 10.105 22 9 L 22 4 C 22 2.895 21.105 2 20 2 L 15 2 z M 6 4 L 7 4 L 7 6 L 9 6 L 9 7 L 7 7 L 7 9 L 6 9 L 6 7 L 4 7 L 4 6 L 6 6 L 6 4 z M 15 6 L 20 6 L 20 7 L 15 7 L 15 6 z M 4 13 C 2.895 13 2 13.895 2 15 L 2 20 C 2 21.105 2.895 22 4 22 L 9 22 C 10.105 22 11 21.105 11 20 L 11 15 C 11 13.895 10.105 13 9 13 L 4 13 z M 15 13 C 13.895 13 13 13.895 13 15 L 13 20 C 13 21.105 13.895 22 15 22 L 20 22 C 21.105 22 22 21.105 22 20 L 22 15 C 22 13.895 21.105 13 20 13 L 15 13 z M 4.71875 15.03125 L 6.5 16.78125 L 8.28125 15.03125 L 8.96875 15.71875 L 7.21875 17.5 L 8.96875 19.28125 L 8.28125 19.96875 L 6.5 18.21875 L 4.71875 19.96875 L 4.03125 19.28125 L 5.78125 17.5 L 4.03125 15.71875 L 4.71875 15.03125 z M 15 16 L 20 16 L 20 17 L 15 17 L 15 16 z M 15 18 L 20 18 L 20 19 L 15 19 L 15 18 z\"/>\n            </svg>`\n        }, {\n          tags: ['MQ-PASTE-DATA']\n        }),\n        checklist: Checklist,\n        code: Code,\n        // raw: Raw,\n        delimiter: Delimiter,\n        embed: Embed,\n        inlineCode: InlineCode,\n        list: {\n          class: List,\n          inlineToolbar: List\n        },\n        marker: {\n          class: Marker,\n          shortcut: 'CMD+SHIFT+U',\n        },\n        header: {\n          class: Header,\n          inlineToolbar: true\n        },\n        paragraph: {\n          class: Paragraph,\n          inlineToolbar: true\n        },\n        quote: {\n          class: Quote,\n          inlineToolbar: true\n        },\n        image: SimpleImage,\n        table: Table,\n        warning: Warning\n      },\n      data,\n      logLevel: \"VERBOSE\" as any,\n      ['blockElements' as any]: ['mq-paste-data'],\n      ['specialElements' as any]: ['mq-paste-data'],\n      ['patch' as any]: patchEditorJS\n    });\n\n    (this.editor as any).VueEditor = this;\n\n    this.editor.isReady.then(() => this.editorLoaded());\n\n    (this.editor as any).blockIndexDidChange = (index: number) => {\n      if (index > -1) this.lastIndex = index;\n      const block = (this.editor as any).core.moduleInstances.BlockManager\n        .blocks[index];\n      if (!block) return;\n      this.active = block.name;\n    };\n  }\n\n  /**\n   * Selects a different tool for editing\n   * @note uses private APIs\n   */\n  switchTool(key: string) {\n    const BlockManager = this.getModule(\"BlockManager\");\n    const Caret = this.getModule(\"Caret\");\n    const Toolbox = this.getModule(\"Toolbar\");\n    const block = BlockManager.composeBlock(key, {});\n    BlockManager._blocks.insert(this.lastIndex, block, true);\n    Caret.setToBlock(block);\n    Toolbox.close();\n  }\n\n  /**\n   * Returns a private API module\n   * @note uses private APIs\n   */\n  getModule(module: string) {\n    return (this.editor as any).core.moduleInstances[module];\n  }\n\n  /**\n   * Parses tools in Codex and transforms them to usable toolbox data\n   * @note uses private APIs\n   */\n  get toolboxData() {\n    try {\n      const tools = (this.editor as any).core.moduleInstances.Tools.toolsClasses;\n      return Object.keys(tools)\n        .map(k => ({ key: k, toolbox: tools[k].toolbox }))\n        .filter(k => !!k.toolbox)\n        .reduce((acc, { key, toolbox }) => {\n          acc[key] = toolbox;\n          return acc;\n        }, {} as any);\n    } catch (e) {\n      return {};\n    }\n  }\n\n  get topLevelToolboxData() {\n    return _.filterObject(this.toolboxData, key => !this.notInMainToolbox.includes(key));\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=60b67832&\"\nimport script from \"./Editor.vue?vue&type=script&lang=ts&\"\nexport * from \"./Editor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Editor.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"viewBox\":\"0 0 512 512\",\"xmlns\":\"http://www.w3.org/2000/svg\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"m499.953125 197.703125-39.351563-8.554687c-3.421874-10.476563-7.660156-20.695313-12.664062-30.539063l21.785156-33.886719c3.890625-6.054687 3.035156-14.003906-2.050781-19.089844l-61.304687-61.304687c-5.085938-5.085937-13.035157-5.941406-19.089844-2.050781l-33.886719 21.785156c-9.84375-5.003906-20.0625-9.242188-30.539063-12.664062l-8.554687-39.351563c-1.527344-7.03125-7.753906-12.046875-14.949219-12.046875h-86.695312c-7.195313 0-13.421875 5.015625-14.949219 12.046875l-8.554687 39.351563c-10.476563 3.421874-20.695313 7.660156-30.539063 12.664062l-33.886719-21.785156c-6.054687-3.890625-14.003906-3.035156-19.089844 2.050781l-61.304687 61.304687c-5.085937 5.085938-5.941406 13.035157-2.050781 19.089844l21.785156 33.886719c-5.003906 9.84375-9.242188 20.0625-12.664062 30.539063l-39.351563 8.554687c-7.03125 1.53125-12.046875 7.753906-12.046875 14.949219v86.695312c0 7.195313 5.015625 13.417969 12.046875 14.949219l39.351563 8.554687c3.421874 10.476563 7.660156 20.695313 12.664062 30.539063l-21.785156 33.886719c-3.890625 6.054687-3.035156 14.003906 2.050781 19.089844l61.304687 61.304687c5.085938 5.085937 13.035157 5.941406 19.089844 2.050781l33.886719-21.785156c9.84375 5.003906 20.0625 9.242188 30.539063 12.664062l8.554687 39.351563c1.527344 7.03125 7.753906 12.046875 14.949219 12.046875h86.695312c7.195313 0 13.421875-5.015625 14.949219-12.046875l8.554687-39.351563c10.476563-3.421874 20.695313-7.660156 30.539063-12.664062l33.886719 21.785156c6.054687 3.890625 14.003906 3.039063 19.089844-2.050781l61.304687-61.304687c5.085937-5.085938 5.941406-13.035157 2.050781-19.089844l-21.785156-33.886719c5.003906-9.84375 9.242188-20.0625 12.664062-30.539063l39.351563-8.554687c7.03125-1.53125 12.046875-7.753906 12.046875-14.949219v-86.695312c0-7.195313-5.015625-13.417969-12.046875-14.949219zm-152.160156 58.296875c0 50.613281-41.179688 91.792969-91.792969 91.792969s-91.792969-41.179688-91.792969-91.792969 41.179688-91.792969 91.792969-91.792969 91.792969 41.179688 91.792969 91.792969zm0 0\"}})])\n          )\n        }\n      }\n    ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"settings-panel\"},[_c('div',{class:['pane-switcher', _vm.activePane === -1 ? 'col-primary' : '']},[_vm._l((_vm.panes),function(pane,index){return _c('span',{key:index,class:['pane-item', _vm.activePane === index ? 'active' : ''],on:{\"click\":function($event){_vm.activePane = index}}},[_vm._v(\" \"+_vm._s(pane.name)+\" \")])}),_c('span',{staticClass:\"pane-item\",on:{\"click\":_vm.openSourcePage}},[_vm._v(\" Source Code \")])],2),(_vm.activePane > -1)?_c('div',{class:['pane', _vm.activePane > -1 ? 'col-primary' : '']},[_c('h2',{staticClass:\"pane-title\"},[_vm._v(_vm._s(_vm.pane.name))]),(_vm.pane.description)?_c('p',{staticClass:\"pane-desc\",domProps:{\"innerHTML\":_vm._s(_vm.pane.description)}}):_vm._e(),(_vm.pane.fields)?_c('form',_vm._l((_vm.pane.fields),function(input,index){return _c('span',{key:index,staticClass:\"input-group\"},[_c('span',{class:['input-field', (\"input-\" + (input.type)), input.options ? 'input-pick' : '']},[(!input.options)?[_c('label',{staticClass:\"input-name\",attrs:{\"for\":((_vm.pane.id) + \":\" + (input.id))}},[_vm._v(_vm._s(input.name))]),((input.type)==='checkbox')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.controls[_vm.pane.id][input.id]),expression:\"controls[pane.id][input.id]\"}],attrs:{\"id\":((_vm.pane.id) + \":\" + (input.id)),\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.controls[_vm.pane.id][input.id])?_vm._i(_vm.controls[_vm.pane.id][input.id],null)>-1:(_vm.controls[_vm.pane.id][input.id])},on:{\"change\":function($event){var $$a=_vm.controls[_vm.pane.id][input.id],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.controls[_vm.pane.id], input.id, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.controls[_vm.pane.id], input.id, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.controls[_vm.pane.id], input.id, $$c)}}}}):((input.type)==='radio')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.controls[_vm.pane.id][input.id]),expression:\"controls[pane.id][input.id]\"}],attrs:{\"id\":((_vm.pane.id) + \":\" + (input.id)),\"type\":\"radio\"},domProps:{\"checked\":_vm._q(_vm.controls[_vm.pane.id][input.id],null)},on:{\"change\":function($event){return _vm.$set(_vm.controls[_vm.pane.id], input.id, null)}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.controls[_vm.pane.id][input.id]),expression:\"controls[pane.id][input.id]\"}],attrs:{\"id\":((_vm.pane.id) + \":\" + (input.id)),\"type\":input.type},domProps:{\"value\":(_vm.controls[_vm.pane.id][input.id])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.controls[_vm.pane.id], input.id, $event.target.value)}}})]:[_c('span',{staticClass:\"input-pick-name\"},[_vm._v(_vm._s(input.name))]),_vm._l((input.options),function(choice,choiceIndex){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.controls[_vm.pane.id][input.id]),expression:\"controls[pane.id][input.id]\"}],key:((_vm.pane.id) + \":\" + (input.id) + \":\" + choice + \":\" + choiceIndex),attrs:{\"type\":\"radio\",\"id\":((_vm.pane.id) + \":\" + (input.id) + \":\" + choiceIndex)},domProps:{\"value\":choice,\"checked\":_vm._q(_vm.controls[_vm.pane.id][input.id],choice)},on:{\"change\":function($event){return _vm.$set(_vm.controls[_vm.pane.id], input.id, choice)}}}),_c('label',{key:((_vm.pane.id) + \":\" + (input.id) + \":\" + choice + \":\" + choiceIndex + \":label\"),staticClass:\"input-name\",attrs:{\"for\":((_vm.pane.id) + \":\" + (input.id) + \":\" + choiceIndex)}},[_vm._v(_vm._s(choice))])]})]],2),(input.description)?_c('span',{staticClass:\"input-desc\"},[_vm._v(_vm._s(input.description))]):_vm._e()])}),0):_vm._e()]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\n\ninterface Pane {\n    id: string;\n    name: string;\n    component?: Vue;\n    description?: string;\n    fields?: Array<{\n        id: string;\n        name: string;\n        description?: string;\n        type: \"string\" | \"number\" | \"checkbox\";\n        options?: any[];\n        update: (val: any) => any;\n        value: () => any;\n    }>;\n}\n\n@Component\nexport default class Settings extends Vue {\n    activePane: number = 0;\n\n    controls: {\n        [pane: string]: {\n            [control: string]: any;\n        };\n    } = {};\n\n    panes: Pane[] = [\n\n        {\n            id: 'editor',\n            name: 'Editor',\n            description: 'Configure how the editor behaves by default',\n            fields: [\n                {\n                    id: 'showLabels',\n                    name: 'Show labels',\n                    description: 'Show the toolbox labels by default',\n                    type: 'checkbox',\n                    update: (value: boolean) => this.$store.commit('setPreference', { name: 'showLabels', value }),\n                    value: () => this.$store.state.preferences.showLabels\n                },\n                {\n                    id: 'showToolbox',\n                    name: 'Show toolbox',\n                    description: 'Show the toolbox itself by default',\n                    type: 'checkbox',\n                    update: (value: boolean) => this.$store.commit('setPreference', { name: 'showToolbox', value }),\n                    value: () => this.$store.state.preferences.showToolbox\n                },\n                {\n                    id: 'hideEditorByDefaultOnMobile',\n                    name: 'Default Mobile View',\n                    description: 'Which screen should be presented when opening the app?',\n                    type: 'string',\n                    options: [\n                        'Menu',\n                        'Editor'\n                    ],\n                    update: (value: 'Menu' | 'Editor') => this.$store.commit('setPreference', { name: 'hideEditorByDefaultOnMobile', value: value === 'Editor' ? false : true }),\n                    value: () => this.$store.state.preferences.hideEditorByDefaultOnMobile ? 'Menu' : 'Editor'\n                },\n                {\n                    id: 'preferredColorScheme',\n                    name: 'Theme',\n                    description: 'Choose whether youi want light or dark mode, or inherit the system preference',\n                    type: 'string',\n                    options: [\n                        'Light',\n                        'Dark',\n                        'Inherit'\n                    ],\n                    update: (value: 'Light' | 'Dark' | 'Inherit') => this.$store.commit('setPreference', { name: 'preferredColorScheme', value: value.toLowerCase() }),\n                    value: () => {\n                        switch (this.$store.state.preferences.preferredColorScheme) {\n                            case 'light':\n                                return 'Light';\n                            case 'dark':\n                                return 'Dark';\n                            default:\n                                return 'Inherit';\n                        }\n                    }\n                },\n                {\n                    id: 'defaultNoteName',\n                    name: 'Default Note Name',\n                    description: 'Change the default name of notes',\n                    type: 'string',\n                    update: value => this.$store.commit('setPreference', { name: 'defaultNoteName', value }),\n                    value: () => this.$store.state.preferences.defaultNoteName\n                }\n            ]\n        },\n        {\n            id: 'credits',\n            name: 'Credits',\n            description: `\n            OpenNote would not be possible without some amazing open-source libraries. Check them out!\n            <a target=\"_blank\" href=\"https://github.com/codex-team/editor.js\" class=\"credit\">editorjs</a>\n            <a target=\"_blank\" href=\"https://github.com/davidedc/Algebrite\" class=\"credit\">algebrite</a>\n            <a target=\"_blank\" href=\"https://github.com/d3/d3\" class=\"credit\">d3</a>\n            <a target=\"_blank\" href=\"https://github.com/mauriciopoppe/function-plot\" class=\"credit\">function-plot</a>\n            <a target=\"_blank\" href=\"https://github.com/tamuratak/latex-utensils\" class=\"credit\">latex-utensils</a>\n            <a target=\"_blank\" href=\"https://github.com/josdejong/mathjs\" class=\"credit\">mathjs</a>\n            <a target=\"_blank\" href=\"https://github.com/mathquill/mathquill\" class=\"credit\">mathquill</a>\n            <a target=\"_blank\" href=\"https://github.com/jiggzson/nerdamer\" class=\"credit\">nerdamer</a>\n            <a target=\"_blank\" href=\"https://github.com/vuejs/vue\" class=\"credit\">vue</a>\n            `\n        }\n    ]\n\n    openSourcePage() {\n        window.open('https://github.com/ericrabil/opennote', '_blank');\n    }\n\n    created() {\n        this.panes.forEach(pane => {\n            Vue.set(this.controls, pane.id, pane.fields && pane.fields.reduce((a,c) => {\n                a[c.id] = c.value();\n                return a;\n            }, {} as any));\n            pane.fields && pane.fields.forEach(c => {\n                this.$watch(`controls.${pane.id}.${c.id}`, newVal => c.update(newVal));\n            });\n        });\n\n        const header = document.createElement('div');\n        header.classList.add('modal-header', 'settings-modal-header');\n        \n        const title = document.createElement('h1');\n        title.innerText = 'Settings';\n        header.appendChild(title);\n\n        const backButton = document.createElement('span');\n        backButton.classList.add('settings-modal-nav-back');\n        header.appendChild(backButton);\n\n        backButton.addEventListener(\"click\", () => this.activePane = -1);\n\n        this.$root.$emit('modal-patch', { header, customClasses: ['settings-modal'] });\n\n        this.$watch('activePane', active => {\n            if (active === -1) backButton.classList.add('hidden');\n            else backButton.classList.remove('hidden');\n        });\n\n        window.addEventListener('resize', () => {\n            if (this.activePane !== -1) return;\n            if (document.documentElement.clientWidth <= 500) return;\n            this.activePane = 0;\n        });\n    }\n\n    get pane() {\n        return this.panes[this.activePane];\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=2e3203b6&\"\nimport script from \"./Settings.vue?vue&type=script&lang=ts&\"\nexport * from \"./Settings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Settings.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport moment from \"moment\";\nimport _ from \"@/util\";\nconst { VueContext } = require(\"vue-context\");\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { Tooltip } from \"@editorjs/editorjs/types/api\";\nimport UploadSVG from \"@/assets/upload.svg?inline\";\nimport Editor from \"@/components/Editor.vue\";\nimport { ModalOptions } from '../App.vue';\nimport DecisionButtons from \"@/components/DecisionButtons.vue\";\nimport ConfirmationModal from '@/components/DecisionButtons.vue';\nimport { Note } from '../store';\nimport TrashSVG from \"@/assets/trash.svg?inline\";\nimport SettingsSVG from \"@/assets/settings.svg?inline\";\nimport Settings from '../components/Settings.vue';\n\n\n/**\n * Host view for the editor and navigator view\n */\n@Component({\n  components: {\n    VueContext,\n    UploadSVG,\n    Editor,\n    TrashSVG,\n    SettingsSVG\n  }\n})\nexport default class Home extends Vue {\n  list: Array<{id: string, name: string, timestamp: string}> = [];\n\n  overrides: {\n    navCollapse: boolean | null;\n  } = {\n    navCollapse: null\n  }\n\n  get navCollapse() {\n    return this.overrides.navCollapse === null ? !this.$store.state.preferences.hideEditorByDefaultOnMobile : this.overrides.navCollapse;\n  }\n\n  set navCollapse(c: boolean) {\n    this.overrides.navCollapse = c;\n  }\n  \n  canDelete: boolean = false;\n\n  sortListAscending: boolean = false;\n\n  mounted() {\n    this.$store.subscribe((mutation, state) => {\n      switch (mutation.type) {\n        case 'setNote':\n        case 'newNote':\n        case 'delNote':\n        case 'updateNote':\n          this.list = this.sortedList(this.notes);\n      }\n    });\n\n    this.$watch('sortListAscending', () => {\n      this.list = this.sortedList(this.notes);\n    })\n\n    document.addEventListener(\"mousedown\", this.mouseDown);\n\n    this.$on('ct-mouseenter', (ev: MouseEvent) => this.mouseenter(ev));\n    this.$on('ct-mouseleave', (ev: MouseEvent) => this.mouseleave(ev));\n\n    this.list = this.sortedList(this.notes);\n  }\n\n  destroyed() {\n    document.removeEventListener(\"mousedown\", this.mouseDown);\n  }\n\n  showSettings() {\n    this.$root.$emit('modal-show', {\n      header: 'Settings',\n      body: Settings\n    } as ModalOptions);\n  }\n\n  $refs: {\n    [id: string]: [HTMLElement];\n  };\n\n  activeContext: (Vue & { close(): any; open(e: MouseEvent): any }) | null;\n\n  /**\n   * on click, if the context menu is active and the target is not within the context, close the context menu\n   */\n  mouseDown({ target }: MouseEvent) {\n    if (!target) return;\n    if (!(target instanceof Element)) return;\n    if (!this.activeContext) return;\n    if (this.activeContext.$el.isEqualNode(target)) return;\n    if (this.activeContext.$el.isEqualNode(target.closest(\".v-context\")))\n      return;\n    this.closeContext();\n  }\n\n  /**\n   * triggers the context menu\n   */\n  triggerContext(event: MouseEvent, id: string) {\n    if (this.activeContext) this.activeContext.close();\n    const context: this[\"activeContext\"] = (this.$refs[\n      `contextMenu${id}`\n    ] as any)[0];\n    if (!context) {\n      console.warn(`unknown context at ${id}`);\n      return;\n    }\n    context.open(event);\n    this.activeContext = context;\n  }\n\n  get version() {\n    return process.env.VUE_APP_VERSION;\n  }\n\n  download(id: string) {\n    const note = this.$store.state.notes[id];\n    _.saveFile(JSON.stringify(note), `${note.name}.onote`, \"application/json\");\n  }\n\n  async exportNotes() {\n    let repeats: {\n      [name: string]: number\n    } = {};\n    const serialized = Object.keys(this.notes).map(k => ({\n      name: this.notes[k].name,\n      text: JSON.stringify(this.notes[k])\n    })).map((data, idx, files) => {\n      if (!repeats[data.name]) repeats[data.name] = 0;\n      return {\n        name: files.filter(f => f.name === data.name).length === 1 ? data.name : `${data.name}${repeats[data.name]++ > 0 ? ` (${repeats[data.name] - 1})` : ''}`,\n        text: data.text\n      }\n    }).map(({name, text}) => ({\n      name: `${name}.onote`,\n      text\n    }));\n    await _.zipFilesAndDownload('OpenNote Export.zip', serialized);\n  }\n\n  /**\n   * closes activeContext\n   */\n  closeContext() {\n    if (!this.activeContext) return;\n    this.activeContext.close();\n    this.activeContext = null;\n  }\n\n  /**\n   * Sets the title and maintains cursor position\n   */\n  setTitle(event: InputEvent) {\n    const target = event.target as HTMLElement;\n\n    const pos = _.Dom.getCaretPosition(target);\n\n    const name = target.innerText.split('\\n').join(''),\n      id = target.getAttribute(\"data-id\")!;\n\n    target.innerText = name;\n\n    this.$store.commit(\"updateNote\", {\n      id,\n      name\n    });\n\n    this.$nextTick(() => {\n      _.Dom.setCurrentCursorPosition(pos, target);\n    });\n  }\n\n  /**\n   * currently selected note\n   */\n  get currentNote() {\n    return this.$store.state.currentNote;\n  }\n\n  /**\n   * all notes\n   */\n  get notes(): { [id: string]: Note } {\n    return this.$store.state.notes;\n  }\n\n  /**\n   * internal tooltip API\n   */\n  get tooltip(): Tooltip {\n    return (this.$root.$children[0] as any).tooltip;\n  }\n\n  /**\n   * Hover, trigger tooltip now\n   */\n  mouseenter(ev: MouseEvent) {\n    const leftOffset = 0;\n\n    if (!this.tooltip) return;\n    // no tooltips on mobile, please. its fucking ugly\n    if (document.body.clientWidth <= 500) return;\n    const tip = (ev.target! as HTMLElement).getAttribute(\"data-tooltip\");\n    const placement = (ev.target! as HTMLElement).getAttribute(\"data-placement\") || \"bottom\";\n    if (!tip) return;\n\n    const content = document.createTextNode(tip);\n\n    const observer = new MutationObserver((mutation) => {\n      content.textContent = (ev.target! as HTMLElement).getAttribute(\"data-tooltip\");\n    });\n\n    observer.observe(ev.target as HTMLElement, {\n      attributes: true,\n      attributeFilter: ['data-tooltip'],\n      childList: false,\n      characterData: false\n    });\n\n    this.tooltip.show(ev.target as HTMLElement, content, { placement });\n    const tooltipContainers = Array.from(\n      document.querySelectorAll(\".ct.ct--bottom\")\n    ) as HTMLElement[];\n    tooltipContainers.forEach(tooltipContainer => {\n      tooltipContainer.style.left = `${(parseInt(\n        tooltipContainer.style.left!.split(\"px\")[0]\n      ) || 0) + leftOffset}px`;\n    });\n  }\n\n  /**\n   * Hover out, hide tooltip now\n   */\n  mouseleave(ev: MouseEvent) {\n    if (!this.tooltip) return;\n    this.tooltip.hide();\n  }\n\n  /**\n   * Switches to a new note ID\n   */\n  selectNote(id: string) {\n    if (this.currentNote === id) return;\n    this.$store.commit(\"setNote\", id);\n    if (document.activeElement && document.activeElement.getAttribute('data-id') === id) return;\n    if (document.body.clientWidth <= 500 && !this.navCollapse) {\n      this.navCollapse = true;\n    }\n  }\n\n  /**\n   * inserts new note into store\n   */\n  newNote() {\n    this.$store.dispatch('newNote');\n  }\n\n  get prevNote() {\n    const list = this.sortedList(this.notes);\n    return list[list.findIndex(note => note.id === this.currentNote) - 1];\n  }\n\n  get nextNote() {\n    const list = this.sortedList(this.notes);\n    return list[list.findIndex(note => note.id === this.currentNote) + 1] || list[list.findIndex(note => note.id === this.currentNote) - 1];\n  }\n\n  /**\n   * deletes the current note\n   */\n  delNote(id: string = this.currentNote) {\n    if (!this.canDelete) return;\n    const nextNote = this.nextNote;\n    const completion = () => {\n      this.$store.commit(\"delNote\", id);\n      this.$store.commit(\"setNote\", nextNote.id);\n    };\n    if (!this.notes[id].data || this.notes[id].data.blocks.length === 0) {\n      completion();\n      return;\n    }\n\n    this.$root.$emit('modal-show', {\n      header: 'Delete Note?',\n      body: 'Deleting a note is permanent, it cannot be restored unless you have a backup.',\n      footer: DecisionButtons,\n      footerOptions: {\n        cancel: () => {\n          this.$root.$emit('modal-close');\n        },\n        confirm: () => {\n          completion();\n          this.$root.$emit('modal-close');\n        },\n        confirmText: 'Delete Note',\n        cancelText: 'Keep Note',\n        confirmStyle: 'danger'\n      }\n    } as ModalOptions);\n  }\n\n  async importNote() {\n    try {\n      const files = await _.getFilesAsString();\n      files.forEach(file => this.$store.dispatch('newNote', JSON.parse(file)));\n    } catch (e) {\n      if (e instanceof _.DisplayableError) {\n        const { options: { message, title } } = e;\n        await this.$root.$emit('modal-show', {\n          header: title,\n          body: message,\n          footer: DecisionButtons,\n          footerOptions: {\n            hasCancel: false,\n            confirm: () => this.$root.$emit('modal-close'),\n            confirmText: 'OK',\n            confirmStyle: 'primary'\n          }\n        } as ModalOptions);\n      }\n    }\n  }\n\n  /**\n   * Reloads all notes into the navigator view\n   */\n  sortedList(notes: this['notes']) {\n    this.canDelete = Object.keys(this.$store.state.notes).length > 1;\n    const flatNotes = Object.keys(this.notes).map(k => ({id: k, ...this.notes[k]}));\n\n    return flatNotes.sort((a, b) => {\n      const aTime = a.data && a.data.time || a.created;\n      const bTime = b.data && b.data.time || b.created;\n      return this.sortListAscending ? (aTime - bTime) : (bTime - aTime);\n    }).map(({id, name, created, data}) => ({\n      id,\n      name,\n      timestamp: moment(data && data.time || created).calendar()\n    }));\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=e9c18916&\"\nimport script from \"./Home.vue?vue&type=script&lang=ts&\"\nexport * from \"./Home.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: Home\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport VuexPersistence from 'vuex-persist';\nimport { OutputData } from '@editorjs/editorjs';\n\nconst vuexLocal = new VuexPersistence<any>({\n  storage: window.localStorage\n});\n\nVue.use(Vuex)\n\nfunction uuidv4() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n}\n\nconst NEW_NOTE_NAME = 'Untitled Note';\n\nexport interface Note {\n  name: string;\n  data: OutputData;\n  created: number;\n}\n\nexport default new Vuex.Store({\n  state: {\n    currentNote: uuidv4(),\n    notes: {\n\n    } as { [id: string]: Note },\n    preferences: {\n      showLabels: true,\n      showToolbox: true,\n      hideEditorByDefaultOnMobile: true,\n      sawFirstRun: false,\n      preferredColorScheme: null,\n      defaultNoteName: NEW_NOTE_NAME,\n      defaultTrigState: 'rad'\n    }\n  },\n  mutations: {\n    /**\n     * Selects a new note\n     */\n    setNote(state, id) {\n      state.currentNote = id;\n    },\n    /**\n     * Creates a blank note and selects it\n     */\n    newNote(state, { id, data, name, created } = {}) {\n      name = name || state.preferences.defaultNoteName;\n      \n      const noteName = new RegExp(name);\n      const quantifier = new RegExp(/(?:\\s\\((\\d+)\\))?/);\n\n      const merged = new RegExp(\"^\" + noteName.source + quantifier.source + \"$\");\n\n      const clashingNotes: RegExpMatchArray[] = Object.values(state.notes as {[key: string]: Note}).map(note => note.name.match(merged)).filter(n => !!n) as RegExpMatchArray[];\n\n      if (clashingNotes.length > 0) {\n        const [ previousMax ] = clashingNotes.map(([,idx]) => parseInt(idx || '0')).sort((a,b) => b - a);\n        const nextNumber = previousMax + 1;\n\n        name = `${name} (${nextNumber})`;\n      }\n\n      state.notes[id] = {\n        data,\n        name,\n        created: created || Date.now()\n      };\n    },\n    delNote(state, id) {\n      const ids = Object.keys(state.notes);\n      const index = ids.indexOf(id);\n      delete state.notes[id];\n    },\n    /**\n     * Updates a note, or inserts it if it was not present already\n     */\n    updateNote(state, { data, id, name }) {\n      const note = (state.notes[id] || (state.notes[id] = {} as any));\n      Vue.set(note, 'data', data || note.data);\n      Vue.set(note, 'name', name || note.name || NEW_NOTE_NAME);\n    },\n    setPreference(state, { name, value }) {\n      state.preferences[name] = value;\n    }\n  },\n  actions: {\n    newNote(state, { data, name, created } = {}) {\n      let id = uuidv4();\n      while (state.state.notes[id]) id = uuidv4();\n      state.commit('newNote', { id, data, name, created });\n      state.commit('setNote', id);\n      return id;\n    }\n  },\n  getters: {\n    preferredColorScheme: state => {\n      return state.preferences.preferredColorScheme;\n    },\n    currentNote: state => {\n      return state.notes[state.currentNote];\n    },\n    currentNoteName: (state, getters) => {\n      return getters.currentNote.name;\n    }\n  },\n  modules: {\n  },\n  plugins: [vuexLocal.plugin]\n})\n","import \"mathquill/build/mathquill.css\";\nimport \"./polyfills\";\nimport \"d3/d3.js\";\nimport Vue from 'vue';\n\nconst jQuery = require('jquery');\nconst $ = jQuery;\n(window as any).$ = $;\n\nconst worker = require('./algebra.worker.ts');\n(window as any).AlgebraWorker = new worker();\n\nimport App from './App.vue'\nimport './registerServiceWorker'\nimport router from './router'\nimport store from './store'\nimport _ from './util';\n\nVue.use(require('vue-resize-observer'));\n\nVue.config.productionTip = false;\n\nwindow.MathQuill = MathQuill.getInterface(1);\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MathQuillComponent.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MathQuillComponent.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}