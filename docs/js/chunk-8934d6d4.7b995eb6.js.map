{"version":3,"sources":["webpack:///./node_modules/mr-parser/lib/Lexer.js","webpack:///./node_modules/math-codegen/lib/node/ArrayNode.js","webpack:///./node_modules/function-plot/lib/helpers/derivative.js","webpack:///./node_modules/mr-parser/index.js","webpack:///./node_modules/function-plot/lib/helpers/index.js","webpack:///./node_modules/nextafter/nextafter.js","webpack:///./node_modules/mr-parser/lib/node/ConstantNode.js","webpack:///./node_modules/log10/index.js","webpack:///./node_modules/vkey/index.js","webpack:///./node_modules/interval-arithmetic/lib/polyfill.js","webpack:///./node_modules/mr-parser/lib/node/index.js","webpack:///./node_modules/mr-parser/lib/node/BlockNode.js","webpack:///./node_modules/mr-parser/lib/Parser.js","webpack:///./node_modules/function-plot/lib/index.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/math-codegen/lib/node/ConditionalNode.js","webpack:///./node_modules/math-codegen/lib/node/SymbolNode.js","webpack:///./node_modules/interval-arithmetic/lib/operations/arithmetic.js","webpack:///./node_modules/key-pressed/index.js","webpack:///./node_modules/max-safe-integer/index.js","webpack:///./node_modules/built-in-math-eval/lib/adapter.js","webpack:///./node_modules/function-plot/lib/graph-types/polyline.js","webpack:///./node_modules/interval-arithmetic-eval/lib/eval.js","webpack:///./node_modules/interval-arithmetic-eval/lib/adapter.js","webpack:///./node_modules/function-plot/lib/evaluate.js","webpack:///./node_modules/function-plot/lib/helpers/secant.js","webpack:///./node_modules/node-libs-browser/mock/process.js","webpack:///./node_modules/mr-parser/lib/node/UnaryNode.js","webpack:///./node_modules/built-in-math-eval/lib/eval.js","webpack:///./node_modules/function-plot/lib/plugins/definite-integral.js","webpack:///./node_modules/keydown/index.js","webpack:///./node_modules/clamp/index.js","webpack:///./node_modules/function-plot/lib/helpers/eval.js","webpack:///./node_modules/mr-parser/lib/node/AssignmentNode.js","webpack:///./node_modules/math-codegen/lib/node/UnaryNode.js","webpack:///./node_modules/function-plot/lib/samplers/mathjs.js","webpack:///./node_modules/function-plot/lib/polyfills.js","webpack:///./node_modules/math-codegen/lib/node/AssignmentNode.js","webpack:///./node_modules/function-plot/lib/datum-defaults.js","webpack:///./node_modules/function-plot/lib/plugins/index.js","webpack:///./node_modules/function-plot/lib/graph-types/scatter.js","webpack:///./node_modules/math-codegen/lib/node/FunctionNode.js","webpack:///./node_modules/function-plot/lib/samplers/interval.js","webpack:///./node_modules/interval-arithmetic/index.js","webpack:///./node_modules/mr-parser/lib/token-type.js","webpack:///./node_modules/mr-parser/lib/node/FunctionNode.js","webpack:///./node_modules/function-plot/lib/plugins/zoom-box.js","webpack:///./node_modules/interval-arithmetic/lib/operations/misc.js","webpack:///./node_modules/interval-arithmetic/lib/operations/trigonometric.js","webpack:///./node_modules/math-codegen/index.js","webpack:///./node_modules/interval-arithmetic/lib/operations/utils.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/function-plot/lib/globals.js","webpack:///./node_modules/integrate-adaptive-simpson/index.js","webpack:///./node_modules/built-in-math-eval/index.js","webpack:///./node_modules/function-plot/lib/graph-types/index.js","webpack:///./node_modules/interval-arithmetic/lib/constants.js","webpack:///./node_modules/mr-parser/lib/node/ConditionalNode.js","webpack:///./node_modules/math-codegen/lib/node/OperatorNode.js","webpack:///./node_modules/interval-arithmetic-eval/lib/policies.js","webpack:///./node_modules/linspace/index.js","webpack:///./node_modules/double-bits/double.js","webpack:///./node_modules/logspace/index.js","webpack:///./node_modules/mr-parser/lib/node/SymbolNode.js","webpack:///./node_modules/function-plot/lib/helpers/annotations.js","webpack:///./node_modules/function-plot/lib/graph-types/interval.js","webpack:///./node_modules/math-codegen/lib/misc/Operators.js","webpack:///./node_modules/math-codegen/lib/node/ConstantNode.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/math-codegen/lib/misc/UnaryOperators.js","webpack:///./node_modules/is-safe-integer/index.js","webpack:///./node_modules/interval-arithmetic/lib/operations/algebra.js","webpack:///./node_modules/function-plot/lib/utils.js","webpack:///./node_modules/is-object/index.js","webpack:///./node_modules/interval-arithmetic/lib/round-math.js","webpack:///./node_modules/interval-arithmetic/lib/operations/relational.js","webpack:///./node_modules/math-codegen/lib/CodeGenerator.js","webpack:///./node_modules/xtend/mutable.js","webpack:///./node_modules/interval-arithmetic/lib/interval.js","webpack:///./node_modules/path-browserify/index.js","webpack:///./node_modules/math-codegen/lib/Interpreter.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/extend/index.js","webpack:///./node_modules/mr-parser/lib/node/Node.js","webpack:///./node_modules/interval-arithmetic/lib/operations/division.js","webpack:///./node_modules/lodash.range/index.js","webpack:///./node_modules/function-plot/lib/tip.js","webpack:///./node_modules/function-plot/lib/samplers/builtIn.js","webpack:///./node_modules/mr-parser/lib/node/OperatorNode.js","webpack:///./node_modules/events/events.js","webpack:///./node_modules/mr-parser/lib/node/ArrayNode.js","webpack:///./node_modules/interval-arithmetic-eval/index.js"],"names":["tokenType","ESCAPES","'","DELIMITERS","isDigit","c","isIdentifier","isWhitespace","isDelimiter","str","isQuote","Lexer","prototype","throwError","message","index","this","error","Error","description","lex","text","tokens","length","peek","consume","c2","c3","push","type","DELIMITER","value","NUMBER","readNumber","STRING","readString","SYMBOL","readIdentifier","EOF","nth","charAt","current","number","escape","quote","string","hex","substring","match","String","fromCharCode","parseInt","replacement","module","exports","node","self","arr","rawify","options","rawArrayExpressionElements","nodes","map","el","next","arrString","join","raw","factory","d3","window","builtInEvaluator","builtIn","polyline","datumDefaults","chart","derivative","derivativeDatum","isHelper","skipTip","skipBoundsCheck","nSamples","graphType","computeLine","d","x0","Infinity","scope","m","x","y0","fn","checkAutoUpdate","updateOnMouseMove","$$mouseListener","on","selection","each","select","data","call","innerSelection","selectAll","enter","append","attr","exit","remove","Parser","nodeTypes","secant","helper","doubleBits","SMALLEST_DENORM","Math","pow","UINT_MAX","nextafter","y","isNaN","NaN","hi","lo","pack","Node","SUPPORTED_TYPES","ConstantNode","valueType","Object","create","log10","log","LOG10E","i","ua","navigator","userAgent","isOSX","test","isOpera","maybeFirefox","output","0","1","2","3","4","5","6","8","9","12","13","16","17","18","19","20","21","23","24","25","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","91","92","93","95","106","107","108","109","110","111","144","145","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","186","187","188","189","190","191","192","219","220","221","222","223","224","226","229","231","246","247","248","249","250","251","252","253","254","sinh","exp","cosh","tanh","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","FunctionNode","OperatorNode","SymbolNode","UnaryNode","blocks","lexer","first","arguments","e","shift","expect","isEOF","parse","program","assignment","end","left","ternary","name","predicate","logicalOR","truthy","falsy","logicalXOR","op","right","logicalAND","bitwiseOR","bitwiseXOR","bitwiseAND","relational","additive","multiplicative","unary","factorial","symbol","functionCall","symbolToken","params","array","token","parentheses","globals","graphTypes","events","extend","mousetip","helpers","annotations","cache","width","height","margin","zoomBehavior","xScale","yScale","line","svg","Chart","n","random","letter","floor","id","toString","substr","linkedGraphs","setUpEventListeners","build","internalVars","drawGraphWrapper","initializeAxes","integerFormat","format","scale","decimalFormat","tickFormat","isInteger","computeYScale","xDiff","xAxis","yAxis","xDomain","meta","axis","domain","xLimit","yDomain","yLimit","range","invert","tickSize","grid","orient","top","bottom","title","behavior","zoom","DEFAULT_WIDTH","DEFAULT_HEIGHT","root","target","getFontSize","buildTitle","buildLegend","buildCanvas","buildClip","buildAxis","buildAxisLabel","draw","tip","owner","canvas","buildZoomHelper","setUpPlugins","filter","Boolean","emit","event","translate","defs","markerId","canvasEnter","xLabel","yLabel","label","buildContent","listeners","document","setState","state","forEach","l","_zoomListenersCache","disableZoom","content","yOrigin","xOrigin","graphs","draggable","style","plugins","plugin","addLink","updateAxes","instance","syncOptions","programmaticZoom","transition","duration","tween","ix","interpolate","iy","t","max","mousemove","coordinates","move","mouseover","show","mouseout","hide","datum","renderer","toFixed","COLORS","all","mouse","graph","keys","args","Array","slice","localArgs","unshift","apply","eval","byteLength","toByteArray","fromByteArray","lookup","revLookup","Arr","Uint8Array","code","len","charCodeAt","getLens","b64","validLen","indexOf","placeHoldersLen","lens","_byteLength","tmp","curByte","tripletToBase64","num","encodeChunk","uint8","start","extraBytes","parts","maxChunkLength","len2","condition","trueExpr","falseExpr","Interval","rmath","utils","constants","division","arithmetic","addLo","addHi","subLo","subHi","sub","subtract","multiply","isEmpty","EMPTY","xl","xh","yl","yh","out","min","mulLo","mulHi","mul","divide","zeroIn","zero","negative","positive","nonZero","div","list","down","pressed","key","reset","keyup","keyCode","keydown","process","browser","addEventListener","math","a","TypeError","add","b","mod","res","nthRoot","inv","abs","isFinite","lessThan","lessEqualThan","greaterThan","greaterEqualThan","equal","strictlyEqual","notEqual","strictlyNotEqual","shiftRight","shiftLeft","unsignedRightShift","evaluate","clamp","plotLine","evaluatedData","console","debug","color","yRange","yMax","yMin","diff","area","y1","pathD","path","closed","fnType","CodeGenerator","processScope","k","isArray","expression","setDefs","$$processScope","compile","policies","ns","fmod","lt","leq","gt","geq","evalTypeFn","interval","mathjs","computeEndpoints","evalFn","sampler","MAX_ITERATIONS","DEFAULT_ITERATIONS","secantDefaults","computeSlope","x1","updateLine","hasOwnProperty","setFn","setMouseListener","secantObject","computeLines","secants","nextTick","setTimeout","platform","arch","execPath","pid","env","argv","binding","cwd","chdir","dir","resolve","kill","umask","dlopen","uptime","memoryUsage","uvCounters","features","argument","integrateSimpson","toggle","cachedInstance","brush","kd","visible","wrapper","functionPlot","setBrushState","brushEl","inner","oldDisableZoom","sourceEvent","empty","extent","tol","maxdepth","_","Emitter","EventEmitter","vkey","emitter","clearPressed","ev","allPressed","samplers","generateEvaluator","samplerName","doCompile","compileIfPossible","property","hiddenProperty","hiddenCompiled","getCompiledExpression","variables","expr","UnaryOperators","SyntaxError","namedOperator","split","allX","space","yDomainMargin","isValidNumber","doc","proto","querySelector","err","method","native","selectors","Date","now","replace","result","Element","isObject","zoomBox","definiteIntegral","scatter","j","joined","hsl","brighter","functionProxy","rawCallExpressionElements","arg","rectEps","intervalArithmeticEval","interval1d","xCoords","samples","isWhole","prev","intervalsOverlap","scaledDx","smallRect","quadTree","sample","fulfills","midX","midY","east","west","north","south","interval2d","disableRounding","fnTypes","implicit","linear","round","clear","misc","expLo","expHi","logLo","logHi","ln","LOG_EXP_10","LOG_EXP_2","log2","hull","badX","badY","clone","intersection","union","difference","halfOpenLeft","halfOpenRight","wid","set","algebra","trigonometric","onlyInfinity","handleNegative","ceil","PI_TWICE_LOW","cos","rlo","rhi","pi2","PI_TWICE","PI_HIGH","PI","cosLo","cosHi","PI_LOW","sin","PI_HALF","tan","pi","PI_HALF_LOW","WHOLE","tanLo","tanHi","asin","PI_HALF_HIGH","asinLo","asinHi","acos","acosLo","acosHi","atan","atanLo","atanHi","sinhLo","sinhHi","coshLo","coshHi","tanhLo","tanhHi","hasValue","read","buffer","offset","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","s","write","rt","LN2","Globals","v","TIP_X_EPS","adsimp","f","fa","fm","fb","V0","depth","nanEncountered","h","f1","f2","sl","sr","s2","V1","V2","maxDepthCount","integrate","undefined","warn","mutate","piLow","piHigh","getter","defineProperty","get","enumerable","PI_TWICE_HIGH","setWhole","setEmpty","Operators","disable","enableRounding","enable","every","ranged","concat","Float64Array","DOUBLE_VIEW","UINT_VIEW","Uint32Array","hasTypedArrays","toDoubleLE","lowUintLE","highUintLE","toDoubleBE","lowUintBE","highUintBE","Buffer","toDouble","writeUInt32LE","readDoubleLE","lowUint","writeDoubleLE","readUInt32LE","highUint","sign","exponent","fraction","denormalized","linspace","parentSelection","xRange","hasX","minWidthHeight","clampRange","vLo","vHi","gLo","gHi","points","minY","maxY","yLo","yHi","moveX","viewportY","base64","ieee754","typedArraySupport","__proto__","foo","subarray","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","encodingOrOffset","allocUnsafe","from","ArrayBuffer","fromArrayBuffer","fromString","fromObject","assertSize","size","alloc","fill","encoding","checked","isEncoding","actual","fromArrayLike","byteOffset","obj","isBuffer","copy","isnan","SlowBuffer","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","val","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","buf","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","decodeCodePointsArray","INSPECT_MAX_BYTES","global","poolSize","_augment","Symbol","species","configurable","allocUnsafeSlow","_isBuffer","compare","pos","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","includes","toJSON","_arr","MAX_ARGUMENTS_LENGTH","codePoints","ret","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","readUIntBE","readUInt8","readUInt16LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleBE","writeUIntLE","maxBytes","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32BE","writeIntLE","limit","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleBE","targetStart","INVALID_BASE64_RE","base64clean","stringtrim","trim","units","leadSurrogate","byteArray","src","dst","MAX_SAFE_INTEGER","isSafeInteger","yb","divHi","divLo","power","isSingleton","ONE","multiplicativeInverse","powLo","powHi","yp","yn","logspace","getterSetter","config","option","me","sgn","identity","safePrev","safeNext","toInteger","intLo","intHi","sinLo","sinHi","sqrtLo","sqrt","sqrtHi","EPS","assert","assertEps","almostEqual","toArray","assertIncludes","Interpreter","statements","interpreter","namespace","$$mathCodegen","getProperty","defsCode","factoryCode","Function","statement","source","isInterval","assign","singleton","bounded","boundedSingleton","open","normalizeArray","allowAboveRoot","up","last","splice","basename","matchedSlash","xs","resolvedPath","resolvedAbsolute","p","normalize","isAbsolute","trailingSlash","paths","relative","to","fromParts","toParts","samePartsLength","outputParts","sep","delimiter","dirname","hasRoot","extname","startDot","startPart","preDotState","types","oldRaw","hasOwn","toStr","gOPD","getOwnPropertyDescriptor","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","constructor","setProperty","newValue","writable","copyIsArray","deep","INFINITY","MAX_INTEGER","NAN","funcTag","genTag","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","reIsUint","freeParseInt","baseProperty","object","objectProto","objectToString","nativeCeil","nativeMax","baseRange","step","fromRight","createRange","isIterateeCall","toFinite","getLength","isIndex","isArrayLike","eq","other","isLength","isFunction","tag","isObjectLike","isSymbol","toNumber","valueOf","isBinary","xLine","yLine","MARGIN","lineGenerator","minDist","closestIndex","inf","candidateY","tDist","clampX","clampY","checkAsymptote","d0","d1","level","asymptote","oldY","oldX","deltaY","newSign","oldSign","deltaX","st","sets","zoomScale","updateY","check","parametric","parametricRange","tCoords","polar","polarRange","thetaSamples","theta","r","vector","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","ProcessEmitWarning","warning","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","NumberIsNaN","init","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","_addListener","prepend","existing","newListener","warned","w","count","onceWrapper","fired","removeListener","wrapFn","_onceWrap","wrapped","bind","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","spliceOne","pop","getPrototypeOf","setMaxListeners","getMaxListeners","doError","er","context","handler","addListener","prependListener","once","prependOnceListener","position","originalListener","off","removeAllListeners","rawListeners","eventNames"],"mappings":"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","file":"js/chunk-8934d6d4.7b995eb6.js","sourcesContent":["// token types\nvar tokenType = require('./token-type')\n\nvar ESCAPES = {\n  'n': '\\n',\n  'f': '\\f',\n  'r': '\\r',\n  't': '\\t',\n  'v': '\\v',\n  '\\'': '\\'',\n  '\"': '\"'\n}\n\nvar DELIMITERS = {\n  ',': true,\n  '(': true,\n  ')': true,\n  '[': true,\n  ']': true,\n  ';': true,\n\n  // unary\n  '~': true,\n\n  // factorial\n  '!': true,\n\n  // arithmetic operators\n  '+': true,\n  '-': true,\n  '*': true,\n  '/': true,\n  '%': true,\n  '^': true,\n  '**': true,     // python power like\n\n  // misc operators\n  '|': true,      // bitwise or\n  '&': true,      // bitwise and\n  '^|': true,     // bitwise xor\n  '=': true,\n  ':': true,\n  '?': true,\n\n  '||': true,      // logical or\n  '&&': true,      // logical and\n  'xor': true,     // logical xor\n\n  // relational\n  '==': true,\n  '!=': true,\n  '===': true,\n  '!==': true,\n  '<': true,\n  '>': true,\n  '>=': true,\n  '<=': true,\n\n  // shifts\n  '>>>': true,\n  '<<': true,\n  '>>': true\n}\n\n// helpers\n\nfunction isDigit (c) {\n  return c >= '0' && c <= '9'\n}\n\nfunction isIdentifier (c) {\n  return (c >= 'a' && c <= 'z') || (c >= 'A' && c <= 'Z') ||\n    c === '$' || c === '_'\n}\n\nfunction isWhitespace (c) {\n  return c === ' ' || c === '\\r' || c === '\\t' ||\n    c === '\\n' || c === '\\v' || c === '\\u00A0'\n}\n\nfunction isDelimiter (str) {\n  return DELIMITERS[str]\n}\n\nfunction isQuote (c) {\n  return c === '\\'' || c === '\"'\n}\n\n// lexer\n\nfunction Lexer () {}\n\nLexer.prototype.throwError = function (message, index) {\n  index = typeof index === 'undefined' ? this.index : index\n\n  var error = new Error(message + ' at index ' + index)\n  error.index = index\n  error.description = message\n  throw error\n}\n\nLexer.prototype.lex = function (text) {\n  this.text = text\n  this.index = 0\n  this.tokens = []\n\n  while (this.index < this.text.length) {\n    // skip whitespaces\n    while (isWhitespace(this.peek())) {\n      this.consume()\n    }\n    var c = this.peek()\n    var c2 = c + this.peek(1)\n    var c3 = c2 + this.peek(2)\n\n    // order\n    // - delimiter of 3 characters\n    // - delimiter of 2 characters\n    // - delimiter of 1 character\n    // - number\n    // - variables, functions and named operators\n    if (isDelimiter(c3)) {\n      this.tokens.push({\n        type: tokenType.DELIMITER,\n        value: c3\n      })\n      this.consume()\n      this.consume()\n      this.consume()\n    } else if (isDelimiter(c2)) {\n      this.tokens.push({\n        type: tokenType.DELIMITER,\n        value: c2\n      })\n      this.consume()\n      this.consume()\n    } else if (isDelimiter(c)) {\n      this.tokens.push({\n        type: tokenType.DELIMITER,\n        value: c\n      })\n      this.consume()\n    } else if (isDigit(c) ||\n        (c === '.' && isDigit(this.peek(1)))) {\n      this.tokens.push({\n        type: tokenType.NUMBER,\n        value: this.readNumber()\n      })\n    } else if (isQuote(c)) {\n      this.tokens.push({\n        type: tokenType.STRING,\n        value: this.readString()\n      })\n    } else if (isIdentifier(c)) {\n      this.tokens.push({\n        type: tokenType.SYMBOL,\n        value: this.readIdentifier()\n      })\n    } else {\n      this.throwError('unexpected character ' + c)\n    }\n  }\n\n  // end token\n  this.tokens.push({ type: tokenType.EOF })\n\n  return this.tokens\n}\n\nLexer.prototype.peek = function (nth) {\n  nth = nth || 0\n  if (this.index + nth >= this.text.length) {\n    return\n  }\n  return this.text.charAt(this.index + nth)\n}\n\nLexer.prototype.consume = function () {\n  var current = this.peek()\n  this.index += 1\n  return current\n}\n\nLexer.prototype.readNumber = function () {\n  var number = ''\n\n  if (this.peek() === '.') {\n    number += this.consume()\n    if (!isDigit(this.peek())) {\n      this.throwError('number expected')\n    }\n  } else {\n    while (isDigit(this.peek())) {\n      number += this.consume()\n    }\n    if (this.peek() === '.') {\n      number += this.consume()\n    }\n  }\n\n  // numbers after the decimal dot\n  while (isDigit(this.peek())) {\n    number += this.consume()\n  }\n\n  // exponent if available\n  if ((this.peek() === 'e' || this.peek() === 'E')) {\n    number += this.consume()\n\n    if (!(isDigit(this.peek()) ||\n        this.peek() === '+' ||\n        this.peek() === '-')) {\n      this.throwError()\n    }\n\n    if (this.peek() === '+' || this.peek() === '-') {\n      number += this.consume()\n    }\n\n    if (!isDigit(this.peek())) {\n      this.throwError('number expected')\n    }\n\n    while (isDigit(this.peek())) {\n      number += this.consume()\n    }\n  }\n  return number\n}\n\nLexer.prototype.readIdentifier = function () {\n  var text = ''\n  while (isIdentifier(this.peek()) || isDigit(this.peek())) {\n    text += this.consume()\n  }\n  return text\n}\n\nLexer.prototype.readString = function () {\n  var quote = this.consume()\n  var string = ''\n  var escape\n  while (true) {\n    var c = this.consume()\n    if (!c) {\n      this.throwError('string is not closed')\n    }\n    if (escape) {\n      if (c === 'u') {\n        var hex = this.text.substring(this.index + 1, this.index + 5)\n        if (!hex.match(/[\\da-f]{4}/i)) {\n          this.throwError('invalid unicode escape')\n        }\n        this.index += 4\n        string += String.fromCharCode(parseInt(hex, 16))\n      } else {\n        var replacement = ESCAPES[c]\n        if (replacement) {\n          string += replacement\n        } else {\n          string += c\n        }\n      }\n      escape = false\n    } else if (c === quote) {\n      break\n    } else if (c === '\\\\') {\n      escape = true\n    } else {\n      string += c\n    }\n  }\n  return string\n}\n\nmodule.exports = Lexer\n","'use strict'\nmodule.exports = function (node) {\n  var self = this\n  var arr = []\n  this.rawify(this.options.rawArrayExpressionElements, function () {\n    arr = node.nodes.map(function (el) {\n      return self.next(el)\n    })\n  })\n  var arrString = '[' + arr.join(',') + ']'\n\n  if (this.options.raw) {\n    return arrString\n  }\n  return this.options.factory + '(' + arrString + ')'\n}\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\nvar d3 = window.d3\nvar builtInEvaluator = require('./eval').builtIn\nvar polyline = require('../graph-types/polyline')\nvar datumDefaults = require('../datum-defaults')\n\nmodule.exports = function (chart) {\n  var derivativeDatum = datumDefaults({\n    isHelper: true,\n    skipTip: true,\n    skipBoundsCheck: true,\n    nSamples: 2,\n    graphType: 'polyline'\n  })\n  var derivative\n\n  function computeLine (d) {\n    if (!d.derivative) {\n      return []\n    }\n    var x0 = typeof d.derivative.x0 === 'number' ? d.derivative.x0 : Infinity\n    derivativeDatum.index = d.index\n    derivativeDatum.scope = {\n      m: builtInEvaluator(d.derivative, 'fn', { x: x0 }),\n      x0: x0,\n      y0: builtInEvaluator(d, 'fn', { x: x0 })\n    }\n    derivativeDatum.fn = 'm * (x - x0) + y0'\n    return [derivativeDatum]\n  }\n\n  function checkAutoUpdate (d) {\n    var self = this\n    if (!d.derivative) {\n      return\n    }\n    if (d.derivative.updateOnMouseMove && !d.derivative.$$mouseListener) {\n      d.derivative.$$mouseListener = function (x0) {\n        // update initial value to be the position of the mouse\n        // scope's x0 will be updated on the next call to `derivative(self)`\n        if (d.derivative) {\n          d.derivative.x0 = x0\n        }\n        // trigger update (selection = self)\n        derivative(self)\n      }\n      // if d.derivative is destroyed and recreated, the tip:update event\n      // will be fired on the new d.derivative :)\n      chart.on('tip:update', d.derivative.$$mouseListener)\n    }\n  }\n\n  derivative = function (selection) {\n    selection.each(function (d) {\n      var el = d3.select(this)\n      var data = computeLine.call(selection, d)\n      checkAutoUpdate.call(selection, d)\n      var innerSelection = el.selectAll('g.derivative')\n        .data(data)\n\n      innerSelection.enter()\n        .append('g')\n        .attr('class', 'derivative')\n\n      // enter + update\n      innerSelection\n        .call(polyline(chart))\n\n      // update\n      // change the opacity of the line\n      innerSelection.selectAll('path')\n        .attr('opacity', 0.5)\n\n      innerSelection.exit().remove()\n    })\n  }\n\n  return derivative\n}\n","/*\n * mr-parser\n *\n * Copyright (c) 2015 Mauricio Poppe\n * Licensed under the MIT license.\n */\n\n'use strict'\n\nmodule.exports.Lexer = require('./lib/Lexer')\nmodule.exports.Parser = require('./lib/Parser')\nmodule.exports.nodeTypes = require('./lib/node/')\n","/**\n * Created by mauricio on 4/8/15.\n */\n'use strict'\nvar d3 = window.d3\nvar derivative = require('./derivative')\nvar secant = require('./secant')\n\nmodule.exports = function (chart) {\n  function helper (selection) {\n    selection.each(function () {\n      var el = d3.select(this)\n      el.call(derivative(chart))\n      el.call(secant(chart))\n    })\n  }\n\n  return helper\n}\n","\"use strict\"\n\nvar doubleBits = require(\"double-bits\")\n\nvar SMALLEST_DENORM = Math.pow(2, -1074)\nvar UINT_MAX = (-1)>>>0\n\nmodule.exports = nextafter\n\nfunction nextafter(x, y) {\n  if(isNaN(x) || isNaN(y)) {\n    return NaN\n  }\n  if(x === y) {\n    return x\n  }\n  if(x === 0) {\n    if(y < 0) {\n      return -SMALLEST_DENORM\n    } else {\n      return SMALLEST_DENORM\n    }\n  }\n  var hi = doubleBits.hi(x)\n  var lo = doubleBits.lo(x)\n  if((y > x) === (x > 0)) {\n    if(lo === UINT_MAX) {\n      hi += 1\n      lo = 0\n    } else {\n      lo += 1\n    }\n  } else {\n    if(lo === 0) {\n      lo = UINT_MAX\n      hi -= 1\n    } else {\n      lo -= 1\n    }\n  }\n  return doubleBits.pack(lo, hi)\n}","var Node = require('./Node')\n\nvar SUPPORTED_TYPES = {\n  number: true,\n  string: true,\n  'boolean': true,\n  'undefined': true,\n  'null': true\n}\n\nfunction ConstantNode (value, type) {\n  if (!SUPPORTED_TYPES[type]) {\n    throw Error('unsupported type \\'' + type + '\\'')\n  }\n  this.value = value\n  this.valueType = type\n}\n\nConstantNode.prototype = Object.create(Node.prototype)\n\nConstantNode.prototype.type = 'ConstantNode'\n\nmodule.exports = ConstantNode\n","'use strict';\nmodule.exports = Math.log10 || function (x) {\n\treturn Math.log(x) * Math.LOG10E;\n};\n","var ua = typeof window !== 'undefined' ? window.navigator.userAgent : ''\n  , isOSX = /OS X/.test(ua)\n  , isOpera = /Opera/.test(ua)\n  , maybeFirefox = !/like Gecko/.test(ua) && !isOpera\n\nvar i, output = module.exports = {\n  0:  isOSX ? '<menu>' : '<UNK>'\n, 1:  '<mouse 1>'\n, 2:  '<mouse 2>'\n, 3:  '<break>'\n, 4:  '<mouse 3>'\n, 5:  '<mouse 4>'\n, 6:  '<mouse 5>'\n, 8:  '<backspace>'\n, 9:  '<tab>'\n, 12: '<clear>'\n, 13: '<enter>'\n, 16: '<shift>'\n, 17: '<control>'\n, 18: '<alt>'\n, 19: '<pause>'\n, 20: '<caps-lock>'\n, 21: '<ime-hangul>'\n, 23: '<ime-junja>'\n, 24: '<ime-final>'\n, 25: '<ime-kanji>'\n, 27: '<escape>'\n, 28: '<ime-convert>'\n, 29: '<ime-nonconvert>'\n, 30: '<ime-accept>'\n, 31: '<ime-mode-change>'\n, 27: '<escape>'\n, 32: '<space>'\n, 33: '<page-up>'\n, 34: '<page-down>'\n, 35: '<end>'\n, 36: '<home>'\n, 37: '<left>'\n, 38: '<up>'\n, 39: '<right>'\n, 40: '<down>'\n, 41: '<select>'\n, 42: '<print>'\n, 43: '<execute>'\n, 44: '<snapshot>'\n, 45: '<insert>'\n, 46: '<delete>'\n, 47: '<help>'\n, 91: '<meta>'  // meta-left -- no one handles left and right properly, so we coerce into one.\n, 92: '<meta>'  // meta-right\n, 93: isOSX ? '<meta>' : '<menu>'      // chrome,opera,safari all report this for meta-right (osx mbp).\n, 95: '<sleep>'\n, 106: '<num-*>'\n, 107: '<num-+>'\n, 108: '<num-enter>'\n, 109: '<num-->'\n, 110: '<num-.>'\n, 111: '<num-/>'\n, 144: '<num-lock>'\n, 145: '<scroll-lock>'\n, 160: '<shift-left>'\n, 161: '<shift-right>'\n, 162: '<control-left>'\n, 163: '<control-right>'\n, 164: '<alt-left>'\n, 165: '<alt-right>'\n, 166: '<browser-back>'\n, 167: '<browser-forward>'\n, 168: '<browser-refresh>'\n, 169: '<browser-stop>'\n, 170: '<browser-search>'\n, 171: '<browser-favorites>'\n, 172: '<browser-home>'\n\n  // ff/osx reports '<volume-mute>' for '-'\n, 173: isOSX && maybeFirefox ? '-' : '<volume-mute>'\n, 174: '<volume-down>'\n, 175: '<volume-up>'\n, 176: '<next-track>'\n, 177: '<prev-track>'\n, 178: '<stop>'\n, 179: '<play-pause>'\n, 180: '<launch-mail>'\n, 181: '<launch-media-select>'\n, 182: '<launch-app 1>'\n, 183: '<launch-app 2>'\n, 186: ';'\n, 187: '='\n, 188: ','\n, 189: '-'\n, 190: '.'\n, 191: '/'\n, 192: '`'\n, 219: '['\n, 220: '\\\\'\n, 221: ']'\n, 222: \"'\"\n, 223: '<meta>'\n, 224: '<meta>'       // firefox reports meta here.\n, 226: '<alt-gr>'\n, 229: '<ime-process>'\n, 231: isOpera ? '`' : '<unicode>'\n, 246: '<attention>'\n, 247: '<crsel>'\n, 248: '<exsel>'\n, 249: '<erase-eof>'\n, 250: '<play>'\n, 251: '<zoom>'\n, 252: '<no-name>'\n, 253: '<pa-1>'\n, 254: '<clear>'\n}\n\nfor(i = 58; i < 65; ++i) {\n  output[i] = String.fromCharCode(i)\n}\n\n// 0-9\nfor(i = 48; i < 58; ++i) {\n  output[i] = (i - 48)+''\n}\n\n// A-Z\nfor(i = 65; i < 91; ++i) {\n  output[i] = String.fromCharCode(i)\n}\n\n// num0-9\nfor(i = 96; i < 106; ++i) {\n  output[i] = '<num-'+(i - 96)+'>'\n}\n\n// F1-F24\nfor(i = 112; i < 136; ++i) {\n  output[i] = 'F'+(i-111)\n}\n","/**\n * Created by mauricio on 5/11/15.\n */\n'use strict'\n\n// hyperbolic functions only present on es6\nMath.sinh = Math.sinh || function (x) {\n  var y = Math.exp(x)\n  return (y - 1 / y) / 2\n}\n\nMath.cosh = Math.cosh || function (x) {\n  var y = Math.exp(x)\n  return (y + 1 / y) / 2\n}\n\nMath.tanh = Math.tanh || function (x) {\n  if (x === Number.POSITIVE_INFINITY) {\n    return 1\n  } else if (x === Number.NEGATIVE_INFINITY) {\n    return -1\n  } else {\n    var y = Math.exp(2 * x)\n    return (y - 1) / (y + 1)\n  }\n}\n","module.exports = {\n  ArrayNode: require('./ArrayNode'),\n  AssignmentNode: require('./AssignmentNode'),\n  BlockNode: require('./BlockNode'),\n  ConditionalNode: require('./ConditionalNode'),\n  ConstantNode: require('./ConstantNode'),\n  FunctionNode: require('./FunctionNode'),\n  Node: require('./Node'),\n  OperatorNode: require('./OperatorNode'),\n  SymbolNode: require('./SymbolNode'),\n  UnaryNode: require('./UnaryNode')\n}\n","var Node = require('./Node')\n\nfunction BlockNode (blocks) {\n  this.blocks = blocks\n}\n\nBlockNode.prototype = Object.create(Node.prototype)\n\nBlockNode.prototype.type = 'BlockNode'\n\nmodule.exports = BlockNode\n","var tokenType = require('./token-type')\n\nvar Lexer = require('./Lexer')\nvar ConstantNode = require('./node/ConstantNode')\nvar OperatorNode = require('./node/OperatorNode')\nvar UnaryNode = require('./node/UnaryNode')\nvar SymbolNode = require('./node/SymbolNode')\nvar FunctionNode = require('./node/FunctionNode')\nvar ArrayNode = require('./node/ArrayNode')\nvar ConditionalNode = require('./node/ConditionalNode')\nvar AssignmentNode = require('./node/AssignmentNode')\nvar BlockNode = require('./node/BlockNode')\n\n/**\n * Grammar DSL:\n *\n * program          : block (; block)*\n *\n * block            : assignment\n *\n * assignment       : ternary\n *                  | symbol `=` assignment\n *\n * ternary          : logicalOR\n *                  | logicalOR `?` ternary `:` ternary\n *\n * logicalOR        : logicalXOR\n *                  | logicalXOR (`||`,`or`) logicalOR\n *\n * logicalXOR       : logicalAND\n *                  : logicalAND `xor` logicalXOR\n *\n * logicalAND       : bitwiseOR\n *                  | bitwiseOR (`&&`,`and`) logicalAND\n *\n * bitwiseOR        : bitwiseXOR\n *                  | bitwiseXOR `|` bitwiseOR\n *\n * bitwiseXOR       : bitwiseAND\n *                  | bitwiseAND `^|` bitwiseXOR\n *\n * bitwiseAND       : relational\n *                  | relational `&` bitwiseAND\n *\n * relational       : shift\n *                  | shift (`!=` | `==` | `>` | '<' | '<=' |'>=') shift)\n *\n * shift            : additive\n *                  | additive (`>>` | `<<` | `>>>`) shift\n *\n * additive         : multiplicative\n *                  | multiplicative (`+` | `-`) additive\n *\n * multiplicative   : unary\n *                  | unary (`*` | `/` | `%`) unary\n *                  | unary symbol\n *\n * unary            : pow\n *                  | (`-` | `+` | `~`) unary\n *\n * pow              : factorial\n *                  | factorial (`^`, '**') unary\n *\n * factorial        : symbol\n *                  | symbol (`!`)\n *\n * symbol           : symbolToken\n *                  | symbolToken functionCall\n *                  | string\n *\n * functionCall     : `(` `)`\n *                  | `(` ternary (, ternary)* `)`\n *\n * string           : `'` (character)* `'`\n *                  : `\"` (character)* `\"`\n *                  | array\n *\n * array            : `[` `]`\n *                  | `[` assignment (, assignment)* `]`\n *                  | number\n *\n * number           : number-token\n *                  | parentheses\n *\n * parentheses      : `(` assignment `)`\n *                  : end\n *\n * end              : NULL\n *\n * @param {[type]} lexer [description]\n */\nfunction Parser () {\n  this.lexer = new Lexer()\n  this.tokens = null\n}\n\nParser.prototype.current = function () {\n  return this.tokens[0]\n}\n\nParser.prototype.next = function () {\n  return this.tokens[1]\n}\n\nParser.prototype.peek = function () {\n  if (this.tokens.length) {\n    var first = this.tokens[0]\n    for (var i = 0; i < arguments.length; i += 1) {\n      if (first.value === arguments[i]) {\n        return true\n      }\n    }\n  }\n}\n\nParser.prototype.consume = function (e) {\n  return this.tokens.shift()\n}\n\nParser.prototype.expect = function (e) {\n  if (!this.peek(e)) {\n    throw Error('expected ' + e)\n  }\n  return this.consume()\n}\n\nParser.prototype.isEOF = function () {\n  return this.current().type === tokenType.EOF\n}\n\nParser.prototype.parse = function (text) {\n  this.tokens = this.lexer.lex(text)\n  return this.program()\n}\n\nParser.prototype.program = function () {\n  var blocks = []\n  while (!this.isEOF()) {\n    blocks.push(this.assignment())\n    if (this.peek(';')) {\n      this.consume()\n    }\n  }\n  this.end()\n  return new BlockNode(blocks)\n}\n\nParser.prototype.assignment = function () {\n  var left = this.ternary()\n  if (left instanceof SymbolNode && this.peek('=')) {\n    this.consume()\n    return new AssignmentNode(left.name, this.assignment())\n  }\n  return left\n}\n\nParser.prototype.ternary = function () {\n  var predicate = this.logicalOR()\n  if (this.peek('?')) {\n    this.consume()\n    var truthy = this.ternary()\n    this.expect(':')\n    var falsy = this.ternary()\n    return new ConditionalNode(predicate, truthy, falsy)\n  }\n  return predicate\n}\n\nParser.prototype.logicalOR = function () {\n  var left = this.logicalXOR()\n  if (this.peek('||')) {\n    var op = this.consume()\n    var right = this.logicalOR()\n    return new OperatorNode(op.value, [left, right])\n  }\n  return left\n}\n\nParser.prototype.logicalXOR = function () {\n  var left = this.logicalAND()\n  if (this.current().value === 'xor') {\n    var op = this.consume()\n    var right = this.logicalXOR()\n    return new OperatorNode(op.value, [left, right])\n  }\n  return left\n}\n\nParser.prototype.logicalAND = function () {\n  var left = this.bitwiseOR()\n  if (this.peek('&&')) {\n    var op = this.consume()\n    var right = this.logicalAND()\n    return new OperatorNode(op.value, [left, right])\n  }\n  return left\n}\n\nParser.prototype.bitwiseOR = function () {\n  var left = this.bitwiseXOR()\n  if (this.peek('|')) {\n    var op = this.consume()\n    var right = this.bitwiseOR()\n    return new OperatorNode(op.value, [left, right])\n  }\n  return left\n}\n\nParser.prototype.bitwiseXOR = function () {\n  var left = this.bitwiseAND()\n  if (this.peek('^|')) {\n    var op = this.consume()\n    var right = this.bitwiseXOR()\n    return new OperatorNode(op.value, [left, right])\n  }\n  return left\n}\n\nParser.prototype.bitwiseAND = function () {\n  var left = this.relational()\n  if (this.peek('&')) {\n    var op = this.consume()\n    var right = this.bitwiseAND()\n    return new OperatorNode(op.value, [left, right])\n  }\n  return left\n}\n\nParser.prototype.relational = function () {\n  var left = this.shift()\n  if (this.peek('==', '===', '!=', '!==', '>=', '<=', '>', '<')) {\n    var op = this.consume()\n    var right = this.shift()\n    return new OperatorNode(op.value, [left, right])\n  }\n  return left\n}\n\nParser.prototype.shift = function () {\n  var left = this.additive()\n  if (this.peek('>>', '<<', '>>>')) {\n    var op = this.consume()\n    var right = this.shift()\n    return new OperatorNode(op.value, [left, right])\n  }\n  return left\n}\n\nParser.prototype.additive = function () {\n  var left = this.multiplicative()\n  while (this.peek('+', '-')) {\n    var op = this.consume()\n    left = new OperatorNode(op.value, [left, this.multiplicative()])\n  }\n  return left\n}\n\nParser.prototype.multiplicative = function () {\n  var op, right\n  var left = this.unary()\n  while (this.peek('*', '/', '%')) {\n    op = this.consume()\n    left = new OperatorNode(op.value, [left, this.unary()])\n  }\n\n  // implicit multiplication\n  // - 2 x\n  // - 2(x)\n  // - (2)2\n  if (this.current().type === tokenType.SYMBOL ||\n      this.peek('(') ||\n      (!(left.type instanceof ConstantNode) && this.current().type === tokenType.NUMBER)\n      ) {\n    right = this.multiplicative()\n    return new OperatorNode('*', [left, right])\n  }\n\n  return left\n}\n\nParser.prototype.unary = function () {\n  if (this.peek('-', '+', '~')) {\n    var op = this.consume()\n    var right = this.unary()\n    return new UnaryNode(op.value, right)\n  }\n  return this.pow()\n}\n\nParser.prototype.pow = function () {\n  var left = this.factorial()\n  if (this.peek('^', '**')) {\n    var op = this.consume()\n    var right = this.unary()\n    return new OperatorNode(op.value, [left, right])\n  }\n  return left\n}\n\nParser.prototype.factorial = function () {\n  var left = this.symbol()\n  if (this.peek('!')) {\n    var op = this.consume()\n    return new OperatorNode(op.value, [left])\n  }\n  return left\n}\n\nParser.prototype.symbol = function () {\n  var current = this.current()\n  if (current.type === tokenType.SYMBOL) {\n    var symbol = this.consume()\n    var node = this.functionCall(symbol)\n    return node\n  }\n  return this.string()\n}\n\nParser.prototype.functionCall = function (symbolToken) {\n  var name = symbolToken.value\n  if (this.peek('(')) {\n    this.consume()\n    var params = []\n    while (!this.peek(')') && !this.isEOF()) {\n      params.push(this.assignment())\n      if (this.peek(',')) {\n        this.consume()\n      }\n    }\n    this.expect(')')\n    return new FunctionNode(name, params)\n  }\n  return new SymbolNode(name)\n}\n\nParser.prototype.string = function () {\n  if (this.current().type === tokenType.STRING) {\n    return new ConstantNode(this.consume().value, 'string')\n  }\n  return this.array()\n}\n\nParser.prototype.array = function () {\n  if (this.peek('[')) {\n    this.consume()\n    var params = []\n    while (!this.peek(']') && !this.isEOF()) {\n      params.push(this.assignment())\n      if (this.peek(',')) {\n        this.consume()\n      }\n    }\n    this.expect(']')\n    return new ArrayNode(params)\n  }\n  return this.number()\n}\n\nParser.prototype.number = function () {\n  var token = this.current()\n  if (token.type === tokenType.NUMBER) {\n    return new ConstantNode(this.consume().value, 'number')\n  }\n  return this.parentheses()\n}\n\nParser.prototype.parentheses = function () {\n  var token = this.current()\n  if (token.value === '(') {\n    this.consume()\n    var left = this.assignment()\n    this.expect(')')\n    return left\n  }\n  return this.end()\n}\n\nParser.prototype.end = function () {\n  var token = this.current()\n  if (token.type !== tokenType.EOF) {\n    throw Error('unexpected end of expression')\n  }\n}\n\nmodule.exports = Parser\n","/*\n * function-plot\n *\n * Copyright (c) 2015 Mauricio Poppe\n * Licensed under the MIT license.\n */\n'use strict'\nrequire('./polyfills')\n\nvar d3 = window.d3\n\nvar events = require('events')\nvar extend = require('extend')\n\nvar mousetip = require('./tip')\nvar helpers = require('./helpers/')\nvar annotations = require('./helpers/annotations')\nvar datumDefaults = require('./datum-defaults')\n\nvar globals\nvar graphTypes\nvar cache = []\n\nmodule.exports = function (options) {\n  options = options || {}\n  options.data = options.data || []\n\n  // globals\n  var width, height\n  var margin\n  var zoomBehavior\n  var xScale, yScale\n  var line = d3.svg.line()\n    .x(function (d) { return xScale(d[0]) })\n    .y(function (d) { return yScale(d[1]) })\n\n  function Chart () {\n    var n = Math.random()\n    var letter = String.fromCharCode(Math.floor(n * 26) + 97)\n    this.id = options.id = letter + n.toString(16).substr(2)\n    this.linkedGraphs = [this]\n    this.options = options\n    cache[this.id] = this\n    this.setUpEventListeners()\n  }\n\n  Chart.prototype = Object.create(events.prototype)\n\n  /**\n   * Rebuilds the entire graph from scratch recomputing\n   *\n   * - the inner width/height\n   * - scales/axes\n   *\n   * After this is done it does a complete redraw of all the datums,\n   * if only the datums need to be redrawn call `instance.draw()` instead\n   *\n   * @returns {Chart}\n   */\n  Chart.prototype.build = function () {\n    this.internalVars()\n    this.drawGraphWrapper()\n    return this\n  }\n\n  Chart.prototype.initializeAxes = function () {\n    var integerFormat = d3.format('s')\n    var format = function (scale) {\n      return function (d) {\n        var decimalFormat = scale.tickFormat(10)\n        var isInteger = d === +d && d === (d | 0)\n        // integers: d3.format('s'), see https://github.com/mbostock/d3/wiki/Formatting\n        // decimals: default d3.scale.linear() formatting see\n        //    https://github.com/mbostock/d3/blob/master/src/svg/axis.js#L29\n        return isInteger ? integerFormat(d) : decimalFormat(d)\n      }\n    }\n\n    function computeYScale (xScale) {\n      // assumes that xScale is a linear scale\n      var xDiff = xScale[1] - xScale[0]\n      return height * xDiff / width\n    }\n\n    options.xAxis = options.xAxis || {}\n    options.xAxis.type = options.xAxis.type || 'linear'\n\n    options.yAxis = options.yAxis || {}\n    options.yAxis.type = options.yAxis.type || 'linear'\n\n    var xDomain = this.meta.xDomain = (function (axis) {\n      if (axis.domain) {\n        return axis.domain\n      }\n      if (axis.type === 'linear') {\n        var xLimit = 12\n        return [-xLimit / 2, xLimit / 2]\n      } else if (axis.type === 'log') {\n        return [1, 10]\n      }\n      throw Error('axis type ' + axis.type + ' unsupported')\n    })(options.xAxis)\n\n    var yDomain = this.meta.yDomain = (function (axis) {\n      if (axis.domain) {\n        return axis.domain\n      }\n      var yLimit = computeYScale(xDomain)\n      if (axis.type === 'linear') {\n        return [-yLimit / 2, yLimit / 2]\n      } else if (axis.type === 'log') {\n        return [1, 10]\n      }\n      throw Error('axis type ' + axis.type + ' unsupported')\n    })(options.yAxis)\n\n    if (xDomain[0] >= xDomain[1]) {\n      throw Error('the pair defining the x-domain is inverted')\n    }\n    if (yDomain[0] >= yDomain[1]) {\n      throw Error('the pair defining the y-domain is inverted')\n    }\n\n    xScale = this.meta.xScale = d3.scale[options.xAxis.type]()\n      .domain(xDomain)\n      .range(options.xAxis.invert ? [width, 0] : [0, width])\n    yScale = this.meta.yScale = d3.scale[options.yAxis.type]()\n      .domain(yDomain)\n      .range(options.yAxis.invert ? [0, height] : [height, 0])\n    this.meta.xAxis = d3.svg.axis()\n      .scale(xScale)\n      .tickSize(options.grid ? -height : 0)\n      .tickFormat(format(xScale))\n      .orient('bottom')\n    this.meta.yAxis = d3.svg.axis()\n      .scale(yScale)\n      .tickSize(options.grid ? -width : 0)\n      .tickFormat(format(yScale))\n      .orient('left')\n  }\n\n  Chart.prototype.internalVars = function () {\n    // measurements and other derived data\n    this.meta = {}\n\n    margin = this.meta.margin = { left: 30, right: 30, top: 20, bottom: 20 }\n    // margin = this.meta.margin = {left: 0, right: 0, top: 20, bottom: 20}\n    // if there's a title make the top margin bigger\n    if (options.title) {\n      this.meta.margin.top = 40\n    }\n\n    zoomBehavior = this.meta.zoomBehavior = d3.behavior.zoom()\n\n    // inner width/height\n    width = this.meta.width = (options.width || globals.DEFAULT_WIDTH) -\n      margin.left - margin.right\n    height = this.meta.height = (options.height || globals.DEFAULT_HEIGHT) -\n      margin.top - margin.bottom\n\n    this.initializeAxes()\n  }\n\n  Chart.prototype.drawGraphWrapper = function () {\n    var root = this.root = d3.select(options.target).selectAll('svg')\n      .data([options])\n\n    // enter\n    this.root.enter = root.enter()\n      .append('svg')\n      .attr('class', 'function-plot')\n      .attr('font-size', this.getFontSize())\n\n    // merge\n    root\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom)\n\n    this.buildTitle()\n    this.buildLegend()\n    this.buildCanvas()\n    this.buildClip()\n    this.buildAxis()\n    this.buildAxisLabel()\n\n    // draw each datum after the wrapper was set up\n    this.draw()\n\n    // helper to detect the closest fn to the cursor's current abscissa\n    var tip = this.tip = mousetip(extend(options.tip, { owner: this }))\n    this.canvas\n      .call(tip)\n\n    this.buildZoomHelper()\n    this.setUpPlugins()\n  }\n\n  Chart.prototype.buildTitle = function () {\n    // join\n    var selection = this.root.selectAll('text.title')\n      .data(function (d) {\n        return [d.title].filter(Boolean)\n      })\n\n    // enter\n    selection.enter()\n      .append('text')\n      .attr('class', 'title')\n      .attr('y', margin.top / 2)\n      .attr('x', margin.left + width / 2)\n      .attr('font-size', 25)\n      .attr('text-anchor', 'middle')\n      .attr('alignment-baseline', 'middle')\n      .text(options.title)\n\n    // exit\n    selection.exit().remove()\n  }\n\n  Chart.prototype.buildLegend = function () {\n    // enter\n    this.root.enter\n      .append('text')\n      .attr('class', 'top-right-legend')\n      .attr('text-anchor', 'end')\n\n    // update + enter\n    this.root.select('.top-right-legend')\n      .attr('y', margin.top / 2)\n      .attr('x', width + margin.left)\n  }\n\n  Chart.prototype.buildCanvas = function () {\n    var self = this\n\n    this.meta.zoomBehavior\n      .x(xScale)\n      .y(yScale)\n      .on('zoom', function onZoom () {\n        self.emit('all:zoom', d3.event.translate, d3.event.scale)\n      })\n\n    // enter\n    var canvas = this.canvas = this.root\n      .selectAll('.canvas')\n      .data(function (d) { return [d] })\n\n    this.canvas.enter = canvas.enter()\n      .append('g')\n      .attr('class', 'canvas')\n\n    // enter + update\n  }\n\n  Chart.prototype.buildClip = function () {\n    // (so that the functions don't overflow on zoom or drag)\n    var id = this.id\n    var defs = this.canvas.enter.append('defs')\n    defs.append('clipPath')\n      .attr('id', 'function-plot-clip-' + id)\n      .append('rect')\n      .attr('class', 'clip static-clip')\n\n    // enter + update\n    this.canvas.selectAll('.clip')\n      .attr('width', width)\n      .attr('height', height)\n\n    // marker clip (for vectors)\n    this.markerId = this.id + '-marker'\n    defs.append('clipPath')\n      .append('marker')\n      .attr('id', this.markerId)\n      .attr('viewBox', '0 -5 10 10')\n      .attr('refX', 10)\n      .attr('markerWidth', 5)\n      .attr('markerHeight', 5)\n      .attr('orient', 'auto')\n      .append('svg:path')\n      .attr('d', 'M0,-5L10,0L0,5L0,0')\n      .attr('stroke-width', '0px')\n      .attr('fill-opacity', 1)\n      .attr('fill', '#777')\n  }\n\n  Chart.prototype.buildAxis = function () {\n    // axis creation\n    var canvasEnter = this.canvas.enter\n    canvasEnter.append('g')\n      .attr('class', 'x axis')\n    canvasEnter.append('g')\n      .attr('class', 'y axis')\n\n    // update\n    this.canvas.select('.x.axis')\n      .attr('transform', 'translate(0,' + height + ')')\n      .call(this.meta.xAxis)\n    this.canvas.select('.y.axis')\n      .call(this.meta.yAxis)\n  }\n\n  Chart.prototype.buildAxisLabel = function () {\n    // axis labeling\n    var xLabel, yLabel\n    var canvas = this.canvas\n\n    xLabel = canvas.selectAll('text.x.axis-label')\n      .data(function (d) {\n        return [d.xAxis.label].filter(Boolean)\n      })\n    xLabel.enter()\n      .append('text')\n      .attr('class', 'x axis-label')\n      .attr('text-anchor', 'end')\n    xLabel\n      .attr('x', width)\n      .attr('y', height - 6)\n      .text(function (d) { return d })\n    xLabel.exit().remove()\n\n    yLabel = canvas.selectAll('text.y.axis-label')\n      .data(function (d) {\n        return [d.yAxis.label].filter(Boolean)\n      })\n    yLabel.enter()\n      .append('text')\n      .attr('class', 'y axis-label')\n      .attr('y', 6)\n      .attr('dy', '.75em')\n      .attr('text-anchor', 'end')\n      .attr('transform', 'rotate(-90)')\n    yLabel\n      .text(function (d) { return d })\n    yLabel.exit().remove()\n  }\n\n  /**\n   * @private\n   *\n   * Draws each of the datums stored in data.options, to do a full\n   * redraw call `instance.draw()`\n   */\n  Chart.prototype.buildContent = function () {\n    var self = this\n    var canvas = this.canvas\n\n    canvas\n      .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\n      .call(zoomBehavior)\n      .each(function () {\n        var el = d3.select(this)\n        // make a copy of all the listeners available to be removed/added later\n        var listeners = [\n          'mousedown',\n          'touchstart',\n          ('onwheel' in document\n            ? 'wheel' : 'ononmousewheel' in document\n              ? 'mousewheel'\n              : 'MozMousePixelScroll')\n        ].map(function (d) { return d + '.zoom' })\n        if (!el._zoomListenersCache) {\n          listeners.forEach(function (l) {\n            el['_' + l] = el.on(l)\n          })\n          el._zoomListenersCache = true\n        }\n        function setState (state) {\n          listeners.forEach(function (l) {\n            state ? el.on(l, el['_' + l]) : el.on(l, null)\n          })\n        }\n        setState(!options.disableZoom)\n      })\n\n    var content = this.content = canvas.selectAll(':scope > g.content')\n      .data(function (d) { return [d] })\n\n    // g tag clipped to hold the data\n    content.enter()\n      .append('g')\n      .attr('clip-path', 'url(#function-plot-clip-' + this.id + ')')\n      .attr('class', 'content')\n\n    // helper line, x = 0\n    if (options.xAxis.type === 'linear') {\n      var yOrigin = content.selectAll(':scope > path.y.origin')\n        .data([ [[0, yScale.domain()[0]], [0, yScale.domain()[1]]] ])\n      yOrigin.enter()\n        .append('path')\n        .attr('class', 'y origin')\n        .attr('stroke', 'black')\n        .attr('opacity', 0.2)\n      yOrigin.attr('d', line)\n    }\n\n    // helper line y = 0\n    if (options.yAxis.type === 'linear') {\n      var xOrigin = content.selectAll(':scope > path.x.origin')\n        .data([ [[xScale.domain()[0], 0], [xScale.domain()[1], 0]] ])\n      xOrigin.enter()\n        .append('path')\n        .attr('class', 'x origin')\n        .attr('stroke', 'black')\n        .attr('opacity', 0.2)\n      xOrigin.attr('d', line)\n    }\n\n    // annotations\n    content\n      .call(annotations({ owner: self }))\n\n    // content construction\n    // - join options.data to <g class='graph'> elements\n    // - for each datum determine the sampler to use\n    var graphs = content.selectAll(':scope > g.graph')\n      .data(function (d) {\n        return d.data.map(datumDefaults)\n      })\n\n    // enter\n    graphs\n      .enter()\n      .append('g')\n      .attr('class', 'graph')\n\n    // enter + update\n    graphs\n      .each(function (d, index) {\n        // additional options needed in the graph-types/helpers\n        d.index = index\n\n        d3.select(this)\n          .call(graphTypes[d.graphType](self))\n        d3.select(this)\n          .call(helpers(self))\n      })\n  }\n\n  Chart.prototype.buildZoomHelper = function () {\n    // dummy rect (detects the zoom + drag)\n    var self = this\n\n    // enter\n    this.draggable = this.canvas.enter\n      .append('rect')\n      .attr('class', 'zoom-and-drag')\n      .style('fill', 'none')\n      .style('pointer-events', 'all')\n\n    // update\n    this.canvas.select('.zoom-and-drag')\n      .attr('width', width)\n      .attr('height', height)\n      .on('mouseover', function () {\n        self.emit('all:mouseover')\n      })\n      .on('mouseout', function () {\n        self.emit('all:mouseout')\n      })\n      .on('mousemove', function () {\n        self.emit('all:mousemove')\n      })\n  }\n\n  Chart.prototype.setUpPlugins = function () {\n    var plugins = options.plugins || []\n    var self = this\n    plugins.forEach(function (plugin) {\n      plugin(self)\n    })\n  }\n\n  Chart.prototype.addLink = function () {\n    for (var i = 0; i < arguments.length; i += 1) {\n      this.linkedGraphs.push(arguments[i])\n    }\n  }\n\n  Chart.prototype.updateAxes = function () {\n    var instance = this\n    var canvas = instance.canvas\n    canvas.select('.x.axis').call(instance.meta.xAxis)\n    canvas.select('.y.axis').call(instance.meta.yAxis)\n\n    // updates the style of the axes\n    canvas.selectAll('.axis path, .axis line')\n      .attr('fill', 'none')\n      .attr('stroke', 'black')\n      .attr('shape-rendering', 'crispedges')\n      .attr('opacity', 0.1)\n  }\n\n  Chart.prototype.syncOptions = function () {\n    // update the original options yDomain and xDomain\n    this.options.xAxis.domain = this.meta.xScale.domain()\n    this.options.yAxis.domain = this.meta.yScale.domain()\n  }\n\n  Chart.prototype.programmaticZoom = function (xDomain, yDomain) {\n    var instance = this\n    d3.transition()\n      .duration(750)\n      .tween('zoom', function () {\n        var ix = d3.interpolate(xScale.domain(), xDomain)\n        var iy = d3.interpolate(yScale.domain(), yDomain)\n        return function (t) {\n          zoomBehavior\n            .x(xScale.domain(ix(t)))\n            .y(yScale.domain(iy(t)))\n          instance.draw()\n        }\n      })\n      .each('end', function () {\n        instance.emit('programmatic-zoom')\n      })\n  }\n\n  Chart.prototype.getFontSize = function () {\n    return Math.max(Math.max(width, height) / 50, 8)\n  }\n\n  Chart.prototype.draw = function () {\n    var instance = this\n    instance.emit('before:draw')\n    instance.syncOptions()\n    instance.updateAxes()\n    instance.buildContent()\n    instance.emit('after:draw')\n  }\n\n  Chart.prototype.setUpEventListeners = function () {\n    var instance = this\n\n    var events = {\n      mousemove: function (coordinates) {\n        instance.tip.move(coordinates)\n      },\n\n      mouseover: function () {\n        instance.tip.show()\n      },\n\n      mouseout: function () {\n        instance.tip.hide()\n      },\n\n      zoom: function (translate, scale) {\n        zoomBehavior\n          .translate(translate)\n          .scale(scale)\n      },\n\n      'tip:update': function (x, y, index) {\n        var meta = instance.root.datum().data[index]\n        var title = meta.title || ''\n        var format = meta.renderer || function (x, y) {\n          return x.toFixed(3) + ', ' + y.toFixed(3)\n        }\n\n        var text = []\n        title && text.push(title)\n        text.push(format(x, y))\n\n        instance.root.select('.top-right-legend')\n          .attr('fill', globals.COLORS[index])\n          .text(text.join(' '))\n      }\n\n    }\n\n    var all = {\n      mousemove: function () {\n        var mouse = d3.mouse(instance.root.select('rect.zoom-and-drag').node())\n        var coordinates = {\n          x: xScale.invert(mouse[0]),\n          y: yScale.invert(mouse[1])\n        }\n        instance.linkedGraphs.forEach(function (graph) {\n          graph.emit('before:mousemove', coordinates)\n          graph.emit('mousemove', coordinates)\n        })\n      },\n\n      zoom: function (translate, scale) {\n        instance.linkedGraphs.forEach(function (graph, i) {\n          graph.emit('zoom', translate, scale)\n          graph.draw()\n        })\n\n        // emit the position of the mouse to all the registered graphs\n        instance.emit('all:mousemove')\n      }\n\n    }\n\n    Object.keys(events).forEach(function (e) {\n      instance.on(e, events[e])\n      // create an event for each event existing on `events` in the form 'all:' event\n      // e.g. all:mouseover all:mouseout\n      // the objective is that all the linked graphs receive the same event as the current graph\n      !all[e] && instance.on('all:' + e, function () {\n        var args = Array.prototype.slice.call(arguments)\n        instance.linkedGraphs.forEach(function (graph) {\n          var localArgs = args.slice()\n          localArgs.unshift(e)\n          graph.emit.apply(graph, localArgs)\n        })\n      })\n    })\n\n    Object.keys(all).forEach(function (e) {\n      instance.on('all:' + e, all[e])\n    })\n  }\n\n  var instance = cache[options.id]\n  if (!instance) {\n    instance = new Chart()\n  }\n  return instance.build()\n}\nglobals = module.exports.globals = require('./globals')\ngraphTypes = module.exports.graphTypes = require('./graph-types/')\nmodule.exports.plugins = require('./plugins/')\nmodule.exports.eval = require('./helpers/eval')\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","'use strict'\n\nmodule.exports = function (node) {\n  var condition = '!!(' + this.next(node.condition) + ')'\n  var trueExpr = this.next(node.trueExpr)\n  var falseExpr = this.next(node.falseExpr)\n  return '(' + condition + ' ? (' + trueExpr + ') : (' + falseExpr + ') )'\n}\n","'use strict'\n\nmodule.exports = function (node) {\n  var id = node.name\n  return '$$mathCodegen.getProperty(\"' + id + '\", scope, ns)'\n}\n","// Created by mauricio on 5/10/15.\n\n'use strict'\nvar Interval = require('../interval')\nvar rmath = require('../round-math')\nvar utils = require('./utils')\nvar constants = require('../constants')\nvar division = require('./division')\n\n/**\n * @mixin arithmetic\n */\nvar arithmetic = {}\n\n/**\n * Adds two intervals\n * @example\n * Interval.add(\n *   Interval(0, 1),\n *   Interval(1, 2),\n * )   // Interval(prev(1), next(3))\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\narithmetic.add = function (x, y) {\n  return Interval(\n    rmath.addLo(x.lo, y.lo),\n    rmath.addHi(x.hi, y.hi)\n  )\n}\n\n/**\n * Subtracts two intervals\n * @example\n * Interval.subtract(\n *   Interval(0, 1),\n *   Interval(1, 2),\n * )   // Interval(prev(-2), next(0))\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\narithmetic.subtract = function (x, y) {\n  return Interval(\n    rmath.subLo(x.lo, y.hi),\n    rmath.subHi(x.hi, y.lo)\n  )\n}\n\n/**\n * Alias for {@link arithmetic.subtract}\n * @function\n */\narithmetic.sub = arithmetic.subtract\n\n/**\n * Multiplies two intervals, an explanation of all the possible cases ca\n * be found on [Interval Arithmetic: from Principles to Implementation - T. Hickey, Q. Ju, M.H. van Emden](http://fab.cba.mit.edu/classes/S62.12/docs/Hickey_interval.pdf)\n * @example\n * Interval.multiply(\n *  Interval(1, 2),\n *  Interval(2, 3)\n * ) // Interval(prev(2), next(6))\n * @example\n * Interval.multiply(\n *  Interval(1, Infinity),\n *  Interval(4, 6)\n * ) // Interval(prev(4), Infinity)\n * @example\n * Interval.multiply(\n *  Interval(1, 2),\n *  Interval(-3, -2)\n * ) // Interval(prev(-6), next(-2))\n * @example\n * Interval.multiply(\n *  Interval(1, 2),\n *  Interval(-2, 3)\n * ) // Interval(prev(-4), next(6))\n * @example\n * Interval.multiply(\n *  Interval(-2, -1),\n *  Interval(-3, -2)\n * ) // Interval(prev(2), next(6))\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\narithmetic.multiply = function (x, y) {\n  if (utils.isEmpty(x) || utils.isEmpty(y)) {\n    return constants.EMPTY\n  }\n  var xl = x.lo\n  var xh = x.hi\n  var yl = y.lo\n  var yh = y.hi\n  var out = Interval()\n  if (xl < 0) {\n    if (xh > 0) {\n      if (yl < 0) {\n        if (yh > 0) {\n          // mixed * mixed\n          out.lo = Math.min(rmath.mulLo(xl, yh), rmath.mulLo(xh, yl))\n          out.hi = Math.max(rmath.mulHi(xl, yl), rmath.mulHi(xh, yh))\n        } else {\n          // mixed * negative\n          out.lo = rmath.mulLo(xh, yl)\n          out.hi = rmath.mulHi(xl, yl)\n        }\n      } else {\n        if (yh > 0) {\n          // mixed * positive\n          out.lo = rmath.mulLo(xl, yh)\n          out.hi = rmath.mulHi(xh, yh)\n        } else {\n          // mixed * zero\n          out.lo = 0\n          out.hi = 0\n        }\n      }\n    } else {\n      if (yl < 0) {\n        if (yh > 0) {\n          // negative * mixed\n          out.lo = rmath.mulLo(xl, yh)\n          out.hi = rmath.mulHi(xl, yl)\n        } else {\n          // negative * negative\n          out.lo = rmath.mulLo(xh, yh)\n          out.hi = rmath.mulHi(xl, yl)\n        }\n      } else {\n        if (yh > 0) {\n          // negative * positive\n          out.lo = rmath.mulLo(xl, yh)\n          out.hi = rmath.mulHi(xh, yl)\n        } else {\n          // negative * zero\n          out.lo = 0\n          out.hi = 0\n        }\n      }\n    }\n  } else {\n    if (xh > 0) {\n      if (yl < 0) {\n        if (yh > 0) {\n          // positive * mixed\n          out.lo = rmath.mulLo(xh, yl)\n          out.hi = rmath.mulHi(xh, yh)\n        } else {\n          // positive * negative\n          out.lo = rmath.mulLo(xh, yl)\n          out.hi = rmath.mulHi(xl, yh)\n        }\n      } else {\n        if (yh > 0) {\n          // positive * positive\n          out.lo = rmath.mulLo(xl, yl)\n          out.hi = rmath.mulHi(xh, yh)\n        } else {\n          // positive * zero\n          out.lo = 0\n          out.hi = 0\n        }\n      }\n    } else {\n      // zero * any other value\n      out.lo = 0\n      out.hi = 0\n    }\n  }\n  return out\n}\n\n/**\n * Alias for {@link arithmetic.multiply}\n * @function\n */\narithmetic.mul = arithmetic.multiply\n\n/**\n * Computes x/y, an explanation of all the possible cases ca\n * be found on [Interval Arithmetic: from Principles to Implementation - T. Hickey, Q. Ju, M.H. van Emden](http://fab.cba.mit.edu/classes/S62.12/docs/Hickey_interval.pdf)\n *\n * NOTE: an extreme case of division might results in multiple\n * intervals, unfortunately this library doesn't support multi-interval\n * arithmetic yet so a single interval will be returned instead with\n * the {@link misc.hull} of the resulting intervals (this is the way\n * Boost implements it too)\n *\n * @example\n * Interval.divide(\n *   Interval(1, 2),\n *   Interval(3, 4)\n * ) // Interval(prev(1/4), next(2/3))\n * @example\n * Interval.divide(\n *   Interval(-2, 1),\n *   Interval(-4, -3)\n * ) // Interval(prev(-1/3), next(2/3))\n * @example\n * Interval.divide(\n *   Interval(1, 2),\n *   Interval(-1, 1)\n * ) // Interval(-Infinity, Infinity)\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\narithmetic.divide = function (x, y) {\n  if (utils.isEmpty(x) || utils.isEmpty(y)) {\n    return constants.EMPTY\n  }\n  if (utils.zeroIn(y)) {\n    if (y.lo !== 0) {\n      if (y.hi !== 0) {\n        return division.zero(x)\n      } else {\n        return division.negative(x, y.lo)\n      }\n    } else {\n      if (y.hi !== 0) {\n        return division.positive(x, y.hi)\n      } else {\n        return constants.EMPTY\n      }\n    }\n  } else {\n    return division.nonZero(x, y)\n  }\n}\n\n/**\n * Alias for {@link arithmetic.divide}\n * @function\n */\narithmetic.div = arithmetic.divide\n\n/**\n * Computes +x (identity function)\n * @see misc.clone\n * @example\n * Interval.positive(\n *  Interval(1, 2)\n * )  // Interval(1, 2)\n * @param {Interval} x\n * @return {Interval}\n */\narithmetic.positive = function (x) {\n  return Interval(x.lo, x.hi)\n}\n\n/**\n * Computes -x\n * @example\n * Interval.negative(\n *   Interval(1, 2)\n * )  // Interval(-2, -1)\n * @example\n * Interval.negative(\n *   Interval(-Infinity, Infinity)\n * )  // Interval(-Infinity, Infinity)\n * @example\n * Interval.negative(\n *   Interval.WHOLE\n * )  // Interval.WHOLE\n * @param {Interval} x\n * @return {Interval}\n */\narithmetic.negative = function (x) {\n  return Interval(-x.hi, -x.lo)\n}\n\nmodule.exports = arithmetic\n","var keys = require('vkey')\nvar list = Object.keys(keys)\nvar down = {}\n\nreset()\n\nmodule.exports = pressed\n\nif (process.browser) {\n  window.addEventListener('keydown', keydown, false)\n  window.addEventListener('keyup', keyup, false)\n  window.addEventListener('blur', reset, false)\n}\n\nfunction pressed(key) {\n  return key\n    ? down[key]\n    : down\n}\n\nfunction reset() {\n  list.forEach(function(code) {\n    down[keys[code]] = false\n  })\n}\n\nfunction keyup(e) {\n  down[keys[e.keyCode]] = false\n}\n\nfunction keydown(e) {\n  down[keys[e.keyCode]] = true\n}\n","'use strict';\nmodule.exports = 9007199254740991;\n","'use strict'\nmodule.exports = function () {\n  var math = Object.create(Math)\n\n  math.factory = function (a) {\n    if (typeof a !== 'number') {\n      throw new TypeError('built-in math factory only accepts numbers')\n    }\n    return Number(a)\n  }\n\n  math.add = function (a, b) {\n    return a + b\n  }\n  math.sub = function (a, b) {\n    return a - b\n  }\n  math.mul = function (a, b) {\n    return a * b\n  }\n  math.div = function (a, b) {\n    return a / b\n  }\n  math.mod = function (a, b) {\n    return a % b\n  }\n  math.factorial = function (a) {\n    var res = 1\n    for (var i = 2; i <= a; i += 1) {\n      res *= i\n    }\n    return res\n  }\n\n  // taken from https://github.com/josdejong/mathjs/blob/master/lib/function/arithmetic/nthRoot.js\n  math.nthRoot = function (a, root) {\n    var inv = root < 0\n    if (inv) {\n      root = -root\n    }\n\n    if (root === 0) {\n      throw new Error('Root must be non-zero')\n    }\n    if (a < 0 && (Math.abs(root) % 2 !== 1)) {\n      throw new Error('Root must be odd when a is negative.')\n    }\n\n    // edge cases zero and infinity\n    if (a === 0) {\n      return 0\n    }\n    if (!isFinite(a)) {\n      return inv ? 0 : a\n    }\n\n    var x = Math.pow(Math.abs(a), 1 / root)\n    // If a < 0, we require that root is an odd integer,\n    // so (-1) ^ (1/root) = -1\n    x = a < 0 ? -x : x\n    return inv ? 1 / x : x\n  }\n\n  // logical\n  math.logicalOR = function (a, b) {\n    return a || b\n  }\n  math.logicalXOR = function (a, b) {\n    /* eslint-disable */\n    return a != b\n    /* eslint-enable*/\n  }\n  math.logicalAND = function (a, b) {\n    return a && b\n  }\n\n  // bitwise\n  math.bitwiseOR = function (a, b) {\n    /* eslint-disable */\n    return a | b\n    /* eslint-enable*/\n  }\n  math.bitwiseXOR = function (a, b) {\n    /* eslint-disable */\n    return a ^ b\n    /* eslint-enable*/\n  }\n  math.bitwiseAND = function (a, b) {\n    /* eslint-disable */\n    return a & b\n    /* eslint-enable*/\n  }\n\n  // relational\n  math.lessThan = function (a, b) {\n    return a < b\n  }\n  math.lessEqualThan = function (a, b) {\n    return a <= b\n  }\n  math.greaterThan = function (a, b) {\n    return a > b\n  }\n  math.greaterEqualThan = function (a, b) {\n    return a >= b\n  }\n  math.equal = function (a, b) {\n    /* eslint-disable */\n    return a == b\n  /* eslint-enable*/\n  }\n  math.strictlyEqual = function (a, b) {\n    return a === b\n  }\n  math.notEqual = function (a, b) {\n    /* eslint-disable */\n    return a != b\n  /* eslint-enable*/\n  }\n  math.strictlyNotEqual = function (a, b) {\n    return a !== b\n  }\n\n  // shift\n  math.shiftRight = function (a, b) {\n    return (a >> b)\n  }\n  math.shiftLeft = function (a, b) {\n    return (a << b)\n  }\n  math.unsignedRightShift = function (a, b) {\n    return (a >>> b)\n  }\n\n  // unary\n  math.negative = function (a) {\n    return -a\n  }\n  math.positive = function (a) {\n    return a\n  }\n\n  return math\n}\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\nvar d3 = window.d3\nvar evaluate = require('../evaluate')\nvar utils = require('../utils')\nvar clamp = require('clamp')\n\nmodule.exports = function (chart) {\n  var xScale = chart.meta.xScale\n  var yScale = chart.meta.yScale\n  function plotLine (selection) {\n    selection.each(function (d) {\n      var el = plotLine.el = d3.select(this)\n      var index = d.index\n      var evaluatedData = evaluate(chart, d)\n      console.debug(`evaluated data`, evaluatedData);\n      var color = utils.color(d, index)\n      var innerSelection = el.selectAll(':scope > path.line')\n        .data(evaluatedData)\n\n      var yRange = yScale.range()\n      var yMax = yRange[0]\n      var yMin = yRange[1]\n      // workaround, clamp assuming that the bounds are finite but huge\n      var diff = yMax - yMin\n      yMax += diff * 1e6\n      yMin -= diff * 1e6\n      if (d.skipBoundsCheck) {\n        yMax = Infinity\n        yMin = -Infinity\n      }\n\n      function y (d) {\n        return clamp(yScale(d[1]), yMin, yMax)\n      }\n\n      var line = d3.svg.line()\n        .interpolate('linear')\n        .x(function (d) { return xScale(d[0]) })\n        .y(y)\n      var area = d3.svg.area()\n        .x(function (d) { return xScale(d[0]) })\n        .y0(yScale(0))\n        .y1(y)\n\n      innerSelection.enter()\n        .append('path')\n        .attr('class', 'line line-' + index)\n        .attr('stroke-width', 1)\n        .attr('stroke-linecap', 'round')\n\n      // enter + update\n      innerSelection\n        .each(function () {\n          var path = d3.select(this)\n          var pathD\n          if (d.closed) {\n            path.attr('fill', color)\n            path.attr('fill-opacity', 0.3)\n            pathD = area\n          } else {\n            path.attr('fill', 'none')\n            pathD = line\n          }\n          path\n            .attr('stroke', color)\n            .attr('marker-end', function () {\n              // special marker for vectors\n              return d.fnType === 'vector'\n                ? 'url(#' + chart.markerId + ')'\n                : null\n            })\n            .attr('d', pathD)\n        })\n        .attr(d.attr)\n\n      innerSelection.exit().remove()\n    })\n  }\n\n  return plotLine\n}\n","/**\n * Created by mauricio on 5/12/15.\n */\n'use strict'\n\nvar CodeGenerator = require('math-codegen')\nvar Interval = require('interval-arithmetic')\nrequire('./adapter')(Interval)\n\nfunction processScope (scope) {\n  Object.keys(scope).forEach(function (k) {\n    var value = scope[k]\n    if (typeof value === 'number' || Array.isArray(value)) {\n      scope[k] = Interval.factory(value)\n    } else if (typeof value === 'object' && 'lo' in value && 'hi' in value) {\n      scope[k] = Interval.factory(value.lo, value.hi)\n    }\n  })\n}\n\nmodule.exports = function (expression) {\n  return new CodeGenerator()\n    .setDefs({\n      $$processScope: processScope\n    })\n    .parse(expression)\n    .compile(Interval)\n}\n\nmodule.exports.policies = require('./policies')(Interval)\nmodule.exports.Interval = Interval\n","'use strict'\nmodule.exports = function (ns) {\n  // mod\n  ns.mod = ns.fmod\n\n  // relational\n  ns.lessThan = ns.lt\n  ns.lessEqualThan = ns.leq\n  ns.greaterThan = ns.gt\n  ns.greaterEqualThan = ns.geq\n\n  ns.strictlyEqual = ns.equal\n  ns.strictlyNotEqual = ns.notEqual\n\n  ns.logicalAND = function (a, b) {\n    return a && b\n  }\n  ns.logicalXOR = function (a, b) {\n    return a ^ b\n  }\n  ns.logicalOR = function (a, b) {\n    return a || b\n  }\n}\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\nvar globals = require('./globals')\nvar evalTypeFn = {\n  interval: require('./samplers/interval'),\n  builtIn: require('./samplers/builtIn'),\n  mathjs: require('./samplers/mathjs')\n}\n\n/**\n * Computes the endpoints x_lo, x_hi of the range\n * from which the sampler will take samples\n *\n * @param {Chart} chart\n * @param {Object} d An item from `data`\n * @returns {Array}\n */\nfunction computeEndpoints (chart, d) {\n  var range = d.range || [-Infinity, Infinity]\n  var scale = chart.meta.xScale\n  var start = Math.max(scale.domain()[0], range[0])\n  var end = Math.min(scale.domain()[1], range[1])\n  return [start, end]\n}\n\n/**\n * Decides which sampler function to call based on the options\n * of `data`\n *\n * @param {Object} chart Chart instance which is orchestating this sampling operation\n * @param {Object} d a.k.a a single item from `data`\n * @returns {Array}\n */\nfunction evaluate (chart, d) {\n  var range = computeEndpoints(chart, d)\n  var data\n  var evalFn = evalTypeFn[d.sampler]\n  var nSamples = d.nSamples || Math.min(\n    globals.MAX_ITERATIONS,\n    globals.DEFAULT_ITERATIONS || (chart.meta.width * 2)\n  )\n  data = evalFn(chart, d, range, nSamples)\n\n  // NOTE: it's impossible to listen for the first eval event\n  // as the event is already fired when a listener is attached\n  chart.emit('eval', data, d.index, d.isHelper)\n  return data\n}\n\nmodule.exports = evaluate\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\nvar d3 = window.d3\n\nvar extend = require('extend')\nvar builtInEvaluator = require('./eval').builtIn\nvar datumDefaults = require('../datum-defaults')\nvar polyline = require('../graph-types/polyline')\n\nmodule.exports = function (chart) {\n  var secantDefaults = datumDefaults({\n    isHelper: true,\n    skipTip: true,\n    skipBoundsCheck: true,\n    nSamples: 2,\n    graphType: 'polyline'\n  })\n  var secant\n\n  function computeSlope (scope) {\n    scope.m = (scope.y1 - scope.y0) / (scope.x1 - scope.x0)\n  }\n\n  function updateLine (d, secant) {\n    if (!secant.hasOwnProperty('x0')) {\n      throw Error('secant must have the property `x0` defined')\n    }\n    secant.scope = secant.scope || {}\n\n    var x0 = secant.x0\n    var x1 = typeof secant.x1 === 'number' ? secant.x1 : Infinity\n    extend(secant.scope, {\n      x0: x0,\n      x1: x1,\n      y0: builtInEvaluator(d, 'fn', { x: x0 }),\n      y1: builtInEvaluator(d, 'fn', { x: x1 })\n    })\n    computeSlope(secant.scope)\n  }\n\n  function setFn (d, secant) {\n    updateLine(d, secant)\n    secant.fn = 'm * (x - x0) + y0'\n  }\n\n  function setMouseListener (d, secantObject) {\n    var self = this\n    if (secantObject.updateOnMouseMove && !secantObject.$$mouseListener) {\n      secantObject.$$mouseListener = function (x1) {\n        secantObject.x1 = x1\n        updateLine(d, secantObject)\n        secant(self)\n      }\n      chart.on('tip:update', secantObject.$$mouseListener)\n    }\n  }\n\n  function computeLines (d) {\n    var self = this\n    var data = []\n    d.secants = d.secants || []\n    for (var i = 0; i < d.secants.length; i += 1) {\n      var secant = d.secants[i] = extend({}, secantDefaults, d.secants[i])\n      // necessary to make the secant have the same color as d\n      secant.index = d.index\n      if (!secant.fn) {\n        setFn.call(self, d, secant)\n        setMouseListener.call(self, d, secant)\n      }\n      data.push(secant)\n    }\n    return data\n  }\n\n  secant = function (selection) {\n    selection.each(function (d) {\n      var el = d3.select(this)\n      var data = computeLines.call(selection, d)\n      var innerSelection = el.selectAll('g.secant')\n        .data(data)\n\n      innerSelection.enter()\n        .append('g')\n        .attr('class', 'secant')\n\n      // enter + update\n      innerSelection\n        .call(polyline(chart))\n\n      // change the opacity of the secants\n      innerSelection.selectAll('path')\n        .attr('opacity', 0.5)\n\n      // exit\n      innerSelection.exit().remove()\n    })\n  }\n\n  return secant\n}\n","exports.nextTick = function nextTick(fn) {\n    var args = Array.prototype.slice.call(arguments);\n    args.shift();\n    setTimeout(function () {\n        fn.apply(null, args);\n    }, 0);\n};\n\nexports.platform = exports.arch = \nexports.execPath = exports.title = 'browser';\nexports.pid = 1;\nexports.browser = true;\nexports.env = {};\nexports.argv = [];\n\nexports.binding = function (name) {\n\tthrow new Error('No such module. (Possibly not yet loaded)')\n};\n\n(function () {\n    var cwd = '/';\n    var path;\n    exports.cwd = function () { return cwd };\n    exports.chdir = function (dir) {\n        if (!path) path = require('path');\n        cwd = path.resolve(dir, cwd);\n    };\n})();\n\nexports.exit = exports.kill = \nexports.umask = exports.dlopen = \nexports.uptime = exports.memoryUsage = \nexports.uvCounters = function() {};\nexports.features = {};\n","var Node = require('./Node')\n\nfunction UnaryNode (op, argument) {\n  this.op = op\n  this.argument = argument\n}\n\nUnaryNode.prototype = Object.create(Node.prototype)\n\nUnaryNode.prototype.type = 'UnaryNode'\n\nmodule.exports = UnaryNode\n","'use strict'\n\nvar CodeGenerator = require('math-codegen')\nvar math = require('./adapter')()\n\nfunction processScope (scope) {\n  Object.keys(scope).forEach(function (k) {\n    var value = scope[k]\n    scope[k] = math.factory(value)\n  })\n}\n\nmodule.exports = function (expression) {\n  return new CodeGenerator()\n    .setDefs({\n      $$processScope: processScope\n    })\n    .parse(expression)\n    .compile(math)\n}\n\nmodule.exports.math = math\n","var d3 = window.d3\nvar extend = require('extend')\nvar pressed = require('key-pressed')\nvar keydown = require('keydown')\nvar integrateSimpson = require('integrate-adaptive-simpson')\nmodule.exports = function (options) {\n  options = extend({\n    key: '<shift>',\n    // true to make the brush mask visible/hidden on keydown\n    // by default the mask will be visible only when the `key`\n    // combination is pressed\n    toggle: false\n  }, options)\n\n  var brush = d3.svg.brush()\n  var kd = keydown(options.key)\n  var visible = false\n  var cachedInstance\n\n  // the integrator module requires a function with a single parameter x\n  function wrapper (datum) {\n    return function (x) {\n      var functionPlot = window.functionPlot\n      return functionPlot.eval.builtIn(datum, 'fn', { x: x })\n    }\n  }\n\n  function setBrushState (visible) {\n    var brushEl = cachedInstance.canvas.selectAll('.definite-integral')\n    brushEl.style('display', visible ? null : 'none')\n  }\n\n  function inner (instance) {\n    cachedInstance = instance\n    // update the brush scale with the instance scale\n    var oldDisableZoom\n    brush\n      .x(instance.meta.xScale)\n      .on('brushstart', function () {\n        if (!d3.event.sourceEvent) return\n        oldDisableZoom = !!instance.options.disableZoom\n        instance.options.disableZoom = true\n        // replot the samples with the option disableZoom set to true\n        instance.emit('draw')\n      })\n      .on('brushend', function () {\n        if (!d3.event.sourceEvent) return\n        instance.options.disableZoom = oldDisableZoom\n\n        if (!brush.empty()) {\n          var a = brush.extent()[0]\n          var b = brush.extent()[1]\n          // iterate the data finding the value of the definite integral\n          // with bounds `a` and `b`\n          instance.options.data.forEach(function (datum, i) {\n            var value = integrateSimpson(wrapper(datum), a, b, options.tol, options.maxdepth)\n            instance.emit('definite-integral', datum, i, value, a, b)\n          })\n        }\n        // replot the samples with the option disableZoom set to whatever it was before\n        instance.draw()\n      })\n    var brushEl = instance.canvas.append('g').attr('class', 'brush definite-integral')\n    brushEl\n      .call(brush)\n      .call(brush.event)\n\n    instance.canvas.selectAll('.brush .extent')\n      .attr('stroke', '#fff')\n      .attr('fill-opacity', 0.125)\n      .attr('shape-rendering', 'crispEdges')\n\n    brushEl.selectAll('rect')\n      .attr('height', instance.meta.height)\n\n    instance.canvas\n      .on('mousemove.definiteIntegral', function () {\n        // options.toggle sets the mask visibility when all the required\n        // are pressed once and it's not disabled on keyup\n        if (!options.toggle) {\n          inner.visible(pressed(options.key))\n        }\n      })\n    kd.on('pressed', function () {\n      inner.visible(options.toggle ? !inner.visible() : true)\n    })\n    inner.visible(false)\n  }\n\n  inner.visible = function (_) {\n    if (!arguments.length) {\n      return visible\n    }\n    visible = _\n    setBrushState(_)\n    return inner\n  }\n\n  return inner\n}\n","var Emitter = require('events').EventEmitter\nvar vkey = require('vkey')\n\nmodule.exports = function(keys, el) {\n  if (typeof keys === 'string') keys = [keys]\n  if (!el) el = window\n\n  var emitter = new Emitter()\n  emitter.pressed = {}\n  \n  el.addEventListener('blur', clearPressed)\n  el.addEventListener('focus', clearPressed)\n  \n  el.addEventListener('keydown', function(ev) {\n    var key = vkey[ev.keyCode]\n    emitter.pressed[key] = true\n    var allPressed = true\n    keys.forEach(function(k) {\n      if (!emitter.pressed[k]) allPressed = false\n    })\n    if (allPressed) {\n      emitter.emit('pressed', emitter.pressed)\n\n      // this seems to be necessary as keyup doesn't always fire during combos :/\n      clearPressed()\n    }\n  })\n\n  el.addEventListener('keyup', function(ev) {\n    delete emitter.pressed[vkey[ev.keyCode]]\n  })\n  \n  function clearPressed() {\n    emitter.pressed = {}\n  }\n  \n  return emitter\n}\n","module.exports = clamp\n\nfunction clamp(value, min, max) {\n  return min < max\n    ? (value < min ? min : value > max ? max : value)\n    : (value < max ? max : value > min ? min : value)\n}\n","'use strict'\nvar samplers = {\n  interval: require('interval-arithmetic-eval'),\n  builtIn: require('built-in-math-eval')\n}\nvar extend = require('extend')\n\nwindow.math && (samplers.builtIn = window.math.compile)\n\nfunction generateEvaluator (samplerName) {\n  function doCompile (expression) {\n    // compiles does the following\n    //\n    // when expression === string\n    //\n    //     gen = new require('math-codegen')\n    //     return gen.parse(expression).compile(Interval|BultInMath)\n    //\n    //     which is an object with the form\n    //\n    //     {\n    //       eval: function (scope) {\n    //         // math-codegen magic\n    //       }\n    //     }\n    //\n    // when expression === function\n    //\n    //    {\n    //      eval: expression\n    //    }\n    //\n    // othewise throw an error\n    if (typeof expression === 'string') {\n      var compile = samplers[samplerName]\n      return compile(expression)\n    } else if (typeof expression === 'function') {\n      return { eval: expression }\n    } else {\n      throw Error('expression must be a string or a function')\n    }\n  }\n\n  function compileIfPossible (meta, property) {\n    // compile the function using interval arithmetic, cache the result\n    // so that multiple calls with the same argument don't trigger the\n    // kinda expensive compilation process\n    var expression = meta[property]\n    var hiddenProperty = samplerName + '_Expression_' + property\n    var hiddenCompiled = samplerName + '_Compiled_' + property\n    if (expression !== meta[hiddenProperty]) {\n      meta[hiddenProperty] = expression\n      meta[hiddenCompiled] = doCompile(expression)\n    }\n  }\n\n  function getCompiledExpression (meta, property) {\n    return meta[samplerName + '_Compiled_' + property]\n  }\n\n  /**\n   * Evaluates meta[property] with `variables`\n   *\n   * - Compiles meta[property] if it wasn't compiled already (also with cache\n   *   check)\n   * - Evaluates the resulting function with the merge of meta.scope and\n   *   `variables`\n   *\n   * @param {Object} meta\n   * @param {String} property\n   * @param {Object} variables\n   * @returns {Number|Array} The builtIn evaluator returns a number, the\n   * interval evaluator an array\n   */\n  function evaluate (meta, property, variables) {\n    // e.g.\n    //\n    //  meta: {\n    //    fn: 'x + 3',\n    //    scope: { y: 3 }\n    //  }\n    //  property: 'fn'\n    //  variables:  { x: 3 }\n    //\n    compileIfPossible(meta, property)\n\n    return getCompiledExpression(meta, property).eval(\n      extend({}, meta.scope || {}, variables)\n    )\n  }\n\n  return evaluate\n}\n\nmodule.exports.builtIn = generateEvaluator('builtIn')\nmodule.exports.interval = generateEvaluator('interval')\n","var Node = require('./Node')\n\nfunction AssignmentNode (name, expr) {\n  this.name = name\n  this.expr = expr\n}\n\nAssignmentNode.prototype = Object.create(Node.prototype)\n\nAssignmentNode.prototype.type = 'AssignmentNode'\n\nmodule.exports = AssignmentNode\n","'use strict'\n\nvar UnaryOperators = require('../misc/UnaryOperators')\n\nmodule.exports = function (node) {\n  if (this.options.raw) {\n    return node.op + this.next(node.argument)\n  }\n\n  if (!(node.op in UnaryOperators)) {\n    throw new SyntaxError(node.op + ' not implemented')\n  }\n\n  var namedOperator = UnaryOperators[node.op]\n  /* eslint-disable new-cap */\n  return this.FunctionNode({\n    name: namedOperator,\n    args: [node.argument]\n  })\n  /* eslint-enable new-cap */\n}\n","var utils = require('../utils')\nvar builtIn = require('./builtIn')\nvar clamp = require('clamp')\nvar split = builtIn.split\n\nmodule.exports = function mathjs (chart, meta, range, nSamples) {\n  var allX = utils.space(chart, range, nSamples)\n  var yDomain = chart.meta.yScale.domain()\n  var yDomainMargin = (yDomain[1] - yDomain[0])\n  var yMin = yDomain[0] - yDomainMargin * 1e5\n  var yMax = yDomain[1] + yDomainMargin * 1e5\n  var data = []\n  var i\n\n  var evaluate = meta.scope[meta.fn]\n  for (i = 0; i < allX.length; i += 1) {\n    var x = allX[i]\n    var y = evaluate(x)\n    if (utils.isValidNumber(x) && utils.isValidNumber(y)) {\n      data.push([x, clamp(y, yMin, yMax)])\n    }\n  }\n  data = split(chart, meta, data)\n  return data\n}\n","// issue: https://github.com/maurizzzio/function-plot/issues/6\n// solution: the line type is selecting the derivative line when the content is re-drawn, then when the\n// derivative was redrawn an already selected line (by the line type) was used thus making a single line\n// disappear from the graph, to avoid the selection of the derivative line the selector needs to\n// work only for immediate children which is done with `:scope >`\n// src: http://stackoverflow.com/questions/6481612/queryselector-search-immediate-children\n/*eslint-disable */\n;(function (doc, proto) {\n  try { // check if browser supports :scope natively\n    doc.querySelector(':scope body')\n  } catch (err) { // polyfill native methods if it doesn't\n    ['querySelector', 'querySelectorAll'].forEach(function (method) {\n      var native = proto[method]\n      proto[method] = function (selectors) {\n        if (/(^|,)\\s*:scope/.test(selectors)) { // only if selectors contains :scope\n          var id = this.id // remember current element id\n          this.id = 'ID_' + Date.now() // assign new unique id\n          selectors = selectors.replace(/((^|,)\\s*):scope/g, '$1#' + this.id); // replace :scope with #ID\n          var result = doc[method](selectors)\n          this.id = id // restore previous id\n          return result\n        } else {\n          return native.call(this, selectors) // use native code for other selectors\n        }\n      }\n    })\n  }\n})(window.document, Element.prototype)\n/* eslint-enable */\n","'use strict'\n\nmodule.exports = function (node) {\n  return 'scope[\"' + node.name + '\"] = ' + this.next(node.expr)\n}\n","var isObject = require('is-object')\n\nmodule.exports = function (d) {\n  if (!isObject(d)) {\n    throw Error('datum is not an object')\n  }\n\n  // default graphType uses boxes i.e. 2d intervals\n  if (!(d.hasOwnProperty('graphType'))) {\n    d.graphType = 'interval'\n  }\n\n  // if the graphType is not `interval` then the sampler is `builtIn`\n  // because the interval sampler returns a box instead of a point\n  if (!(d.hasOwnProperty('sampler'))) {\n    d.sampler = d.graphType !== 'interval'\n      ? 'builtIn'\n      : 'interval'\n    switch (d.graphType) {\n      case 'mathjs':\n        d.sampler = 'mathjs'\n        break\n      case 'interval':\n        d.sampler = 'interval'\n        break\n      case 'builtIn':\n      default:\n        d.sampler = 'builtIn'\n        break\n    }\n  }\n\n  // TODO: handle default fnType\n  // default `fnType` is linear\n  if (!(d.hasOwnProperty('fnType'))) {\n    d.fnType = 'linear'\n  }\n\n  return d\n}\n","module.exports = {\n  zoomBox: require('./zoom-box'),\n  definiteIntegral: require('./definite-integral')\n}\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\nvar d3 = window.d3\nvar evaluate = require('../evaluate')\nvar utils = require('../utils')\n\nmodule.exports = function (chart) {\n  var xScale = chart.meta.xScale\n  var yScale = chart.meta.yScale\n\n  function scatter (selection) {\n    selection.each(function (d) {\n      var i, j\n      var index = d.index\n      var color = utils.color(d, index)\n      var evaluatedData = evaluate(chart, d)\n\n      // scatter doesn't need groups, therefore each group is\n      // flattened into a single array\n      var joined = []\n      for (i = 0; i < evaluatedData.length; i += 1) {\n        for (j = 0; j < evaluatedData[i].length; j += 1) {\n          joined.push(evaluatedData[i][j])\n        }\n      }\n\n      var innerSelection = d3.select(this).selectAll(':scope > circle')\n        .data(joined)\n\n      innerSelection.enter()\n        .append('circle')\n\n      innerSelection\n        .attr('fill', d3.hsl(color.toString()).brighter(1.5))\n        .attr('stroke', color)\n        .attr('opacity', 0.7)\n        .attr('r', 1)\n        .attr('cx', function (d) { return xScale(d[0]) })\n        .attr('cy', function (d) { return yScale(d[1]) })\n        .attr(d.attr)\n\n      innerSelection.exit().remove()\n    })\n  }\n\n  return scatter\n}\n","'use strict'\nvar SymbolNode = require('mr-parser').nodeTypes.SymbolNode\n\nvar functionProxy = function (node) {\n  return '$$mathCodegen.functionProxy(' + this.next(new SymbolNode(node.name)) + ', \"' + node.name + '\")'\n}\n\nmodule.exports = function (node) {\n  var self = this\n  // wrap in a helper function to detect the type of symbol it must be a function\n  // NOTE: if successful the wrapper returns the function itself\n  // NOTE: node.name should be a symbol so that it's correctly represented as a string in SymbolNode\n  var method = functionProxy.call(this, node)\n  var args = []\n  this.rawify(this.options.rawCallExpressionElements, function () {\n    args = node.args.map(function (arg) {\n      return self.next(arg)\n    })\n  })\n  return method + '(' + args.join(', ') + ')'\n}\n\nmodule.exports.functionProxy = functionProxy\n","/**\n * Created by mauricio on 5/14/15.\n */\n'use strict'\nvar intervalArithmeticEval = require('interval-arithmetic-eval')\nvar Interval = intervalArithmeticEval.Interval\n\nvar evaluate = require('../helpers/eval').interval\nvar utils = require('../utils')\n\n// disable the use of typed arrays in interval-arithmetic to improve the performance\nintervalArithmeticEval.policies.disableRounding()\n\nfunction interval1d (chart, meta, range, nSamples) {\n  var xCoords = utils.space(chart, range, nSamples)\n  var xScale = chart.meta.xScale\n  var yScale = chart.meta.yScale\n  var yMin = yScale.domain()[0]\n  var yMax = yScale.domain()[1]\n  var samples = []\n  var i\n  for (i = 0; i < xCoords.length - 1; i += 1) {\n    var x = { lo: xCoords[i], hi: xCoords[i + 1] }\n    var y = evaluate(meta, 'fn', { x: x })\n    if (!Interval.isEmpty(y) && !Interval.isWhole(y)) {\n      samples.push([x, y])\n    }\n    if (Interval.isWhole(y)) {\n      // means that the next and prev intervals need to be fixed\n      samples.push(null)\n    }\n  }\n\n  // asymptote determination\n  for (i = 1; i < samples.length - 1; i += 1) {\n    if (!samples[i]) {\n      var prev = samples[i - 1]\n      var next = samples[i + 1]\n      if (prev && next && !Interval.intervalsOverlap(prev[1], next[1])) {\n        // case:\n        //\n        //   |\n        //\n        //     |\n        //\n        //   p n\n        if (prev[1].lo > next[1].hi) {\n          prev[1].hi = Math.max(yMax, prev[1].hi)\n          next[1].lo = Math.min(yMin, next[1].lo)\n        }\n        // case:\n        //\n        //     |\n        //\n        //   |\n        //\n        //   p n\n        if (prev[1].hi < next[1].lo) {\n          prev[1].lo = Math.min(yMin, prev[1].lo)\n          next[1].hi = Math.max(yMax, next[1].hi)\n        }\n      }\n    }\n  }\n\n  samples.scaledDx = xScale(xCoords[1]) - xScale(xCoords[0])\n  return [samples]\n}\n\nvar rectEps\nfunction smallRect (x, y) {\n  return Interval.width(x) < rectEps\n}\n\nfunction quadTree (x, y, meta) {\n  var sample = evaluate(meta, 'fn', {\n    x: x,\n    y: y\n  })\n  var fulfills = Interval.zeroIn(sample)\n  if (!fulfills) { return this }\n  if (smallRect(x, y)) {\n    this.push([x, y])\n    return this\n  }\n  var midX = x.lo + (x.hi - x.lo) / 2\n  var midY = y.lo + (y.hi - y.lo) / 2\n  var east = { lo: midX, hi: x.hi }\n  var west = { lo: x.lo, hi: midX }\n  var north = { lo: midY, hi: y.hi }\n  var south = { lo: y.lo, hi: midY }\n\n  quadTree.call(this, east, north, meta)\n  quadTree.call(this, east, south, meta)\n  quadTree.call(this, west, north, meta)\n  quadTree.call(this, west, south, meta)\n}\n\nfunction interval2d (chart, meta) {\n  var xScale = chart.meta.xScale\n  var xDomain = chart.meta.xScale.domain()\n  var yDomain = chart.meta.yScale.domain()\n  var x = { lo: xDomain[0], hi: xDomain[1] }\n  var y = { lo: yDomain[0], hi: yDomain[1] }\n  var samples = []\n  // 1 px\n  rectEps = xScale.invert(1) - xScale.invert(0)\n  quadTree.call(samples, x, y, meta)\n  samples.scaledDx = 1\n  return [samples]\n}\n\nvar sampler = function (chart, d, range, nSamples) {\n  var fnTypes = {\n    implicit: interval2d,\n    linear: interval1d\n  }\n  if (!(fnTypes.hasOwnProperty(d.fnType))) {\n    throw Error(d.fnType + ' is not supported in the `interval` sampler')\n  }\n  return fnTypes[d.fnType].apply(null, arguments)\n}\n\nmodule.exports = sampler\n","/*\n * interval-arithmetic\n *\n * Copyright (c) 2015 Mauricio Poppe\n * Licensed under the MIT license.\n */\n\n'use strict'\nvar extend = require('xtend/mutable')\n\nrequire('./lib/polyfill')\nmodule.exports = require('./lib/interval')\n\n/**\n * Use {@link Interval.round} instead\n * @memberof Interval\n * @name Interval.rmath\n * @deprecated as of 0.6.4\n */\nmodule.exports.rmath = require('./lib/round-math')\n\n/**\n * Link to {@link module:interval-arithmetic/round-math}\n *\n * @memberof Interval\n * @name Interval.round\n */\nmodule.exports.round = require('./lib/round-math')\n\nextend(\n  module.exports,\n  require('./lib/constants'),\n  require('./lib/operations/relational'),\n  require('./lib/operations/arithmetic'),\n  require('./lib/operations/algebra'),\n  require('./lib/operations/trigonometric'),\n  require('./lib/operations/misc'),\n  require('./lib/operations/utils')\n)\n","module.exports = {\n  EOF: 0,\n  DELIMITER: 1,\n  NUMBER: 2,\n  STRING: 3,\n  SYMBOL: 4\n}\n","var Node = require('./Node')\n\nfunction FunctionNode (name, args) {\n  this.name = name\n  this.args = args\n}\n\nFunctionNode.prototype = Object.create(Node.prototype)\n\nFunctionNode.prototype.type = 'FunctionNode'\n\nmodule.exports = FunctionNode\n","var d3 = window.d3\nvar extend = require('extend')\nvar pressed = require('key-pressed')\nvar keydown = require('keydown')\nmodule.exports = function (options) {\n  options = extend({\n    key: '<shift>',\n    // true to make the brush mask visible/hidden on keydown\n    // by default the mask will be visible only when the `key`\n    // combination is pressed\n    toggle: false\n  }, options)\n\n  var brush = d3.svg.brush()\n  var kd = keydown(options.key)\n  var cachedInstance\n  var visible = false\n\n  function setBrushState (visible) {\n    var brushEl = cachedInstance.canvas.selectAll('.zoom-box')\n    brushEl.style('display', visible ? null : 'none')\n  }\n\n  function inner (instance) {\n    cachedInstance = instance\n    // update the brush scale with the instance scale\n    var oldDisableZoom\n    brush\n      .x(instance.meta.xScale)\n      .y(instance.meta.yScale)\n      .on('brushstart', function () {\n        if (!d3.event.sourceEvent) return\n        oldDisableZoom = !!instance.options.disableZoom\n        instance.options.disableZoom = true\n        // redrawing the canvas with the option disableZoom set to true\n        instance.draw()\n      })\n      .on('brushend', function () {\n        if (!d3.event.sourceEvent) return\n        instance.options.disableZoom = oldDisableZoom\n\n        if (!brush.empty()) {\n          var lo = brush.extent()[0]\n          var hi = brush.extent()[1]\n          var x = [lo[0], hi[0]]\n          var y = [lo[1], hi[1]]\n          instance.programmaticZoom(x, y)\n        }\n        d3.select(this)\n          .transition()\n          .duration(1)\n          .call(brush.clear())\n          .call(brush.event)\n      })\n    var brushEl = instance.canvas.append('g').attr('class', 'brush zoom-box')\n    brushEl\n      .call(brush)\n      .call(brush.event)\n\n    instance.canvas.selectAll('.brush .extent')\n      .attr('stroke', '#fff')\n      .attr('fill-opacity', 0.125)\n      .attr('shape-rendering', 'crispEdges')\n\n    instance.canvas\n      .on('mousemove.zoombox', function () {\n        // options.toggle sets the mask visibility when all the required\n        // are pressed once and it's not disabled on keyup\n        if (!options.toggle) {\n          inner.visible(pressed(options.key))\n        }\n      })\n    kd.on('pressed', function () {\n      inner.visible(options.toggle ? !inner.visible() : true)\n    })\n    inner.visible(false)\n  }\n\n  inner.visible = function (_) {\n    if (!arguments.length) {\n      return visible\n    }\n    visible = _\n    setBrushState(_)\n    return inner\n  }\n\n  return inner\n}\n","/**\n * Created by mauricio on 5/11/15.\n */\n'use strict'\nvar constants = require('../constants')\nvar Interval = require('../interval')\nvar rmath = require('../round-math')\nvar utils = require('./utils')\nvar arithmetic = require('./arithmetic')\n\n/**\n * @mixin misc\n */\nvar misc = {}\n\n/**\n * Computes e^x where e is the mathematical constant equal to the base of the\n * natural logarithm\n * @example\n * Interval.exp(\n *   Interval(-1, 1)\n * )  // Interval(0.3679, 2.7183)\n * @param {Interval} x\n * @return {Interval}\n */\nmisc.exp = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  return Interval(\n    rmath.expLo(x.lo),\n    rmath.expHi(x.hi)\n  )\n}\n\n/**\n * Computes the natural logarithm of x\n * @example\n * Interval.log(\n *   Interval(1, Math.exp(3))\n * )  // Interval(0, 3)\n * @param {Interval} x\n * @return {Interval}\n */\nmisc.log = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  var l = x.lo <= 0 ? Number.NEGATIVE_INFINITY : rmath.logLo(x.lo)\n  return Interval(l, rmath.logHi(x.hi))\n}\n\n/**\n * Alias for {@link misc.log}\n * @function\n */\nmisc.ln = misc.log\n\nmisc.LOG_EXP_10 = misc.log(Interval(10, 10))\n\n/**\n * Computes the logarithm base 10 of x\n * @example\n * Interval.log10(\n *   Interva(1, 1000)\n * )  // Interval(0, 3)\n * @param {Interval} x\n * @return {Interval}\n */\nmisc.log10 = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  return arithmetic.div(misc.log(x), misc.LOG_EXP_10)\n}\n\nmisc.LOG_EXP_2 = misc.log(Interval(2, 2))\n\n/**\n * Computes the logarithm base 2 of x\n * @example\n * Interval.log10(\n *   Interva(1, 8)\n * )  // Interval(0, 3)\n * @param {Interval} x\n * @return {Interval}\n */\nmisc.log2 = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  return arithmetic.div(misc.log(x), misc.LOG_EXP_2)\n}\n\n/**\n * Computes an interval that has all the values of x and y, note that it may be\n * possible that values that don't belong to either x or y are included in the\n * interval that represents the hull\n *\n * @example\n * Interval.hull(\n *   Interval(-1, 1),\n *   Interval(5, 7)\n * )  // Interval(-1, 7)\n * @example\n * Interval.hull(\n *   Interval(-1, 1),\n *   Interval.EMPTY\n * )  // Interval(-1, 1)\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\nmisc.hull = function (x, y) {\n  var badX = utils.isEmpty(x)\n  var badY = utils.isEmpty(y)\n  if (badX && badY) {\n    return constants.EMPTY\n  } else if (badX) {\n    return y.clone()\n  } else if (badY) {\n    return x.clone()\n  } else {\n    return Interval(\n      Math.min(x.lo, y.lo),\n      Math.max(x.hi, y.hi)\n    )\n  }\n}\n\n/**\n * Computes an interval that has all the values that belong to both x and y\n *\n * @example\n * Interval.intersection(\n *   Interval(-1, 1),\n *   Interval(0, 7)\n * )  // Interval(0, 1)\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\nmisc.intersection = function (x, y) {\n  if (utils.isEmpty(x) || utils.isEmpty(y)) { return constants.EMPTY }\n  var lo = Math.max(x.lo, y.lo)\n  var hi = Math.min(x.hi, y.hi)\n  if (lo <= hi) {\n    return Interval(lo, hi)\n  }\n  return constants.EMPTY\n}\n\n/**\n * Computes an interval that has all the values that belong to both x and y,\n * the difference with {@link misc.hull} is that x and y must overlap to\n * compute the union\n * @example\n * Interval.union(\n *   Interval(-1, 1),\n *   Interval(5, 7)\n * )  // throws error\n * @example\n * Interval.union(\n *   Interval(-1, 1),\n *   Interval(1, 7)\n * )  // Interval(-1, 7)\n * @throws {Error} When x and y don't overlap\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\nmisc.union = function (x, y) {\n  if (!utils.intervalsOverlap(x, y)) {\n    throw Error('Interval#union: intervals do not overlap')\n  }\n  return Interval(\n    Math.min(x.lo, y.lo),\n    Math.max(x.hi, y.hi)\n  )\n}\n\n/**\n * Computes the difference between `x` and `y`, i.e. an interval with all the\n * values of `x` that are not in `y`\n * @example\n * Interval.difference(\n *   Interval(3, 5),\n *   Interval(4, 6)\n * )  // Interval(3, prev(4))\n * @example\n * Interval.difference(\n *   Interval(0, 3),\n *   Interval(0, 1)\n * )  // Interval(next(1), 3)\n * @example\n * Interval.difference(\n *   Interval(0, 1),\n *   Interval.WHOLE\n * )  // Interval.EMPTY\n * @example\n * Interval.difference(\n *   Interval(-Infinity, 0),\n *   Interval.WHOLE\n * )  // Interval.EMPTY\n * @throws {Error} When the difference creates multiple intervals\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\nmisc.difference = function (x, y) {\n  if (utils.isEmpty(x) || utils.isWhole(y)) {\n    return constants.EMPTY\n  }\n  if (utils.intervalsOverlap(x, y)) {\n    if (x.lo < y.lo && y.hi < x.hi) {\n      // difference creates multiple subsets\n      throw Error('Interval.difference: difference creates multiple intervals')\n    }\n\n    // handle corner cases first\n    if ((y.lo <= x.lo && y.hi === Infinity) ||\n      (y.hi >= x.hi && y.lo === -Infinity)) {\n      return constants.EMPTY\n    }\n\n    // NOTE: empty interval is handled automatically\n    // e.g.\n    //\n    //    n = difference([0,1], [0,1]) // n = Interval(next(1), 1) = EMPTY\n    //    isEmpty(n) === true\n    //\n    if (y.lo <= x.lo) {\n      return Interval().halfOpenLeft(y.hi, x.hi)\n    }\n\n    // y.hi >= x.hi\n    return Interval().halfOpenRight(x.lo, y.lo)\n  }\n  return Interval.clone(x)\n}\n\n/**\n * Computes the distance between the endpoints of the interval i.e.\n * `x.hi - x.lo`\n * @example\n * Interval.width(\n *   Interval(1, 2)\n * )  // 1\n * @example\n * Interval.width(\n *   Interval(-1, 1)\n * )  // 2\n * @example\n * Interval.width(\n *   Interval(1, 1)\n * )  // next(0) ~5e-324\n * @example\n * Interval.width(\n *   Interval.EMPTY\n * )  // 0\n * @param {Interval} x\n * @returns {number}\n */\nmisc.width = function (x) {\n  if (utils.isEmpty(x)) { return 0 }\n  return rmath.subHi(x.hi, x.lo)\n}\n\n/**\n * Alias for {@link misc.width}\n * @function\n */\nmisc.wid = misc.width\n\n/**\n * Computes the absolute value of `x`\n * @example\n * Interval.abs(\n *   Interval(2, 3)\n * )  // Interval(2, 3)\n * @example\n * Interval.abs(\n *   Interval(-2, 3)\n * )  // Interval(2, 3)\n * @example\n * Interval.abs(\n *   Interval(-3, -2)\n * )  // Interval(2, 3)\n * @example\n * Interval.abs(\n *   Interval(-3, 2)\n * )  // Interval(0, 3)\n * @param {Interval} x\n * @return {Interval}\n */\nmisc.abs = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  if (x.lo >= 0) { return Interval.clone(x) }\n  if (x.hi <= 0) { return arithmetic.negative(x) }\n  return Interval(0, Math.max(-x.lo, x.hi))\n}\n\n/**\n * Computes an interval with the maximum values for each endpoint based on `x`\n * and `y`\n * @example\n * Interval.max(\n *   Interval(0, 3),\n *   Interval(1, 2)\n * )  // Interval(1, 3)\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\nmisc.max = function (x, y) {\n  var badX = utils.isEmpty(x)\n  var badY = utils.isEmpty(y)\n  if (badX && badY) {\n    return constants.EMPTY\n  } else if (badX) {\n    return y.clone()\n  } else if (badY) {\n    return x.clone()\n  } else {\n    return Interval(\n      Math.max(x.lo, y.lo),\n      Math.max(x.hi, y.hi)\n    )\n  }\n}\n\n/**\n * Computes an interval with the minimum values for each endpoint based on `x`\n * and `y`\n * @example\n * Interval.min(\n *   Interval(0, 3),\n *   Interval(1, 2)\n * )  // Interval(0, 2)\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\nmisc.min = function (x, y) {\n  var badX = utils.isEmpty(x)\n  var badY = utils.isEmpty(y)\n  if (badX && badY) {\n    return constants.EMPTY\n  } else if (badX) {\n    return y.clone()\n  } else if (badY) {\n    return x.clone()\n  } else {\n    return Interval(\n      Math.min(x.lo, y.lo),\n      Math.min(x.hi, y.hi)\n    )\n  }\n}\n\n/**\n * Creates an interval equal to `x`, equivalent to `Interval().set(x.lo, x.hi)`\n * @example\n * Interval.clone(\n *   Interval(1, 2)\n * )  // Interval(1, 2)\n * @example\n * Interval.clone(\n *   Interval.EMPTY\n * )  // Interval.EMPTY\n * @param {Interval} x\n * @return {Interval}\n */\nmisc.clone = function (x) {\n  // no bound checking\n  return Interval().set(x.lo, x.hi)\n}\n\nmodule.exports = misc\n","/**\n * Created by mauricio on 5/10/15.\n */\n'use strict'\nvar constants = require('../constants')\nvar Interval = require('../interval')\nvar rmath = require('../round-math')\nvar utils = require('./utils')\nvar misc = require('./misc')\nvar algebra = require('./algebra')\nvar arithmetic = require('./arithmetic')\n\n/**\n * @mixin trigonometric\n */\nvar trigonometric = {}\n\n// checks if an interval is\n//\n// - [-Infinity, -Infinity]\n// - [Infinity, Infinity]\n//\nfunction onlyInfinity (x) {\n  return !isFinite(x.lo) && x.lo === x.hi\n}\n\n// moves interval 2PI * k to the right until both\n// bounds are positive\nfunction handleNegative (interval) {\n  if (interval.lo < 0) {\n    if (interval.lo === -Infinity) {\n      interval.lo = 0\n      interval.hi = Infinity\n    } else {\n      var n = Math.ceil(-interval.lo / constants.PI_TWICE_LOW)\n      interval.lo += constants.PI_TWICE_LOW * n\n      interval.hi += constants.PI_TWICE_LOW * n\n    }\n  }\n  return interval\n}\n\n/**\n * Computes the cosine of `x`\n * @example\n * Interval.cos(\n *   Interval(0, 0)\n * ) // Interval(1, 1)\n * @example\n * Interval.cos(\n *   Interval(0, Math.PI / 2)\n * ) // Interval(0, 1)\n * @example\n * Interval.cos(\n *   Interval(3 * Math.PI / 2, 3 * Math.PI)\n * ) // Interval(-1, 1)\n * @example\n * Interval.cos(\n *   Interval(-Infinity, x)\n * )\n * // Interval(-1, 1) if x > -Infinity\n * // Interval.EMPTY otherwise\n * @example\n * Interval.cos(\n *   Interval(x, Infinity)\n * )\n * // Interval(-1, 1) if x < Infinity\n * // Interval.EMPTY otherwise\n * @param {Interval} x\n * @return {Interval}\n */\ntrigonometric.cos = function (x) {\n  var rlo, rhi\n  if (utils.isEmpty(x) || onlyInfinity(x)) { return constants.EMPTY }\n\n  // create a clone of `x` because the clone is going to be modified\n  var cache = Interval()\n  cache.set(x.lo, x.hi)\n  handleNegative(cache)\n\n  var pi2 = constants.PI_TWICE\n  var t = algebra.fmod(cache, pi2)\n  if (misc.width(t) >= pi2.lo) {\n    return Interval(-1, 1)\n  }\n\n  // when t.lo > pi it's the same as\n  // -cos(t - pi)\n  if (t.lo >= constants.PI_HIGH) {\n    var cos = trigonometric.cos(\n      arithmetic.sub(t, constants.PI)\n    )\n    return arithmetic.negative(cos)\n  }\n\n  var lo = t.lo\n  var hi = t.hi\n  rlo = rmath.cosLo(hi)\n  rhi = rmath.cosHi(lo)\n  // it's ensured that t.lo < pi and that t.lo >= 0\n  if (hi <= constants.PI_LOW) {\n    // when t.hi < pi\n    // [cos(t.lo), cos(t.hi)]\n    return Interval(rlo, rhi)\n  } else if (hi <= pi2.lo) {\n    // when t.hi < 2pi\n    // [-1, max(cos(t.lo), cos(t.hi))]\n    return Interval(-1, Math.max(rlo, rhi))\n  } else {\n    // t.lo < pi and t.hi > 2pi\n    return Interval(-1, 1)\n  }\n}\n\n/**\n * Computes the sine of `x`\n * @example\n * Interval.sin(\n *   Interval(0, 0)\n * ) // Interval(0, 0)\n * @example\n * Interval.sin(\n *   Interval(0, Math.PI / 2)\n * ) // Interval(0, 1)\n * @example\n * Interval.sin(\n *   Interval(Math.PI / 2, Math.PI / 2)\n * ) // Interval(1, 1)\n * @example\n * Interval.sin(\n *   Interval(Math.PI / 2, -Math.PI / 2)\n * ) // Interval(-1, 1)\n * @example\n * Interval.sin(\n *   Interval(Math.PI, 3 * Math.PI / 2)\n * ) // Interval(-1, 0)\n * @param {Interval} x\n * @return {Interval}\n */\ntrigonometric.sin = function (x) {\n  if (utils.isEmpty(x) || onlyInfinity(x)) { return constants.EMPTY }\n  return trigonometric.cos(\n    arithmetic.sub(x, constants.PI_HALF)\n  )\n}\n\n/**\n * Computes the tangent of `x`\n * @example\n * Interval.tan(\n *   Interval(-Math.PI / 4, Math.PI / 4)\n * ) // Interval(-1, 1)\n * @example\n * Interval.tan(\n *   Interval(0, Math.PI / 2)\n * ) // Interval.WHOLE\n * @example\n * Interval.tan(\n *   Interval(-Infinity, x)\n * )\n * // Interval.WHOLE if x > -Infinity\n * // Interval.EMPTY othewise\n * @param {Interval} x\n * @return {Interval}\n */\ntrigonometric.tan = function (x) {\n  if (utils.isEmpty(x) || onlyInfinity(x)) { return constants.EMPTY }\n\n  // create a clone of `x` because the clone is going to be modified\n  var cache = Interval()\n  cache.set(x.lo, x.hi)\n  handleNegative(cache)\n\n  var pi = constants.PI\n  var t = algebra.fmod(cache, pi)\n  if (t.lo >= constants.PI_HALF_LOW) {\n    t = arithmetic.sub(t, pi)\n  }\n  if (t.lo <= -constants.PI_HALF_LOW || t.hi >= constants.PI_HALF_LOW) {\n    return constants.WHOLE\n  }\n  return Interval(\n    rmath.tanLo(t.lo),\n    rmath.tanHi(t.hi)\n  )\n}\n\n/**\n * Computes the arcsine of `x`\n * @example\n * Interval.asin(\n *   Interval(-1.57079633, 1.57079633)\n * )  // Interval(-10, 10)\n * @param {Interval} x\n * @return {Interval}\n */\ntrigonometric.asin = function (x) {\n  if (utils.isEmpty(x) || x.hi < -1 || x.lo > 1) {\n    return constants.EMPTY\n  }\n  var lo = x.lo <= -1 ? -constants.PI_HALF_HIGH : rmath.asinLo(x.lo)\n  var hi = x.hi >= 1 ? constants.PI_HALF_HIGH : rmath.asinHi(x.hi)\n  return Interval(lo, hi)\n}\n\n/**\n * Computes the arccosine of `x`\n * @example\n * Interval.acos(\n *   Interval(0, 1)\n * )  // Interval(0, Math.PI / 2)\n * @param {Interval} x\n * @return {Interval}\n */\ntrigonometric.acos = function (x) {\n  if (utils.isEmpty(x) || x.hi < -1 || x.lo > 1) {\n    return constants.EMPTY\n  }\n  var lo = x.hi >= 1 ? 0 : rmath.acosLo(x.hi)\n  var hi = x.lo <= -1 ? constants.PI_HIGH : rmath.acosHi(x.lo)\n  return Interval(lo, hi)\n}\n\n/**\n * Computes the arctangent of `x`\n * @example\n * Interval.atan(\n *   Interval(-1, 1)\n * )  // Interval(-0.785398163, 0.785398163)\n * @param {Interval} x\n * @return {Interval}\n */\ntrigonometric.atan = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  return Interval(rmath.atanLo(x.lo), rmath.atanHi(x.hi))\n}\n\n/**\n * Computes the hyperbolic sine of `x`\n * @example\n * Interval.sinh(\n *   Interval(-2, 2)\n * )  // Interval(-3.6286040785, 3.6286040785)\n * @param {Interval} x\n * @return {Interval}\n */\ntrigonometric.sinh = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  return Interval(rmath.sinhLo(x.lo), rmath.sinhHi(x.hi))\n}\n\n/**\n * Computes the hyperbolic cosine of `x`\n * @example\n * Interval.cosh(\n *   Interval(-2, 2)\n * )  // Interval(1, 3.76219569108)\n * @param {Interval} x\n * @return {Interval}\n */\ntrigonometric.cosh = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  if (x.hi < 0) {\n    return Interval(\n      rmath.coshLo(x.hi),\n      rmath.coshHi(x.lo)\n    )\n  } else if (x.lo >= 0) {\n    return Interval(\n      rmath.coshLo(x.lo),\n      rmath.coshHi(x.hi)\n    )\n  } else {\n    return Interval(\n      1,\n      rmath.coshHi(-x.lo > x.hi ? x.lo : x.hi)\n    )\n  }\n}\n\n/**\n * Computes the hyperbolic tangent of `x`\n * @example\n * Interval.tanh(\n *   Interval(-Infinity, Infinity)\n * )  // Interval(-1, 1)\n * @param {Interval} x\n * @return {Interval}\n */\ntrigonometric.tanh = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  return Interval(rmath.tanhLo(x.lo), rmath.tanhHi(x.hi))\n}\n\nmodule.exports = trigonometric\n","/*\n * math-codegen\n *\n * Copyright (c) 2015 Mauricio Poppe\n * Licensed under the MIT license.\n */\n'use strict'\nmodule.exports = require('./lib/CodeGenerator')\n","//  Created by mauricio on 5/10/15.\n'use strict'\n\n/**\n * @mixin utils\n */\nvar utils = {}\n\n/**\n * Checks if `x` is an interval, `x` is an interval if it's an object which has\n * `x.lo` and `x.hi` defined and both are numbers\n * @example\n * Interval.isInterval(\n *   Interval()\n * ) // true\n * @example\n * Interval.isInterval(\n *   undefined\n * ) // false\n * @example\n * Interval.isInterval(\n *   {lo: 1, hi: 2}\n * ) // true\n * @param  {*} x\n * @return {Boolean} true if `x` is an interval\n */\nutils.isInterval = function (x) {\n  return typeof x === 'object' && typeof x.lo === 'number' && typeof x.hi === 'number'\n}\n\n/**\n * Checks if `x` is empty, it's empty when `x.lo > x.hi`\n * @example\n * Interval.isEmpty(\n *   Interval.EMPTY\n * ) // true\n * @example\n * Interval.isEmpty(\n *   Interval.WHOLE\n * ) // false\n * @example\n * Interval.isEmpty(\n *   // bypass empty interval check\n *   Interval().set(1, -1)\n * ) // true\n * @param {Interval} x\n * @returns {boolean}\n */\nutils.isEmpty = function (x) {\n  return x.lo > x.hi\n}\n\n/**\n * Checks if an interval is a whole interval, that is an interval which covers\n * all the real numbers i.e. when `x.lo === -Infinity` and `x.hi === Infinity`\n * @example\n * Interval.isWhole(\n *   Interval.WHOLE\n * ) // true\n * @param {Interval} x\n * @returns {boolean}\n */\nutils.isWhole = function (x) {\n  return x.lo === -Infinity && x.hi === Infinity\n}\n\n/**\n * Checks if the intervals `x` is a singleton (an interval representing a single\n * value) i.e. when `x.lo === x.hi`\n * @example\n * Interval.isSingleton(\n *  Interval(2, 2)\n * ) // true\n * @example\n * Interval.isSingleton(\n *  Interval(2)\n * ) // true\n * @param {Interval} x\n * @returns {boolean}\n */\nutils.isSingleton = function (x) {\n  return x.lo === x.hi\n}\n\n/**\n * Checks if zero is included in the interval `x`\n * @example\n * Interval.zeroIn(\n *   Interval(-1, 1)\n * ) // true\n * @param {Interval} x\n * @returns {boolean}\n */\nutils.zeroIn = function (x) {\n  return utils.hasValue(x, 0)\n}\n\n/**\n * Checks if `value` is included in the interval `x`\n * @example\n * Interval.hasValue(\n *   Interval(-1, 1),\n *   0\n * ) // true\n * @example\n * Interval.hasValue(\n *   Interval(-1, 1),\n *   10\n * ) // false\n * @param {Interval} x\n * @param {number} value\n * @returns {boolean}\n */\nutils.hasValue = function (a, value) {\n  if (utils.isEmpty(a)) { return false }\n  return a.lo <= value && value <= a.hi\n}\n\n/**\n * Checks if `x` is a subset of `y`\n * @example\n * Interval.hasInteravl(\n *   Interval(0, 3),\n *   Interval(1, 2)\n * ) // true\n * @example\n * Interval.hasInteravl(\n *   Interval(0, 3),\n *   Interval(1, 4)\n * ) // false\n * @param {Interval} x\n * @param {Interval} y\n * @returns {boolean}\n */\nutils.hasInterval = function (x, y) {\n  if (utils.isEmpty(x)) { return true }\n  return !utils.isEmpty(y) && y.lo <= x.lo && x.hi <= y.hi\n}\n\n/**\n * Checks if the intervals `x`, `y` overlap i.e. if they share at least one\n * value\n * @example\n * Interval.intervalsOverlap(\n *   Interval(0, 3),\n *   Interval(1, 2)\n * ) // true\n * @example\n * Interval.intervalsOverlap(\n *   Interval(0, 2),\n *   Interval(1, 3)\n * ) // true\n * @example\n * Interval.intervalsOverlap(\n *   Interval(0, 2),\n *   Interval(2, 3)\n * ) // true\n * @example\n * Interval.intervalsOverlap(\n *   Interval(0, 1),\n *   Interval(2, 3)\n * ) // false\n * @param {Interval} x\n * @param {Interval} y\n * @returns {boolean}\n */\nutils.intervalsOverlap = function (x, y) {\n  if (utils.isEmpty(x) || utils.isEmpty(y)) { return false }\n  return (x.lo <= y.lo && y.lo <= x.hi) ||\n  (y.lo <= x.lo && x.lo <= y.hi)\n}\n\nmodule.exports = utils\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\n\nvar d3 = window.d3\nvar Globals = {\n  COLORS: [\n    'steelblue',\n    'red',\n    '#05b378', // green\n    'orange',\n    '#4040e8', // purple\n    'yellow',\n    'brown',\n    'magenta',\n    'cyan'\n  ].map(function (v) {\n    return d3.hsl(v)\n  }),\n  DEFAULT_WIDTH: 550,\n  DEFAULT_HEIGHT: 350,\n  TIP_X_EPS: 1\n}\n\nGlobals.DEFAULT_ITERATIONS = null\nGlobals.MAX_ITERATIONS = Globals.DEFAULT_WIDTH * 4\n\nmodule.exports = Globals\n","'use strict';\n\nmodule.exports = integrate;\n\n// This algorithm adapted from pseudocode in:\n// http://www.math.utk.edu/~ccollins/refs/Handouts/rich.pdf\nfunction adsimp (f, a, b, fa, fm, fb, V0, tol, maxdepth, depth, state) {\n  if (state.nanEncountered) {\n    return NaN;\n  }\n\n  var h, f1, f2, sl, sr, s2, m, V1, V2, err;\n\n  h = b - a;\n  f1 = f(a + h * 0.25);\n  f2 = f(b - h * 0.25);\n\n  // Simple check for NaN:\n  if (isNaN(f1)) {\n    state.nanEncountered = true;\n    return;\n  }\n\n  // Simple check for NaN:\n  if (isNaN(f2)) {\n    state.nanEncountered = true;\n    return;\n  }\n\n  sl = h * (fa + 4 * f1 + fm) / 12;\n  sr = h * (fm + 4 * f2 + fb) / 12;\n  s2 = sl + sr;\n  err = (s2 - V0) / 15;\n\n  if (depth > maxdepth) {\n    state.maxDepthCount++;\n    return s2 + err;\n  } else if (Math.abs(err) < tol) {\n    return s2 + err;\n  } else {\n    m = a + h * 0.5;\n\n    V1 = adsimp(f, a, m, fa, f1, fm, sl, tol * 0.5, maxdepth, depth + 1, state);\n\n    if (isNaN(V1)) {\n      state.nanEncountered = true;\n      return NaN;\n    }\n\n    V2 = adsimp(f, m, b, fm, f2, fb, sr, tol * 0.5, maxdepth, depth + 1, state);\n\n    if (isNaN(V2)) {\n      state.nanEncountered = true;\n      return NaN;\n    }\n\n    return V1 + V2;\n  }\n}\n\nfunction integrate (f, a, b, tol, maxdepth) {\n  var state = {\n    maxDepthCount: 0,\n    nanEncountered: false\n  };\n\n  if (tol === undefined) {\n    tol = 1e-8;\n  }\n  if (maxdepth === undefined) {\n    maxdepth = 20;\n  }\n\n  var fa = f(a);\n  var fm = f(0.5 * (a + b));\n  var fb = f(b);\n\n  var V0 = (fa + 4 * fm + fb) * (b - a) / 6;\n\n  var result = adsimp(f, a, b, fa, fm, fb, V0, tol, maxdepth, 1, state);\n\n  if (state.maxDepthCount > 0 && console && console.warn) {\n    console.warn('integrate-adaptive-simpson: Warning: maximum recursion depth (' + maxdepth + ') reached ' + state.maxDepthCount + ' times');\n  }\n\n  if (state.nanEncountered && console && console.warn) {\n    console.warn('integrate-adaptive-simpson: Warning: NaN encountered. Halting early.');\n  }\n\n  return result;\n}\n","/*\n * built-in-math-eval\n *\n * Copyright (c) 2015 Mauricio Poppe\n * Licensed under the MIT license.\n */\n\n'use strict'\n\nmodule.exports = require('./lib/eval')\n","/**\n * Created by mauricio on 4/5/15.\n */\n'use strict'\nmodule.exports = {\n  polyline: require('./polyline'),\n  interval: require('./interval'),\n  scatter: require('./scatter')\n}\n","// Created by mauricio on 5/11/15.\n'use strict'\nvar Interval = require('./interval')\nvar mutate = require('xtend/mutable')\n\nvar piLow = (3373259426.0 + 273688.0 / (1 << 21)) / (1 << 30)\nvar piHigh = (3373259426.0 + 273689.0 / (1 << 21)) / (1 << 30)\n\n/**\n * @mixin constants\n */\nvar constants = {}\n\nmutate(constants, {\n  /**\n   * Previous IEEE floating point value of PI (equal to Math.PI)\n   * 3.141592653589793\n   * @memberof constants\n   * @type {number}\n   */\n  PI_LOW: piLow,\n  /**\n   * Next IEEE floating point value of PI, 3.1415926535897936\n   * @memberof constants\n   * @type {number}\n   */\n  PI_HIGH: piHigh,\n  PI_HALF_LOW: piLow / 2,\n  PI_HALF_HIGH: piHigh / 2,\n  PI_TWICE_LOW: piLow * 2,\n  PI_TWICE_HIGH: piHigh * 2\n})\n\nfunction getter (property, fn) {\n  Object.defineProperty(constants, property, {\n    get: function () {\n      return fn()\n    },\n    enumerable: true\n  })\n}\n\n/**\n * An interval that represents PI, NOTE: calls to Interval.PI always return\n * a new interval representing PI\n * @memberof constants\n * @static\n * @example\n * Interval(Interval.PI_LOW, Interval.PI_HIGH)\n * @name PI\n * @type {Interval}\n */\ngetter('PI', function () {\n  return Interval(piLow, piHigh)\n})\n\n/**\n * An interval that represents PI / 2, NOTE: calls to Interval.PI_HALF always\n * return a new interval representing PI / 2\n * @memberof constants\n * @static\n * @example\n * Interval(Interval.PI_LOW / 2, Interval.PI_HIGH / 2)\n * @name PI_HALF\n * @type {Interval}\n */\ngetter('PI_HALF', function () {\n  return Interval(constants.PI_HALF_LOW, constants.PI_HALF_HIGH)\n})\n\n/**\n * An interval that represents PI * 2, NOTE: calls to Interval.PI_TWICE always\n * return a new interval representing PI * 2\n * @memberof constants\n * @static\n * @example\n * Interval(Interval.PI_LOW * 2, Interval.PI_HIGH * 2)\n * @name PI_TWICE\n * @type {Interval}\n */\ngetter('PI_TWICE', function () {\n  return Interval(constants.PI_TWICE_LOW, constants.PI_TWICE_HIGH)\n})\n\n/**\n * An interval that represents 0, NOTE: calls to Interval.ZERO always\n * return a new interval representing 0\n * @memberof constants\n * @static\n * @example\n * // Interval.ZERO is equivalent to\n * Interval(0)\n * @name ZERO\n * @type {Interval}\n */\ngetter('ZERO', function () {\n  return Interval(0)\n})\n\n/**\n * An interval that represents 1, NOTE: calls to Interval.ONE always\n * return a new interval representing 1\n * @memberof constants\n * @static\n * @example\n * // Interval.ONE is equivalent to\n * Interval(1)\n * @name ONE\n * @type {Interval}\n */\ngetter('ONE', function () {\n  return Interval(1)\n})\n\n/**\n * An interval that represents all the real values\n * NOTE: calls to Interval.WHOLE always return a new interval representing all\n * the real values\n * @memberof constants\n * @static\n * @example\n * // Interval.WHOLE is equivalent to\n * Interval().setWhole()\n * @name WHOLE\n * @type {Interval}\n */\ngetter('WHOLE', function () {\n  return Interval().setWhole()\n})\n\n/**\n * An interval that represents no values\n * NOTE: calls to Interval.EMPTY always return a new interval representing no\n * values\n * @memberof constants\n * @static\n * @example\n * // Interval.EMPTY is equivalent to\n * Interval().setEmpty()\n * @name EMPTY\n * @type {Interval}\n */\ngetter('EMPTY', function () {\n  return Interval().setEmpty()\n})\n\nmodule.exports = constants\n","var Node = require('./Node')\n\nfunction ConditionalNode (predicate, truthy, falsy) {\n  this.condition = predicate\n  this.trueExpr = truthy\n  this.falseExpr = falsy\n}\n\nConditionalNode.prototype = Object.create(Node.prototype)\n\nConditionalNode.prototype.type = 'ConditionalNode'\n\nmodule.exports = ConditionalNode\n","'use strict'\n\nvar Operators = require('../misc/Operators')\n\nmodule.exports = function (node) {\n  if (this.options.raw) {\n    return ['(' + this.next(node.args[0]), node.op, this.next(node.args[1]) + ')'].join(' ')\n  }\n\n  var namedOperator = Operators[node.op]\n\n  if (!namedOperator) {\n    throw TypeError('unidentified operator')\n  }\n\n  /* eslint-disable new-cap */\n  return this.FunctionNode({\n    name: namedOperator,\n    args: node.args\n  })\n  /* eslint-enable new-cap */\n}\n","/**\n * Created by mauricio on 5/12/15.\n */\n'use strict'\nmodule.exports = function (Interval) {\n  return {\n    disableRounding: function () {\n      Interval.rmath.disable()\n    },\n\n    enableRounding: function () {\n      Interval.rmath.enable()\n    }\n  }\n}\n","var range = require('lodash.range');\n\nmodule.exports = function linspace(a,b,n) {\n  var every = (b-a)/(n-1),\n      ranged = range(a,b,every);\n\n  return ranged.length == n ? ranged : ranged.concat(b);\n}\n\n","var hasTypedArrays = false\nif(typeof Float64Array !== \"undefined\") {\n  var DOUBLE_VIEW = new Float64Array(1)\n    , UINT_VIEW   = new Uint32Array(DOUBLE_VIEW.buffer)\n  DOUBLE_VIEW[0] = 1.0\n  hasTypedArrays = true\n  if(UINT_VIEW[1] === 0x3ff00000) {\n    //Use little endian\n    module.exports = function doubleBitsLE(n) {\n      DOUBLE_VIEW[0] = n\n      return [ UINT_VIEW[0], UINT_VIEW[1] ]\n    }\n    function toDoubleLE(lo, hi) {\n      UINT_VIEW[0] = lo\n      UINT_VIEW[1] = hi\n      return DOUBLE_VIEW[0]\n    }\n    module.exports.pack = toDoubleLE\n    function lowUintLE(n) {\n      DOUBLE_VIEW[0] = n\n      return UINT_VIEW[0]\n    }\n    module.exports.lo = lowUintLE\n    function highUintLE(n) {\n      DOUBLE_VIEW[0] = n\n      return UINT_VIEW[1]\n    }\n    module.exports.hi = highUintLE\n  } else if(UINT_VIEW[0] === 0x3ff00000) {\n    //Use big endian\n    module.exports = function doubleBitsBE(n) {\n      DOUBLE_VIEW[0] = n\n      return [ UINT_VIEW[1], UINT_VIEW[0] ]\n    }\n    function toDoubleBE(lo, hi) {\n      UINT_VIEW[1] = lo\n      UINT_VIEW[0] = hi\n      return DOUBLE_VIEW[0]\n    }\n    module.exports.pack = toDoubleBE\n    function lowUintBE(n) {\n      DOUBLE_VIEW[0] = n\n      return UINT_VIEW[1]\n    }\n    module.exports.lo = lowUintBE\n    function highUintBE(n) {\n      DOUBLE_VIEW[0] = n\n      return UINT_VIEW[0]\n    }\n    module.exports.hi = highUintBE\n  } else {\n    hasTypedArrays = false\n  }\n}\nif(!hasTypedArrays) {\n  var buffer = new Buffer(8)\n  module.exports = function doubleBits(n) {\n    buffer.writeDoubleLE(n, 0, true)\n    return [ buffer.readUInt32LE(0, true), buffer.readUInt32LE(4, true) ]\n  }\n  function toDouble(lo, hi) {\n    buffer.writeUInt32LE(lo, 0, true)\n    buffer.writeUInt32LE(hi, 4, true)\n    return buffer.readDoubleLE(0, true)\n  }\n  module.exports.pack = toDouble  \n  function lowUint(n) {\n    buffer.writeDoubleLE(n, 0, true)\n    return buffer.readUInt32LE(0, true)\n  }\n  module.exports.lo = lowUint\n  function highUint(n) {\n    buffer.writeDoubleLE(n, 0, true)\n    return buffer.readUInt32LE(4, true)\n  }\n  module.exports.hi = highUint\n}\n\nmodule.exports.sign = function(n) {\n  return module.exports.hi(n) >>> 31\n}\n\nmodule.exports.exponent = function(n) {\n  var b = module.exports.hi(n)\n  return ((b<<1) >>> 21) - 1023\n}\n\nmodule.exports.fraction = function(n) {\n  var lo = module.exports.lo(n)\n  var hi = module.exports.hi(n)\n  var b = hi & ((1<<20) - 1)\n  if(hi & 0x7ff00000) {\n    b += (1<<20)\n  }\n  return [lo, b]\n}\n\nmodule.exports.denormalized = function(n) {\n  var hi = module.exports.hi(n)\n  return !(hi & 0x7ff00000)\n}","var linspace = require('linspace');\n\nmodule.exports = function logspace(a,b,n) {\n  return linspace(a,b,n).map(function(x) { return Math.pow(10,x); });\n}\n","var Node = require('./Node')\n\nfunction SymbolNode (name) {\n  this.name = name\n}\n\nSymbolNode.prototype = Object.create(Node.prototype)\n\nSymbolNode.prototype.type = 'SymbolNode'\n\nmodule.exports = SymbolNode\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\nvar d3 = window.d3\n\nmodule.exports = function (options) {\n  var annotations\n  var xScale = options.owner.meta.xScale\n  var yScale = options.owner.meta.yScale\n\n  var line = d3.svg.line()\n    .x(function (d) { return d[0] })\n    .y(function (d) { return d[1] })\n\n  annotations = function (parentSelection) {\n    parentSelection.each(function () {\n      // join\n      var current = d3.select(this)\n      var selection = current.selectAll('g.annotations')\n        .data(function (d) { return d.annotations || [] })\n\n      // enter\n      selection.enter()\n        .append('g')\n        .attr('class', 'annotations')\n\n      // enter + update\n      // - path\n      var yRange = yScale.range()\n      var xRange = xScale.range()\n      var path = selection.selectAll('path')\n        .data(function (d) {\n          if (d.hasOwnProperty('x')) {\n            return [ [[0, yRange[0]], [0, yRange[1]]] ]\n          } else {\n            return [ [[xRange[0], 0], [xRange[1], 0]] ]\n          }\n        })\n      path.enter()\n        .append('path')\n        .attr('stroke', '#eee')\n        .attr('d', line)\n      path.exit().remove()\n\n      // enter + update\n      // - text\n      var text = selection.selectAll('text')\n        .data(function (d) {\n          return [{\n            text: d.text || '',\n            hasX: d.hasOwnProperty('x')\n          }]\n        })\n      text.enter()\n        .append('text')\n        .attr('y', function (d) {\n          return d.hasX ? 3 : 0\n        })\n        .attr('x', function (d) {\n          return d.hasX ? 0 : 3\n        })\n        .attr('dy', function (d) {\n          return d.hasX ? 5 : -5\n        })\n        .attr('text-anchor', function (d) {\n          return d.hasX ? 'end' : ''\n        })\n        .attr('transform', function (d) {\n          return d.hasX ? 'rotate(-90)' : ''\n        })\n        .text(function (d) { return d.text })\n      text.exit().remove()\n\n      // enter + update\n      // move group\n      selection\n        .attr('transform', function (d) {\n          if (d.hasOwnProperty('x')) {\n            return 'translate(' + xScale(d.x) + ', 0)'\n          } else {\n            return 'translate(0, ' + yScale(d.y) + ')'\n          }\n        })\n\n      // exit\n      selection.exit()\n        .remove()\n    })\n  }\n\n  return annotations\n}\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\nvar d3 = window.d3\nvar evaluate = require('../evaluate')\nvar utils = require('../utils')\n\nmodule.exports = function (chart) {\n  var minWidthHeight\n  var xScale = chart.meta.xScale\n  var yScale = chart.meta.yScale\n\n  function clampRange (vLo, vHi, gLo, gHi) {\n    // issue 69\n    // by adding the option `invert` to both the xAxis and the `yAxis`\n    // it might be possible that after the transformation to canvas space\n    // the y limits of the rectangle get inverted i.e. gLo > gHi\n    //\n    // e.g.\n    //\n    //   functionPlot({\n    //     target: '#playground',\n    //     yAxis: { invert: true },\n    //     // ...\n    //   })\n    //\n    if (gLo > gHi) {\n      var t = gLo\n      gLo = gHi\n      gHi = t\n    }\n    var hi = Math.min(vHi, gHi)\n    var lo = Math.max(vLo, gLo)\n    if (lo > hi) {\n      // no overlap\n      return [-minWidthHeight, 0]\n    }\n    return [lo, hi]\n  }\n\n  var line = function (points, closed) {\n    var path = ''\n    var range = yScale.range()\n    var minY = Math.min.apply(Math, range)\n    var maxY = Math.max.apply(Math, range)\n    for (var i = 0, length = points.length; i < length; i += 1) {\n      if (points[i]) {\n        var x = points[i][0]\n        var y = points[i][1]\n        var yLo = y.lo\n        var yHi = y.hi\n        // if options.closed is set to true then one of the bounds must be zero\n        if (closed) {\n          yLo = Math.min(yLo, 0)\n          yHi = Math.max(yHi, 0)\n        }\n        // points.scaledDX is added because of the stroke-width\n        var moveX = xScale(x.lo) + points.scaledDx / 2\n        var viewportY = clampRange(\n          minY, maxY,\n          isFinite(yHi) ? yScale(yHi) : -Infinity,\n          isFinite(yLo) ? yScale(yLo) : Infinity\n        )\n        var vLo = viewportY[0]\n        var vHi = viewportY[1]\n        path += ' M ' + moveX + ' ' + vLo\n        path += ' v ' + Math.max(vHi - vLo, minWidthHeight)\n      }\n    }\n    return path\n  }\n\n  function plotLine (selection) {\n    selection.each(function (d) {\n      var el = plotLine.el = d3.select(this)\n      var index = d.index\n      var closed = d.closed\n      var evaluatedData = evaluate(chart, d)\n      var innerSelection = el.selectAll(':scope > path.line')\n        .data(evaluatedData)\n\n      // the min height/width of the rects drawn by the path generator\n      minWidthHeight = Math.max(evaluatedData[0].scaledDx, 1)\n\n      innerSelection.enter()\n        .append('path')\n        .attr('class', 'line line-' + index)\n        .attr('fill', 'none')\n\n      // enter + update\n      innerSelection\n        .attr('stroke-width', minWidthHeight)\n        .attr('stroke', utils.color(d, index))\n        .attr('opacity', closed ? 0.5 : 1)\n        .attr('d', function (d) {\n          return line(d, closed)\n        })\n        .attr(d.attr)\n\n      innerSelection.exit().remove()\n    })\n  }\n\n  return plotLine\n}\n","'use strict'\n\nmodule.exports = {\n  // arithmetic\n  '+': 'add',\n  '-': 'sub',\n  '*': 'mul',\n  '/': 'div',\n  '^': 'pow',\n  '%': 'mod',\n  '!': 'factorial',\n\n  // misc operators\n  '|': 'bitwiseOR',       // bitwise or\n  '^|': 'bitwiseXOR',     // bitwise xor\n  '&': 'bitwiseAND',      // bitwise and\n\n  '||': 'logicalOR',      // logical or\n  'xor': 'logicalXOR',    // logical xor\n  '&&': 'logicalAND',     // logical and\n\n  // comparison\n  '<': 'lessThan',\n  '>': 'greaterThan',\n  '<=': 'lessEqualThan',\n  '>=': 'greaterEqualThan',\n  '===': 'strictlyEqual',\n  '==': 'equal',\n  '!==': 'strictlyNotEqual',\n  '!=': 'notEqual',\n\n  // shift\n  '>>': 'shiftRight',\n  '<<': 'shiftLeft',\n  '>>>': 'unsignedRightShift'\n}\n","'use strict'\nmodule.exports = function (node) {\n  if (this.options.raw) {\n    return node.value\n  }\n  return this.options.factory + '(' + node.value + ')'\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","'use strict'\n\nmodule.exports = {\n  '+': 'positive',\n  '-': 'negative',\n  '~': 'oneComplement'\n}\n","'use strict';\nvar MAX_SAFE_INTEGER = require('max-safe-integer');\n\nmodule.exports = Number.isSafeInteger || function (val) {\n\treturn typeof val === 'number' && val === val && val !== Infinity && val !== -Infinity && parseInt(val, 10) === val && Math.abs(val) <= MAX_SAFE_INTEGER;\n};\n","/**\n * Created by mauricio on 5/11/15.\n */\n'use strict'\n\nvar isSafeInteger = require('is-safe-integer')\n\nvar Interval = require('../interval')\nvar rmath = require('../round-math')\nvar utils = require('./utils')\nvar arithmetic = require('./arithmetic')\nvar constants = require('../constants')\n\n/**\n * @mixin algebra\n */\nvar algebra = {}\n\n/**\n * Computes x mod y (x - k * y)\n * @example\n * Interval.fmod(\n *   Interval(5.3, 5.3),\n *   Interval(2, 2)\n * ) // Interval(1.3, 1.3)\n *\n * @example\n * Interval.fmod(\n *   Interval(5, 7),\n *   Interval(2, 3)\n * ) // Interval(2, 5)\n * // explanation: [5, 7] - [2, 3] * 1 = [2, 5]\n *\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\nalgebra.fmod = function (x, y) {\n  if (utils.isEmpty(x) || utils.isEmpty(y)) {\n    return constants.EMPTY\n  }\n  var yb = x.lo < 0 ? y.lo : y.hi\n  var n = x.lo / yb\n  if (n < 0) n = Math.ceil(n)\n  else n = Math.floor(n)\n  // x mod y = x - n * y\n  return arithmetic.sub(x, arithmetic.mul(y, Interval(n)))\n}\n\n/**\n * Computes 1 / x\n *\n * @example\n * Interval.multiplicativeInverse(\n *   Interval(2, 6)\n * )  // Interval(1/6, 1/2)\n * @example\n * Interval.multiplicativeInverse(\n *   Interval(-6, -2)\n * )  // Interval(-1/2, -1/6)\n * @param {Interval} x\n * @returns {Interval}\n */\nalgebra.multiplicativeInverse = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  if (utils.zeroIn(x)) {\n    if (x.lo !== 0) {\n      if (x.hi !== 0) {\n        // [negative, positive]\n        return constants.WHOLE\n      } else {\n        // [negative, zero]\n        return Interval(\n          Number.NEGATIVE_INFINITY,\n          rmath.divHi(1, x.lo)\n        )\n      }\n    } else {\n      if (x.hi !== 0) {\n        // [zero, positive]\n        return Interval(\n          rmath.divLo(1, x.hi),\n          Number.POSITIVE_INFINITY\n        )\n      } else {\n        // [zero, zero]\n        return constants.EMPTY\n      }\n    }\n  } else {\n    // [positive, positive]\n    return Interval(\n      rmath.divLo(1, x.hi),\n      rmath.divHi(1, x.lo)\n    )\n  }\n}\n\n/**\n * Computes x^power given that `power` is an integer\n *\n * If `power` is an Interval it must be a singletonInterval i.e. x^x is not\n * supported yet\n *\n * If `power` is a rational number use {@link arithmetic.nthRoot} instead\n *\n * @example\n * // 2^{-2}\n * Interval.pow(\n *   Interval(2, 2),\n *   -2\n * )  // Interval(1/4, 1/4)\n * @example\n * // [2,3]^2\n * Interval.pow(\n *   Interval(2, 3),\n *   2\n * )  // Interval(4, 9)\n * @example\n * // [2,3]^0\n * Interval.pow(\n *   Interval(2, 3),\n *   0\n * )  // Interval(1, 1)\n * @example\n * // with a singleton interval\n * Interval.pow(\n *   Interval(2, 3),\n *   Interval(2)\n * )  // Interval(4, 9)\n * @param {Interval} x\n * @param {number|Interval} power A number of a singleton interval\n * @returns {Interval}\n */\nalgebra.pow = function (x, power) {\n  if (utils.isEmpty(x)) {\n    return constants.EMPTY\n  }\n  if (typeof power === 'object') {\n    if (!utils.isSingleton(power)) {\n      return constants.EMPTY\n    }\n    power = power.lo\n  }\n\n  if (power === 0) {\n    if (x.lo === 0 && x.hi === 0) {\n      // 0^0\n      return constants.EMPTY\n    } else {\n      // x^0\n      return constants.ONE\n    }\n  } else if (power < 0) {\n    // compute [1 / x]^-power if power is negative\n    return algebra.pow(\n      algebra.multiplicativeInverse(x),\n      -power\n    )\n  }\n\n  // power > 0\n  if (isSafeInteger(power)) {\n    // power is integer\n    if (x.hi < 0) {\n      // [negative, negative]\n      // assume that power is even so the operation will yield a positive interval\n      // if not then just switch the sign and order of the interval bounds\n      var yl = rmath.powLo(-x.hi, power)\n      var yh = rmath.powHi(-x.lo, power)\n      if (power & 1) {\n        // odd power\n        return Interval(-yh, -yl)\n      } else {\n        // even power\n        return Interval(yl, yh)\n      }\n    } else if (x.lo < 0) {\n      // [negative, positive]\n      if (power & 1) {\n        return Interval(\n          -rmath.powLo(-x.lo, power),\n          rmath.powHi(x.hi, power)\n        )\n      } else {\n        // even power means that any negative number will be zero (min value = 0)\n        // and the max value will be the max of x.lo^power, x.hi^power\n        return Interval(\n          0,\n          rmath.powHi(Math.max(-x.lo, x.hi), power)\n        )\n      }\n    } else {\n      // [positive, positive]\n      return Interval(\n        rmath.powLo(x.lo, power),\n        rmath.powHi(x.hi, power)\n      )\n    }\n  } else {\n    console.warn('power is not an integer, you should use nth-root instead, returning an empty interval')\n    return constants.EMPTY\n  }\n}\n\n/**\n * Computes sqrt(x), alias for `nthRoot(x, 2)`\n * @example\n * Interval.sqrt(\n *   Interval(4, 9)\n * ) // Interval(prev(2), next(3))\n * @param {Interval} x\n * @returns {Interval}\n */\nalgebra.sqrt = function (x) {\n  return algebra.nthRoot(x, 2)\n}\n\n/**\n * Computes x^(1/n)\n *\n * @example\n * Interval.nthRoot(\n *   Interval(-27, -8),\n *   3\n * ) // Interval(-3, -2)\n * @param {Interval} x\n * @param {number|Interval} n A number or a singleton interval\n * @return {Interval}\n */\nalgebra.nthRoot = function (x, n) {\n  if (utils.isEmpty(x) || n < 0) {\n    // compute 1 / x^-power if power is negative\n    return constants.EMPTY\n  }\n\n  // singleton interval check\n  if (typeof n === 'object') {\n    if (!utils.isSingleton(n)) {\n      return constants.EMPTY\n    }\n    n = n.lo\n  }\n\n  var power = 1 / n\n  if (x.hi < 0) {\n    // [negative, negative]\n    if (isSafeInteger(n) & (n & 1)) {\n      // when n is odd we can always take the nth root\n      var yl = rmath.powHi(-x.lo, power)\n      var yh = rmath.powLo(-x.hi, power)\n      return Interval(-yl, -yh)\n    }\n    // n is not odd therefore there's no nth root\n    return Interval.EMPTY\n  } else if (x.lo < 0) {\n    // [negative, positive]\n    var yp = rmath.powHi(x.hi, power)\n    if (isSafeInteger(n) & (n & 1)) {\n      // nth root of x.lo is possible (n is odd)\n      var yn = -rmath.powHi(-x.lo, power)\n      return Interval(yn, yp)\n    }\n    return Interval(0, yp)\n  } else {\n    // [positive, positive]\n    return Interval(\n      rmath.powLo(x.lo, power),\n      rmath.powHi(x.hi, power)\n    )\n  }\n}\n\nmodule.exports = algebra\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\nvar linspace = require('linspace')\nvar logspace = require('logspace')\nvar log10 = require('log10')\n\nvar globals = require('./globals')\n\nmodule.exports = {\n  isValidNumber: function (v) {\n    return typeof v === 'number' && !isNaN(v)\n  },\n\n  space: function (chart, range, n) {\n    var lo = range[0]\n    var hi = range[1]\n    if (chart.options.xAxis.type === 'log') {\n      return logspace(log10(lo), log10(hi), n)\n    }\n    // default is linear\n    return linspace(lo, hi, n)\n  },\n\n  getterSetter: function (config, option) {\n    var me = this\n    this[option] = function (value) {\n      if (!arguments.length) {\n        return config[option]\n      }\n      config[option] = value\n      return me\n    }\n  },\n\n  sgn: function (v) {\n    if (v < 0) { return -1 }\n    if (v > 0) { return 1 }\n    return 0\n  },\n\n  color: function (data, index) {\n    return data.color || globals.COLORS[index]\n  }\n}\n","\"use strict\";\n\nmodule.exports = function isObject(x) {\n\treturn typeof x === \"object\" && x !== null;\n};\n","// Created by mauricio on 4/27/15.\n\n'use strict'\nvar nextafter = require('nextafter')\n\n/**\n * @module interval-arithmetic/round-math\n */\n\nfunction identity (v) { return v }\nfunction prev (v) {\n  if (v === Infinity) { return v }\n  return nextafter(v, -Infinity)\n}\nfunction next (v) {\n  if (v === -Infinity) { return v }\n  return nextafter(v, Infinity)\n}\n\n/**\n * @alias module:interval-arithmetic/round-math\n */\nvar round = {\n  /**\n   * Computes the previous IEEE floating point representation of `v`\n   * @example\n   * Interval.round.safePrev(1)          // 0.9999999999999999\n   * Interval.round.safePrev(3)          // 2.9999999999999996\n   * Interval.round.safePrev(Infinity)   // Infinity\n   * @param {number} v\n   * @return {number}\n   * @function\n   */\n  safePrev: prev,\n  /**\n   * Computes the next IEEE floating point representation of `v`\n   * @example\n   * Interval.round.safeNext(1)          // 1.0000000000000002\n   * Interval.round.safeNext(3)          // 3.0000000000000004\n   * Interval.round.safeNext(-Infinity)  // -Infinity\n   * @param {number} v\n   * @return {number}\n   * @function\n   */\n  safeNext: next,\n  prev: prev,\n  next: next\n}\n\nround.addLo = function (x, y) { return this.prev(x + y) }\nround.addHi = function (x, y) { return this.next(x + y) }\n\nround.subLo = function (x, y) { return this.prev(x - y) }\nround.subHi = function (x, y) { return this.next(x - y) }\n\nround.mulLo = function (x, y) { return this.prev(x * y) }\nround.mulHi = function (x, y) { return this.next(x * y) }\n\nround.divLo = function (x, y) { return this.prev(x / y) }\nround.divHi = function (x, y) { return this.next(x / y) }\n\nfunction toInteger (x) {\n  return x < 0 ? Math.ceil(x) : Math.floor(x)\n}\n\nround.intLo = function (x) { return toInteger(this.prev(x)) }\nround.intHi = function (x) { return toInteger(this.next(x)) }\n\nround.logLo = function (x) { return this.prev(Math.log(x)) }\nround.logHi = function (x) { return this.next(Math.log(x)) }\n\nround.expLo = function (x) { return this.prev(Math.exp(x)) }\nround.expHi = function (x) { return this.next(Math.exp(x)) }\n\nround.sinLo = function (x) { return this.prev(Math.sin(x)) }\nround.sinHi = function (x) { return this.next(Math.sin(x)) }\n\nround.cosLo = function (x) { return this.prev(Math.cos(x)) }\nround.cosHi = function (x) { return this.next(Math.cos(x)) }\n\nround.tanLo = function (x) { return this.prev(Math.tan(x)) }\nround.tanHi = function (x) { return this.next(Math.tan(x)) }\n\nround.asinLo = function (x) { return this.prev(Math.asin(x)) }\nround.asinHi = function (x) { return this.next(Math.asin(x)) }\n\nround.acosLo = function (x) { return this.prev(Math.acos(x)) }\nround.acosHi = function (x) { return this.next(Math.acos(x)) }\n\nround.atanLo = function (x) { return this.prev(Math.atan(x)) }\nround.atanHi = function (x) { return this.next(Math.atan(x)) }\n\n// polyfill required for hyperbolic functions\nround.sinhLo = function (x) { return this.prev(Math.sinh(x)) }\nround.sinhHi = function (x) { return this.next(Math.sinh(x)) }\n\nround.coshLo = function (x) { return this.prev(Math.cosh(x)) }\nround.coshHi = function (x) { return this.next(Math.cosh(x)) }\n\nround.tanhLo = function (x) { return this.prev(Math.tanh(x)) }\nround.tanhHi = function (x) { return this.next(Math.tanh(x)) }\n\n/*\n * @ignore\n * ln(power) exponentiation of x\n * @param {number} x\n * @param {number} power\n * @returns {number}\n */\nround.powLo = function (x, power) {\n  if (power % 1 !== 0) {\n    // power has decimals\n    return this.prev(Math.pow(x, power))\n  }\n\n  var y = (power & 1) ? x : 1\n  power >>= 1\n  while (power > 0) {\n    x = round.mulLo(x, x)\n    if (power & 1) {\n      y = round.mulLo(x, y)\n    }\n    power >>= 1\n  }\n  return y\n}\n\n/*\n * @ignore\n * ln(power) exponentiation of x\n * @param {number} x\n * @param {number} power\n * @returns {number}\n */\nround.powHi = function (x, power) {\n  if (power % 1 !== 0) {\n    // power has decimals\n    return this.next(Math.pow(x, power))\n  }\n\n  var y = (power & 1) ? x : 1\n  power >>= 1\n  while (power > 0) {\n    x = round.mulHi(x, x)\n    if (power & 1) {\n      y = round.mulHi(x, y)\n    }\n    power >>= 1\n  }\n  return y\n}\n\nround.sqrtLo = function (x) { return this.prev(Math.sqrt(x)) }\nround.sqrtHi = function (x) { return this.next(Math.sqrt(x)) }\n\n/**\n * Most operations on intervals will cary the rounding error so that the\n * resulting interval correctly represents all the possible values, this feature\n * can be disabled by calling this method allowing a little boost in the\n * performance while operating on intervals\n *\n * @see module:interval-arithmetic/round-math.enable\n * @example\n * var x = Interval.add(\n *   Interval(1),\n *   Interval(1)\n * )\n * x // equal to {lo: 1.9999999999999998, hi: 2.0000000000000004}\n *\n * Interval.round.disable()\n * var y = Interval.add(\n *   Interval(1),\n *   Interval(1)\n * )\n * y // equal to {lo: 2, hi: 2}\n * @function\n */\nround.disable = function () {\n  this.next = this.prev = identity\n}\n\n/**\n * Enables IEEE previous/next floating point wrapping of values (enabled by\n * default)\n * @see module:interval-arithmetic/round-math.disable\n * @example\n * var x = Interval.add(\n *   Interval(1),\n *   Interval(1)\n * )\n * x // equal to {lo: 1.9999999999999998, hi: 2.0000000000000004}\n *\n * Interval.round.disable()\n * var y = Interval.add(\n *   Interval(1),\n *   Interval(1)\n * )\n * y // equal to {lo: 2, hi: 2}\n *\n * Interval.round.enable()\n * var z = Interval.add(\n *   Interval(1),\n *   Interval(1)\n * )\n * z // equal to {lo: 1.9999999999999998, hi: 2.0000000000000004}\n * @function\n */\nround.enable = function () {\n  this.next = next\n  this.prev = prev\n}\n\nmodule.exports = round\n","// Created by mauricio on 5/14/15.\n\n'use strict'\nvar utils = require('./utils')\n\n// boost/numeric/interval_lib/compare/certain package on boost\n\n/**\n * @mixin relational\n */\nvar relational = {}\n\n/**\n * Checks if the intervals `x`, `y` are equal, they're equal when\n * `x.lo === y.lo` and `x.hi === y.hi`, a corner case handled is when `x` and\n * `y` are both empty intervals\n * @example\n * Interval.equal(\n *   Interval(2, 3),\n *   Interval(2, 3)\n * ) // true\n * @example\n * Interval.equal(\n *   Interval.EMPTY,\n *   Interval.EMPTY\n * ) // true\n * @param {Interval} x\n * @param {Interval} y\n * @returns {boolean}\n */\nrelational.equal = function (x, y) {\n  if (utils.isEmpty(x)) {\n    return utils.isEmpty(y)\n  }\n  return !utils.isEmpty(y) && x.lo === y.lo && x.hi === y.hi\n}\n\n// <debug>\nvar EPS = 1e-7\nfunction assert (a, message) {\n  /* istanbul ignore next */\n  if (!a) { throw new Error(message || 'assertion failed') }\n}\n\nfunction assertEps (a, b) {\n  if (!isFinite(a)) {\n    return assert(a === b, '[Infinity] expected ' + a + ' to be ' + b)\n  }\n  assert(Math.abs(a - b) < EPS, 'expected ' + a + ' to be close to ' + b)\n}\n\nrelational.almostEqual = function (x, y) {\n  x = Array.isArray(x) ? x : x.toArray()\n  y = Array.isArray(y) ? y : y.toArray()\n  assertEps(x[0], y[0])\n  assertEps(x[1], y[1])\n}\n\nrelational.assertIncludes = function (x, y) {\n  // checks that `y` is included in `x` with the bounds close to `x`\n  relational.almostEqual(x, y)\n  x = Array.isArray(x) ? x : x.toArray()\n  y = Array.isArray(y) ? y : y.toArray()\n  assert(x[0] <= y[0], x[0] + ' should be less/equal than ' + y[0])\n  assert(y[1] <= x[1], y[1] + ' should be less/equal than ' + x[1])\n}\n// </debug>\n\n/**\n * Checks if the intervals `x`, `y` are not equal i.e. when the intervals don't\n * share any value\n * @example\n * Interval.notEqual(\n *   Interval(2, 3),\n *   Interval(4, 5)\n * ) // true\n * @example\n * Interval.notEqual(\n *   Interval(2, 3),\n *   Interval(3, 5)\n * ) // false\n * @example\n * Interval.notEqual(\n *   Interval(2, 4),\n *   Interval(3, 5)\n * ) // false\n * @param {Interval} x\n * @param {Interval} y\n * @returns {boolean}\n */\nrelational.notEqual = function (x, y) {\n  if (utils.isEmpty(x)) {\n    return !utils.isEmpty(y)\n  }\n  return utils.isEmpty(y) || x.hi < y.lo || x.lo > y.hi\n}\n\n/**\n * Checks if the interval `x` is less than `y` i.e. if all the values of `x`\n * are lower than the left endpoint of `y`\n * @example\n * Interval.lessThan(\n *   Interval(2, 3),\n *   Interval(4, 5)\n * ) // true\n * @example\n * Interval.lessThan(\n *   Interval(4, 5),\n *   Interval(2, 3)\n * ) // false\n * @param {Interval} x\n * @param {Interval} y\n * @return {boolean}\n */\nrelational.lessThan = function (x, y) {\n  if (utils.isEmpty(x) || utils.isEmpty(y)) {\n    return false\n  }\n  return x.hi < y.lo\n}\n\n/**\n * Alias for {@link relational.lessThan}\n * @function\n */\nrelational.lt = relational.lessThan\n\n/**\n * Checks if the interval `x` is greater than `y` i.e. if all the values of `x`\n * are greater than the right endpoint of `y`\n * @example\n * Interval.greaterThan(\n *   Interval(2, 3),\n *   Interval(4, 5)\n * ) // false\n * @example\n * Interval.greaterThan(\n *   Interval(4, 5),\n *   Interval(2, 3)\n * ) // true\n * @param {Interval} x\n * @param {Interval} y\n * @return {boolean}\n */\nrelational.greaterThan = function (x, y) {\n  if (utils.isEmpty(x) || utils.isEmpty(y)) {\n    return false\n  }\n  return x.lo > y.hi\n}\n\n/**\n * Alias for {@link relational.greaterThan}\n * @function\n */\nrelational.gt = relational.greaterThan\n\n/**\n * Checks if the interval `x` is less or equal than `y` i.e.\n * if all the values of `x` are lower or equal to the left endpoint of `y`\n * @example\n * Interval.lessEqualThan(\n *   Interval(2, 3),\n *   Interval(3, 5)\n * ) // true\n * @param {Interval} x\n * @param {Interval} y\n * @return {boolean}\n */\nrelational.lessEqualThan = function (x, y) {\n  if (utils.isEmpty(x) || utils.isEmpty(y)) {\n    return false\n  }\n  return x.hi <= y.lo\n}\n\n/**\n * Alias for {@link relational.lessEqualThan}\n * @function\n */\nrelational.leq = relational.lessEqualThan\n\n/**\n * Checks if the interval `x` is greater or equal than `y` i.e.\n * if all the values of `x` are greater or equal to the right endpoint of `y`\n * @param {Interval} x\n * @param {Interval} y\n * @return {boolean}\n */\nrelational.greaterEqualThan = function (x, y) {\n  if (utils.isEmpty(x) || utils.isEmpty(y)) {\n    return false\n  }\n  return x.lo >= y.hi\n}\n\n/**\n * Alias for {@link relational.greaterEqualThan}\n * @function\n */\nrelational.geq = relational.greaterEqualThan\n\nmodule.exports = relational\n","'use strict'\n\nvar Parser = require('mr-parser').Parser\nvar Interpreter = require('./Interpreter')\nvar extend = require('extend')\n\nfunction CodeGenerator (options, defs) {\n  this.statements = []\n  this.defs = defs || {}\n  this.interpreter = new Interpreter(this, options)\n}\n\nCodeGenerator.prototype.setDefs = function (defs) {\n  this.defs = extend(this.defs, defs)\n  return this\n}\n\nCodeGenerator.prototype.compile = function (namespace) {\n  if (!namespace || !(typeof namespace === 'object' || typeof namespace === 'function')) {\n    throw TypeError('namespace must be an object')\n  }\n  if (typeof namespace.factory !== 'function') {\n    throw TypeError('namespace.factory must be a function')\n  }\n\n  // definitions available in the function\n  // each property under this.defs is mapped to local variables\n  // e.g\n  //\n  //  function (defs) {\n  //    var ns = defs['ns']\n  //    // code generated for the expression\n  //  }\n  this.defs.ns = namespace\n  this.defs.$$mathCodegen = {\n    getProperty: function (symbol, scope, ns) {\n      if (symbol in scope) {\n        return scope[symbol]\n      }\n      if (symbol in ns) {\n        return ns[symbol]\n      }\n      throw SyntaxError('symbol \"' + symbol + '\" is undefined')\n    },\n    functionProxy: function (fn, name) {\n      if (typeof fn !== 'function') {\n        throw SyntaxError('symbol \"' + name + '\" must be a function')\n      }\n      return fn\n    }\n  }\n  this.defs.$$processScope = this.defs.$$processScope || function () {}\n\n  var defsCode = Object.keys(this.defs).map(function (name) {\n    return 'var ' + name + ' = defs[\"' + name + '\"]'\n  })\n\n  // statement join\n  if (!this.statements.length) {\n    throw Error('there are no statements saved in this generator, make sure you parse an expression before compiling it')\n  }\n\n  // last statement is always a return statement\n  this.statements[this.statements.length - 1] = 'return ' + this.statements[this.statements.length - 1]\n\n  var code = this.statements.join(';')\n  var factoryCode = defsCode.join('\\n') + '\\n' + [\n    'return {',\n    '  eval: function (scope) {',\n    '    scope = scope || {}',\n    '    $$processScope(scope)',\n    '    ' + code,\n    '  },',\n    \"  code: '\" + code + \"'\",\n    '}'\n  ].join('\\n')\n\n  /* eslint-disable */\n  var factory = new Function('defs', factoryCode)\n  return factory(this.defs)\n  /* eslint-enable */\n}\n\nCodeGenerator.prototype.parse = function (code) {\n  var self = this\n  var program = new Parser().parse(code)\n  this.statements = program.blocks.map(function (statement) {\n    return self.interpreter.next(statement)\n  })\n  return this\n}\n\nmodule.exports = CodeGenerator\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","// Created by mauricio on 4/27/15.\n\n'use strict'\nvar utils = require('./operations/utils')\nvar round = require('./round-math')\n\nmodule.exports = Interval\n\n/**\n * Constructor for closed intervals representing all the values inside (and\n * including) `lo` and `hi` e.g. `[lo, hi]`\n *\n * NOTE: If `lo > hi` then the constructor will return an empty interval\n *\n * @class\n * @mixes arithmetic\n * @mixes algebra\n * @mixes misc\n * @mixes relational\n * @mixes trigonometric\n * @mixes utils\n * @mixes constants\n *\n * @see #bounded\n * @see #boundedSingleton\n *\n * @example\n * new Interval(1, 2)  // {lo: 1, hi: 2}\n * @example\n * // function invocation without new is also supported\n * Interval(1, 2)   // {lo: 1, hi: 2}\n * @example\n * // with numbers\n * Interval(1, 2)   // {lo: 1, hi: 2}\n * Interval(1)      // {lo: 1, hi: 1}\n * @example\n * // with an array\n * Interval([1, 2]) // {lo: 1, hi: 2}\n * @example\n * // singleton intervals\n * var x = Interval(1)\n * var y = Interval(2)\n * Interval(x, y)   // {lo: 1, hi: 2}\n * @example\n * // when `lo > hi` it returns an empty interval\n * Interval(2, 1)   // {lo: Infinity, hi: -Infinity}\n * @example\n * // bounded interval\n * Interval().bounded(1, 2)  // { lo: 0.9999999999999999, hi: 2.0000000000000004 }\n * @example\n * // singleton bounded interval\n * Interval().boundedSingleton(2)  // {lo: 1.9999999999999998, hi: 2.0000000000000004}\n * @example\n * // half open and open intervals\n * // [2, 3]\n * Interval(2, 3)                     // {lo: 2, hi: 3}\n * // (2, 3]\n * Interval().halfOpenLeft(2, 3)      // {lo: 2.0000000000000004, hi: 3}\n * // [2, 3)\n * Interval().halfOpenRight(2, 3)     // {lo: 2, hi: 2.9999999999999996}\n * // (2, 3)\n * Interval().open(2, 3)              // {lo: 2.0000000000000004, hi: 2.9999999999999996}\n *\n * @param {number|array|Interval} lo The left endpoint of the interval if it's a\n * number or a singleton interval, if it's an array then an interval will be\n * built out of the elements of the array\n * @param {number|Interval} [hi] The right endpoint of the interval if it's a\n * number or a singleton interval, if omitted then a singleton interval will be\n * built out of `lo`\n */\nfunction Interval (lo, hi) {\n  if (!(this instanceof Interval)) {\n    return new Interval(lo, hi)\n  }\n\n  if (typeof lo !== 'undefined' && typeof hi !== 'undefined') {\n    // possible cases:\n    // - Interval(1, 2)\n    // - Interval(Interval(1, 1), Interval(2, 2))     // singletons are required\n    if (utils.isInterval(lo)) {\n      if (!utils.isSingleton(lo)) {\n        throw new TypeError('Interval: interval `lo` must be a singleton')\n      }\n      lo = lo.lo\n    }\n    if (utils.isInterval(hi)) {\n      if (!utils.isSingleton(hi)) {\n        throw TypeError('Interval: interval `hi` must be a singleton')\n      }\n      hi = hi.hi\n    }\n  } else if (typeof lo !== 'undefined') {\n    // possible cases:\n    // - Interval(1)\n    // - Interval([1, 2])\n    // - Interval([Interval(1, 1), Interval(2, 2)])\n    if (Array.isArray(lo)) {\n      return Interval(lo[0], lo[1])\n    }\n    return Interval(lo, lo)\n  } else {\n    // possible cases:\n    // - Interval()\n    lo = hi = 0\n  }\n\n  /**\n   * The left endpoint of the interval\n   * @type {number}\n   */\n  this.lo = undefined\n\n  /**\n   * The right endpoint of the interval\n   * @type {number}\n   */\n  this.hi = undefined\n\n  this.assign(lo, hi)\n}\n\nInterval.factory = Interval\n\n/**\n * Sets `this.lo` and `this.hi` to a single value `v`\n *\n * @param {number} v\n * @return {Interval} The calling interval i.e. `this`\n */\nInterval.prototype.singleton = function (v) {\n  return this.set(v, v)\n}\n\n/**\n * Sets new endpoints to this interval, the left endpoint is equal to the\n * previous IEEE floating point value of `lo` and the right endpoint\n * is equal to the next IEEE floating point\n * value of `hi`, it's assumed that `lo <= hi`\n * @example\n * var x = Interval().bounded(1, 2)\n * x.lo < 1 // true, x.lo === 0.9999999999999999\n * x.hi > 2 // true, x.hi === 2.0000000000000004\n * @example\n * // the correct representation of 1/3\n * var x = Interval().bounded(1/3, 1/3)\n * x.lo < 1/3 // true\n * x.hi > 1/3 // true\n * // however the floating point representation of 1/3 is less than the real 1/3\n * // therefore the left endpoint could be 1/3 instead of the previous value of\n * var next = Interval.round.safeNext\n * var x = Interval().set(1/3, next(1/3))\n * // x now represents 1/3 correctly\n * @param {number} lo\n * @param {number} hi\n * @return {Interval} The calling interval i.e. `this`\n */\nInterval.prototype.bounded = function (lo, hi) {\n  return this.set(round.prev(lo), round.next(hi))\n}\n\n/**\n * Equivalent to `Interval().bounded(v, v)`\n * @param {number} v\n * @return {Interval} The calling interval i.e. `this`\n */\nInterval.prototype.boundedSingleton = function (v) {\n  return this.bounded(v, v)\n}\n\n/**\n * Sets new endpoints for this interval, this method bypasses any\n * checks on the type of arguments\n *\n * @param {Number} lo The left endpoint of the interval\n * @param {Number} hi The right endpoint of the interval\n * @return {Interval} The calling interval\n */\nInterval.prototype.set = function (lo, hi) {\n  this.lo = lo\n  this.hi = hi\n  return this\n}\n\n/**\n * Sets new endpoints for this interval checking that both arguments exist\n * and that are valid numbers, additionally if `lo > hi` the interval is set to\n * an empty interval\n *\n * @param {Number} lo The left endpoint of the interval\n * @param {Number} hi The right endpoint of the interval\n * @return {Interval} The calling interval\n */\nInterval.prototype.assign = function (lo, hi) {\n  if (typeof lo !== 'number' || typeof hi !== 'number') {\n    throw TypeError('Interval#assign: arguments must be numbers')\n  }\n  if (isNaN(lo) || isNaN(hi) || lo > hi) {\n    return this.setEmpty()\n  }\n  return this.set(lo, hi)\n}\n\n/**\n * Sets the endpoints of this interval to `[∞, -∞]` effectively representing\n * no values\n * @return {Interval} The calling interval\n */\nInterval.prototype.setEmpty = function () {\n  return this.set(Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY)\n}\n\n/**\n * Sets the endpoints of this interval to `[-∞, ∞]` effectively representing all\n * the possible real values\n * @return {Interval} The calling interval\n */\nInterval.prototype.setWhole = function () {\n  return this.set(Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY)\n}\n\n/**\n * Sets the endpoints of this interval to the open interval `(lo, hi)`\n *\n * NOTE: `Interval.round.disable` has no effect on this method\n *\n * @example\n * // (2, 3)\n * Interval().open(2, 3)  // {lo: 2.0000000000000004, hi: 2.9999999999999996}\n * @param {number} lo\n * @param {number} hi\n * @return {Interval} The calling interval\n */\nInterval.prototype.open = function (lo, hi) {\n  return this.assign(round.safeNext(lo), round.safePrev(hi))\n}\n\n/**\n * Sets the endpoints of this interval to the half open interval `(lo, hi]`\n *\n * NOTE: `Interval.round.disable` has no effect on this method\n *\n * @example\n * // (2, 3]\n * Interval().halfOpenLeft(2, 3)  // {lo: 2.0000000000000004, hi: 3}\n * @param {number} lo\n * @param {number} hi\n * @return {Interval} The calling interval\n */\nInterval.prototype.halfOpenLeft = function (lo, hi) {\n  return this.assign(round.safeNext(lo), hi)\n}\n\n/**\n * Sets the endpoints of this interval to the half open interval `[lo, hi)`\n *\n * NOTE: `Interval.round.disable` has no effect on this method\n *\n * @example\n * // [2, 3)\n * Interval.halfOpenRight(2, 3)     // {lo: 2, hi: 2.9999999999999996}\n * @param {number} lo\n * @param {number} hi\n * @return {Interval} The calling interval\n */\nInterval.prototype.halfOpenRight = function (lo, hi) {\n  return this.assign(lo, round.safePrev(hi))\n}\n\n/**\n * Array representation of this interval\n * @return {array}\n */\nInterval.prototype.toArray = function () {\n  return [this.lo, this.hi]\n}\n\n/**\n * Creates an interval equal to the calling one\n * @see Interval.clone\n * @name Interval.prototype\n * @example\n * var x = Interval(2, 3)\n * x.clone()    // Interval(2, 3)\n * @return {Interval}\n */\nInterval.prototype.clone = function () {\n  return Interval().set(this.lo, this.hi)\n}\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","'use strict'\nvar extend = require('extend')\n\nvar types = {\n  ArrayNode: require('./node/ArrayNode'),\n  AssignmentNode: require('./node/AssignmentNode'),\n  ConditionalNode: require('./node/ConditionalNode'),\n  ConstantNode: require('./node/ConstantNode'),\n  FunctionNode: require('./node/FunctionNode'),\n  OperatorNode: require('./node/OperatorNode'),\n  SymbolNode: require('./node/SymbolNode'),\n  UnaryNode: require('./node/UnaryNode')\n}\n\nvar Interpreter = function (owner, options) {\n  this.owner = owner\n  this.options = extend({\n    factory: 'ns.factory',\n    raw: false,\n    rawArrayExpressionElements: true,\n    rawCallExpressionElements: false\n  }, options)\n}\n\nextend(Interpreter.prototype, types)\n\n// main method which decides which expression to call\nInterpreter.prototype.next = function (node) {\n  if (!(node.type in this)) {\n    throw new TypeError('the node type ' + node.type + ' is not implemented')\n  }\n  return this[node.type](node)\n}\n\nInterpreter.prototype.rawify = function (test, fn) {\n  var oldRaw = this.options.raw\n  if (test) {\n    this.options.raw = true\n  }\n  fn()\n  if (test) {\n    this.options.raw = oldRaw\n  }\n}\n\nmodule.exports = Interpreter\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","function Node () {\n\n}\n\nNode.prototype.type = 'Node'\n\nmodule.exports = Node\n","/**\n * Created by mauricio on 5/10/15.\n */\n'use strict'\nvar Interval = require('../interval')\nvar rmath = require('../round-math')\nvar utils = require('./utils')\nvar constants = require('../constants')\n\nvar division = {\n  /**\n   * Division between intervals when `y` doesn't contain zero\n   * @param {Interval} x\n   * @param {Interval} y\n   * @returns {Interval}\n   */\n  nonZero: function (x, y) {\n    var xl = x.lo\n    var xh = x.hi\n    var yl = y.lo\n    var yh = y.hi\n    var out = Interval()\n    if (xh < 0) {\n      if (yh < 0) {\n        out.lo = rmath.divLo(xh, yl)\n        out.hi = rmath.divHi(xl, yh)\n      } else {\n        out.lo = rmath.divLo(xl, yl)\n        out.hi = rmath.divHi(xh, yh)\n      }\n    } else if (xl < 0) {\n      if (yh < 0) {\n        out.lo = rmath.divLo(xh, yh)\n        out.hi = rmath.divHi(xl, yh)\n      } else {\n        out.lo = rmath.divLo(xl, yl)\n        out.hi = rmath.divHi(xh, yl)\n      }\n    } else {\n      if (yh < 0) {\n        out.lo = rmath.divLo(xh, yh)\n        out.hi = rmath.divHi(xl, yl)\n      } else {\n        out.lo = rmath.divLo(xl, yh)\n        out.hi = rmath.divHi(xh, yl)\n      }\n    }\n    return out\n  },\n\n  /**\n   * Division between an interval and a positive constant\n   * @param {Interval} x\n   * @param {number} v\n   * @returns {Interval}\n   */\n  positive: function (x, v) {\n    if (x.lo === 0 && x.hi === 0) {\n      return x\n    }\n\n    if (utils.zeroIn(x)) {\n      // mixed considering zero in both ends\n      return constants.WHOLE\n    }\n\n    if (x.hi < 0) {\n      // negative / v\n      return Interval(\n        Number.NEGATIVE_INFINITY,\n        rmath.divHi(x.hi, v)\n      )\n    } else {\n      // positive / v\n      return Interval(\n        rmath.divLo(x.lo, v),\n        Number.POSITIVE_INFINITY\n      )\n    }\n  },\n\n  /**\n   * Division between an interval and a negative constant\n   * @param {Interval} x\n   * @param {number} v\n   * @returns {Interval}\n   */\n  negative: function (x, v) {\n    if (x.lo === 0 && x.hi === 0) {\n      return x\n    }\n\n    if (utils.zeroIn(x)) {\n      // mixed considering zero in both ends\n      return constants.WHOLE\n    }\n\n    if (x.hi < 0) {\n      // negative / v\n      return Interval(\n        rmath.divLo(x.hi, v),\n        Number.POSITIVE_INFINITY\n      )\n    } else {\n      // positive / v\n      return Interval(\n        Number.NEGATIVE_INFINITY,\n        rmath.divHi(x.lo, v)\n      )\n    }\n  },\n\n  /**\n   * Division between an interval and zero\n   * @param {Interval} x\n   * @returns {Interval}\n   */\n  zero: function (x) {\n    if (x.lo === 0 && x.hi === 0) {\n      return x\n    }\n    return constants.WHOLE\n  }\n}\n\nmodule.exports = division\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991,\n    MAX_INTEGER = 1.7976931348623157e+308,\n    NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a\n * [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792) that affects\n * Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value)) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8 which returns 'object' for typed array and weak map constructors,\n  // and PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length,\n *  else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/6.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = isFunction(value.valueOf) ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\nvar d3 = window.d3\nvar extend = require('extend')\nvar utils = require('./utils')\nvar clamp = require('clamp')\nvar globals = require('./globals')\nvar builtInEvaluator = require('./helpers/eval').builtIn\n\nmodule.exports = function (config) {\n  config = extend({\n    xLine: false,\n    yLine: false,\n    renderer: function (x, y, index) {\n      return '(' + x.toFixed(3) + ', ' + y.toFixed(3) + ')'\n    },\n    owner: null\n  }, config)\n\n  var MARGIN = 20\n\n  var line = d3.svg.line()\n    .x(function (d) { return d[0] })\n    .y(function (d) { return d[1] })\n\n  function lineGenerator (el, data) {\n    return el.append('path')\n      .datum(data)\n      .attr('stroke', 'grey')\n      .attr('stroke-dasharray', '5,5')\n      .attr('opacity', 0.5)\n      .attr('d', line)\n  }\n\n  function tip (selection) {\n    var innerSelection = selection.selectAll('g.tip')\n      .data(function (d) { return [d] })\n\n    // enter\n    innerSelection\n      .enter().append('g')\n      .attr('class', 'tip')\n      .attr('clip-path', 'url(#function-plot-clip-' + config.owner.id + ')')\n\n    // enter + update = enter inner tip\n    tip.el = innerSelection.selectAll('g.inner-tip')\n      .data(function (d) {\n        // debugger\n        return [d]\n      })\n\n    tip.el.enter()\n      .append('g')\n      .attr('class', 'inner-tip')\n      .style('display', 'none')\n      .each(function () {\n        var el = d3.select(this)\n        lineGenerator(el, [[0, -config.owner.meta.height - MARGIN], [0, config.owner.meta.height + MARGIN]])\n          .attr('class', 'tip-x-line')\n          .style('display', 'none')\n        lineGenerator(el, [[-config.owner.meta.width - MARGIN, 0], [config.owner.meta.width + MARGIN, 0]])\n          .attr('class', 'tip-y-line')\n          .style('display', 'none')\n        el.append('circle').attr('r', 3)\n        el.append('text').attr('transform', 'translate(5,-5)')\n      })\n\n    // enter + update\n    selection.selectAll('.tip-x-line').style('display', config.xLine ? null : 'none')\n    selection.selectAll('.tip-y-line').style('display', config.yLine ? null : 'none')\n  }\n\n  tip.move = function (coordinates) {\n    var i\n    var minDist = Infinity\n    var closestIndex = -1\n    var x, y\n\n    var el = tip.el\n    var inf = 1e8\n    var meta = config.owner.meta\n    var data = el.data()[0].data\n    var xScale = meta.xScale\n    var yScale = meta.yScale\n    var width = meta.width\n    var height = meta.height\n\n    var x0 = coordinates.x\n    var y0 = coordinates.y\n\n    for (i = 0; i < data.length; i += 1) {\n      // skipTip=true skips the evaluation in the datum\n      // implicit equations cannot be evaluated with a single point\n      // parametric equations cannot be evaluated with a single point\n      // polar equations cannot be evaluated with a single point\n      if (data[i].skipTip || data[i].fnType !== 'linear') {\n        continue\n      }\n\n      var range = data[i].range || [-inf, inf]\n      var fn\n      if (x0 > range[0] - globals.TIP_X_EPS && x0 < range[1] + globals.TIP_X_EPS) {\n        try {\n          var candidateY\n          if (data[i].sampler === 'mathjs') {\n            fn = data[i].scope[data[i].fn]\n            candidateY = fn(x0)\n          } else {\n            candidateY = builtInEvaluator(data[i], 'fn', { x: x0 })\n          }\n        } catch (e) { }\n        if (utils.isValidNumber(candidateY)) {\n          var tDist = Math.abs(candidateY - y0)\n          if (tDist < minDist) {\n            minDist = tDist\n            closestIndex = i\n          }\n        }\n      }\n    }\n\n    if (closestIndex !== -1) {\n      x = x0\n      if (data[closestIndex].range) {\n        x = Math.max(x, data[closestIndex].range[0])\n        x = Math.min(x, data[closestIndex].range[1])\n      }\n      if (data[closestIndex].sampler === 'mathjs') {\n        fn = data[closestIndex].scope[data[closestIndex].fn]\n        y = fn(x)\n      } else {\n        y = builtInEvaluator(data[closestIndex], 'fn', { x: x })\n      }\n\n      tip.show()\n      config.owner.emit('tip:update', x, y, closestIndex)\n      var clampX = clamp(x, xScale.invert(-MARGIN), xScale.invert(width + MARGIN))\n      var clampY = clamp(y, yScale.invert(height + MARGIN), yScale.invert(-MARGIN))\n      var color = utils.color(data[closestIndex], closestIndex)\n      el.attr('transform', 'translate(' + xScale(clampX) + ',' + yScale(clampY) + ')')\n      el.select('circle')\n        .attr('fill', color)\n      el.select('text')\n        .attr('fill', color)\n        .text(config.renderer(x, y, closestIndex))\n    } else {\n      tip.hide()\n    }\n  }\n\n  tip.show = function () {\n    this.el.style('display', null)\n  }\n\n  tip.hide = function () {\n    this.el.style('display', 'none')\n  }\n  // generations of getters/setters\n  Object.keys(config).forEach(function (option) {\n    utils.getterSetter.call(tip, config, option)\n  })\n\n  return tip\n}\n","'use strict'\nvar clamp = require('clamp')\nvar linspace = require('linspace')\n\nvar utils = require('../utils')\nvar evaluate = require('../helpers/eval').builtIn\n\nfunction checkAsymptote (d0, d1, meta, sign, level) {\n  if (!level) {\n    return {\n      asymptote: true,\n      d0: d0,\n      d1: d1\n    }\n  }\n  var i\n  var n = 10\n  var x0 = d0[0]\n  var x1 = d1[0]\n  var samples = linspace(x0, x1, n)\n  var oldY, oldX\n  for (i = 0; i < n; i += 1) {\n    var x = samples[i]\n    var y = evaluate(meta, 'fn', { x: x })\n\n    if (i) {\n      var deltaY = y - oldY\n      var newSign = utils.sgn(deltaY)\n      if (newSign === sign) {\n        return checkAsymptote([oldX, oldY], [x, y], meta, sign, level - 1)\n      }\n    }\n    oldY = y\n    oldX = x\n  }\n  return {\n    asymptote: false,\n    d0: d0,\n    d1: d1\n  }\n}\n\n/**\n * Splits the evaluated data into arrays, each array is separated by any asymptote found\n * through the process of detecting slope/sign brusque changes\n * @param chart\n * @param data\n * @returns {Array[]}\n */\nfunction split (chart, meta, data) {\n  var i, oldSign\n  var deltaX\n  var st = []\n  var sets = []\n  var domain = chart.meta.yScale.domain()\n  var zoomScale = chart.meta.zoomBehavior.scale()\n  var yMin = domain[0]\n  var yMax = domain[1]\n\n  if (data[0]) {\n    st.push(data[0])\n    deltaX = data[1][0] - data[0][0]\n    oldSign = utils.sgn(data[1][1] - data[0][1])\n  }\n\n  function updateY (d) {\n    d[1] = Math.min(d[1], yMax)\n    d[1] = Math.max(d[1], yMin)\n    return d\n  }\n\n  i = 1\n  while (i < data.length) {\n    var y0 = data[i - 1][1]\n    var y1 = data[i][1]\n    var deltaY = y1 - y0\n    var newSign = utils.sgn(deltaY)\n    // make a new set if:\n    if (// utils.sgn(y1) * utils.sgn(y0) < 0 && // there's a change in the evaluated values sign\n      // there's a change in the slope sign\n      oldSign !== newSign &&\n      // the slope is bigger to some value (according to the current zoom scale)\n      Math.abs(deltaY / deltaX) > 1 / zoomScale) {\n      // retest this section again and determine if it's an asymptote\n      var check = checkAsymptote(data[i - 1], data[i], meta, newSign, 3)\n      if (check.asymptote) {\n        st.push(updateY(check.d0))\n        sets.push(st)\n        st = [updateY(check.d1)]\n      }\n    }\n    oldSign = newSign\n    st.push(data[i])\n    ++i\n  }\n\n  if (st.length) {\n    sets.push(st)\n  }\n\n  return sets\n}\n\nfunction linear (chart, meta, range, n) {\n  var allX = utils.space(chart, range, n)\n  var yDomain = chart.meta.yScale.domain()\n  var yDomainMargin = (yDomain[1] - yDomain[0])\n  var yMin = yDomain[0] - yDomainMargin * 1e5\n  var yMax = yDomain[1] + yDomainMargin * 1e5\n  var data = []\n  var i\n  for (i = 0; i < allX.length; i += 1) {\n    var x = allX[i]\n    var y = evaluate(meta, 'fn', { x: x })\n    if (utils.isValidNumber(x) && utils.isValidNumber(y)) {\n      data.push([x, clamp(y, yMin, yMax)])\n    }\n  }\n  data = split(chart, meta, data)\n  return data\n}\n\nfunction parametric (chart, meta, range, nSamples) {\n  // range is mapped to canvas coordinates from the input\n  // for parametric plots the range will tell the start/end points of the `t` param\n  var parametricRange = meta.range || [0, 2 * Math.PI]\n  var tCoords = utils.space(chart, parametricRange, nSamples)\n  var samples = []\n  for (var i = 0; i < tCoords.length; i += 1) {\n    var t = tCoords[i]\n    var x = evaluate(meta, 'x', { t: t })\n    var y = evaluate(meta, 'y', { t: t })\n    samples.push([x, y])\n  }\n  return [samples]\n}\n\nfunction polar (chart, meta, range, nSamples) {\n  // range is mapped to canvas coordinates from the input\n  // for polar plots the range will tell the start/end points of the `theta` param\n  var polarRange = meta.range || [-Math.PI, Math.PI]\n  var thetaSamples = utils.space(chart, polarRange, nSamples)\n  var samples = []\n  for (var i = 0; i < thetaSamples.length; i += 1) {\n    var theta = thetaSamples[i]\n    var r = evaluate(meta, 'r', { theta: theta })\n    var x = r * Math.cos(theta)\n    var y = r * Math.sin(theta)\n    samples.push([x, y])\n  }\n  return [samples]\n}\n\nfunction points (chart, meta, range, nSamples) {\n  return [meta.points]\n}\n\nfunction vector (chart, meta, range, nSamples) {\n  meta.offset = meta.offset || [0, 0]\n  return [[\n    meta.offset,\n    [meta.vector[0] + meta.offset[0], meta.vector[1] + meta.offset[1]]\n  ]]\n}\n\nvar sampler = function (chart, d, range, nSamples) {\n  var fnTypes = {\n    parametric: parametric,\n    polar: polar,\n    points: points,\n    vector: vector,\n    linear: linear\n  }\n  if (!(d.fnType in fnTypes)) {\n    throw Error(d.fnType + ' is not supported in the `builtIn` sampler')\n  }\n  return fnTypes[d.fnType].apply(null, arguments)\n}\n\nmodule.exports = sampler\nmodule.exports.split = split\n","var Node = require('./Node')\n\nfunction OperatorNode (op, args) {\n  this.op = op\n  this.args = args || []\n}\n\nOperatorNode.prototype = Object.create(Node.prototype)\n\nOperatorNode.prototype.type = 'OperatorNode'\n\nmodule.exports = OperatorNode\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","var Node = require('./Node')\n\nfunction ArrayNode (nodes) {\n  this.nodes = nodes\n}\n\nArrayNode.prototype = Object.create(Node.prototype)\n\nArrayNode.prototype.type = 'ArrayNode'\n\nmodule.exports = ArrayNode\n","/*\n * interval-arithmetic-eval\n *\n * Copyright (c) 2015 Mauricio Poppe\n * Licensed under the MIT license.\n */\n'use strict'\nmodule.exports = require('./lib/eval')\n"],"sourceRoot":""}