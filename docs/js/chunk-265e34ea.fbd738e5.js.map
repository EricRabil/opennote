{"version":3,"sources":["webpack:///./node_modules/mr-parser/lib/Lexer.js","webpack:///./node_modules/math-codegen/lib/node/ArrayNode.js","webpack:///./node_modules/function-plot/lib/helpers/derivative.js","webpack:///./node_modules/mr-parser/index.js","webpack:///./node_modules/function-plot/lib/helpers/index.js","webpack:///./node_modules/nextafter/nextafter.js","webpack:///./node_modules/mr-parser/lib/node/ConstantNode.js","webpack:///./node_modules/log10/index.js","webpack:///./node_modules/vkey/index.js","webpack:///./node_modules/interval-arithmetic/lib/polyfill.js","webpack:///./node_modules/mr-parser/lib/node/index.js","webpack:///./node_modules/mr-parser/lib/node/BlockNode.js","webpack:///./node_modules/mr-parser/lib/Parser.js","webpack:///./node_modules/function-plot/lib/index.js","webpack:///./node_modules/math-codegen/lib/node/ConditionalNode.js","webpack:///./node_modules/math-codegen/lib/node/SymbolNode.js","webpack:///./node_modules/interval-arithmetic/lib/operations/arithmetic.js","webpack:///./node_modules/key-pressed/index.js","webpack:///./node_modules/max-safe-integer/index.js","webpack:///./node_modules/built-in-math-eval/lib/adapter.js","webpack:///./node_modules/function-plot/lib/graph-types/polyline.js","webpack:///./node_modules/interval-arithmetic-eval/lib/eval.js","webpack:///./node_modules/interval-arithmetic-eval/lib/adapter.js","webpack:///./node_modules/function-plot/lib/evaluate.js","webpack:///./node_modules/function-plot/lib/helpers/secant.js","webpack:///./node_modules/mr-parser/lib/node/UnaryNode.js","webpack:///./node_modules/built-in-math-eval/lib/eval.js","webpack:///./node_modules/function-plot/lib/plugins/definite-integral.js","webpack:///./node_modules/keydown/index.js","webpack:///./node_modules/clamp/index.js","webpack:///./node_modules/function-plot/lib/helpers/eval.js","webpack:///./node_modules/mr-parser/lib/node/AssignmentNode.js","webpack:///./node_modules/math-codegen/lib/node/UnaryNode.js","webpack:///./node_modules/function-plot/lib/samplers/mathjs.js","webpack:///./node_modules/function-plot/lib/polyfills.js","webpack:///./node_modules/math-codegen/lib/node/AssignmentNode.js","webpack:///./node_modules/function-plot/lib/datum-defaults.js","webpack:///./node_modules/function-plot/lib/plugins/index.js","webpack:///./node_modules/function-plot/lib/graph-types/scatter.js","webpack:///./node_modules/math-codegen/lib/node/FunctionNode.js","webpack:///./node_modules/function-plot/lib/samplers/interval.js","webpack:///./node_modules/interval-arithmetic/index.js","webpack:///./node_modules/mr-parser/lib/token-type.js","webpack:///./node_modules/mr-parser/lib/node/FunctionNode.js","webpack:///./node_modules/function-plot/lib/plugins/zoom-box.js","webpack:///./node_modules/interval-arithmetic/lib/operations/misc.js","webpack:///./node_modules/interval-arithmetic/lib/operations/trigonometric.js","webpack:///./node_modules/math-codegen/index.js","webpack:///./node_modules/interval-arithmetic/lib/operations/utils.js","webpack:///./node_modules/function-plot/lib/globals.js","webpack:///./node_modules/integrate-adaptive-simpson/index.js","webpack:///./node_modules/built-in-math-eval/index.js","webpack:///./node_modules/function-plot/lib/graph-types/index.js","webpack:///./node_modules/interval-arithmetic/lib/constants.js","webpack:///./node_modules/mr-parser/lib/node/ConditionalNode.js","webpack:///./node_modules/math-codegen/lib/node/OperatorNode.js","webpack:///./node_modules/interval-arithmetic-eval/lib/policies.js","webpack:///./node_modules/linspace/index.js","webpack:///./node_modules/double-bits/double.js","webpack:///./node_modules/logspace/index.js","webpack:///./node_modules/mr-parser/lib/node/SymbolNode.js","webpack:///./node_modules/function-plot/lib/helpers/annotations.js","webpack:///./node_modules/function-plot/lib/graph-types/interval.js","webpack:///./node_modules/math-codegen/lib/misc/Operators.js","webpack:///./node_modules/math-codegen/lib/node/ConstantNode.js","webpack:///./node_modules/math-codegen/lib/misc/UnaryOperators.js","webpack:///./node_modules/is-safe-integer/index.js","webpack:///./node_modules/interval-arithmetic/lib/operations/algebra.js","webpack:///./node_modules/function-plot/lib/utils.js","webpack:///./node_modules/is-object/index.js","webpack:///./node_modules/interval-arithmetic/lib/round-math.js","webpack:///./node_modules/interval-arithmetic/lib/operations/relational.js","webpack:///./node_modules/math-codegen/lib/CodeGenerator.js","webpack:///./node_modules/xtend/mutable.js","webpack:///./node_modules/interval-arithmetic/lib/interval.js","webpack:///./node_modules/math-codegen/lib/Interpreter.js","webpack:///./node_modules/extend/index.js","webpack:///./node_modules/mr-parser/lib/node/Node.js","webpack:///./node_modules/interval-arithmetic/lib/operations/division.js","webpack:///./node_modules/lodash.range/index.js","webpack:///./node_modules/function-plot/lib/tip.js","webpack:///./node_modules/function-plot/lib/samplers/builtIn.js","webpack:///./node_modules/mr-parser/lib/node/OperatorNode.js","webpack:///./node_modules/mr-parser/lib/node/ArrayNode.js","webpack:///./node_modules/interval-arithmetic-eval/index.js"],"names":["tokenType","ESCAPES","'","DELIMITERS","isDigit","c","isIdentifier","isWhitespace","isDelimiter","str","isQuote","Lexer","prototype","throwError","message","index","this","error","Error","description","lex","text","tokens","length","peek","consume","c2","c3","push","type","DELIMITER","value","NUMBER","readNumber","STRING","readString","SYMBOL","readIdentifier","EOF","nth","charAt","current","number","escape","quote","string","hex","substring","match","String","fromCharCode","parseInt","replacement","module","exports","node","self","arr","rawify","options","rawArrayExpressionElements","nodes","map","el","next","arrString","join","raw","factory","d3","window","builtInEvaluator","builtIn","polyline","datumDefaults","chart","derivative","derivativeDatum","isHelper","skipTip","skipBoundsCheck","nSamples","graphType","computeLine","d","x0","Infinity","scope","m","x","y0","fn","checkAutoUpdate","updateOnMouseMove","$$mouseListener","on","selection","each","select","data","call","innerSelection","selectAll","enter","append","attr","exit","remove","Parser","nodeTypes","secant","helper","doubleBits","SMALLEST_DENORM","Math","pow","UINT_MAX","nextafter","y","isNaN","NaN","hi","lo","pack","Node","SUPPORTED_TYPES","ConstantNode","valueType","Object","create","log10","log","LOG10E","i","ua","navigator","userAgent","isOSX","test","isOpera","maybeFirefox","output","0","1","2","3","4","5","6","8","9","12","13","16","17","18","19","20","21","23","24","25","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","91","92","93","95","106","107","108","109","110","111","144","145","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","186","187","188","189","190","191","192","219","220","221","222","223","224","226","229","231","246","247","248","249","250","251","252","253","254","sinh","exp","cosh","tanh","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","FunctionNode","OperatorNode","SymbolNode","UnaryNode","blocks","lexer","first","arguments","e","shift","expect","isEOF","parse","program","assignment","end","left","ternary","name","predicate","logicalOR","truthy","falsy","logicalXOR","op","right","logicalAND","bitwiseOR","bitwiseXOR","bitwiseAND","relational","additive","multiplicative","unary","factorial","symbol","functionCall","symbolToken","params","array","token","parentheses","globals","graphTypes","events","extend","mousetip","helpers","annotations","cache","width","height","margin","zoomBehavior","xScale","yScale","line","svg","Chart","n","random","letter","floor","id","toString","substr","linkedGraphs","setUpEventListeners","build","internalVars","drawGraphWrapper","initializeAxes","integerFormat","format","scale","decimalFormat","tickFormat","isInteger","computeYScale","xDiff","xAxis","yAxis","xDomain","meta","axis","domain","xLimit","yDomain","yLimit","range","invert","tickSize","grid","orient","top","bottom","title","behavior","zoom","DEFAULT_WIDTH","DEFAULT_HEIGHT","root","target","getFontSize","buildTitle","buildLegend","buildCanvas","buildClip","buildAxis","buildAxisLabel","draw","tip","owner","canvas","buildZoomHelper","setUpPlugins","filter","Boolean","emit","event","translate","defs","markerId","canvasEnter","xLabel","yLabel","label","buildContent","listeners","document","setState","state","forEach","l","_zoomListenersCache","disableZoom","content","yOrigin","xOrigin","graphs","draggable","style","plugins","plugin","addLink","updateAxes","instance","syncOptions","programmaticZoom","transition","duration","tween","ix","interpolate","iy","t","max","mousemove","coordinates","move","mouseover","show","mouseout","hide","datum","renderer","toFixed","COLORS","all","mouse","graph","keys","args","Array","slice","localArgs","unshift","apply","eval","condition","trueExpr","falseExpr","Interval","rmath","utils","constants","division","arithmetic","addLo","addHi","subLo","subHi","sub","subtract","multiply","isEmpty","EMPTY","xl","xh","yl","yh","out","min","mulLo","mulHi","mul","divide","zeroIn","zero","negative","positive","nonZero","div","list","down","pressed","key","reset","code","keyup","keyCode","keydown","process","browser","addEventListener","math","a","TypeError","add","b","mod","res","nthRoot","inv","abs","isFinite","lessThan","lessEqualThan","greaterThan","greaterEqualThan","equal","strictlyEqual","notEqual","strictlyNotEqual","shiftRight","shiftLeft","unsignedRightShift","evaluate","clamp","plotLine","evaluatedData","console","debug","color","yRange","yMax","yMin","diff","area","y1","pathD","path","closed","fnType","CodeGenerator","processScope","k","isArray","expression","setDefs","$$processScope","compile","policies","ns","fmod","lt","leq","gt","geq","evalTypeFn","interval","mathjs","computeEndpoints","start","evalFn","sampler","MAX_ITERATIONS","DEFAULT_ITERATIONS","secantDefaults","computeSlope","x1","updateLine","hasOwnProperty","setFn","setMouseListener","secantObject","computeLines","secants","argument","integrateSimpson","toggle","cachedInstance","brush","kd","visible","wrapper","functionPlot","setBrushState","brushEl","inner","oldDisableZoom","sourceEvent","empty","extent","tol","maxdepth","_","Emitter","EventEmitter","vkey","emitter","clearPressed","ev","allPressed","samplers","generateEvaluator","samplerName","doCompile","compileIfPossible","property","hiddenProperty","hiddenCompiled","getCompiledExpression","variables","expr","UnaryOperators","SyntaxError","namedOperator","split","allX","space","yDomainMargin","isValidNumber","doc","proto","querySelector","err","method","native","selectors","Date","now","replace","result","Element","isObject","zoomBox","definiteIntegral","scatter","j","joined","hsl","brighter","functionProxy","rawCallExpressionElements","arg","rectEps","intervalArithmeticEval","interval1d","xCoords","samples","isWhole","prev","intervalsOverlap","scaledDx","smallRect","quadTree","sample","fulfills","midX","midY","east","west","north","south","interval2d","disableRounding","fnTypes","implicit","linear","round","clear","misc","expLo","expHi","logLo","logHi","ln","LOG_EXP_10","LOG_EXP_2","log2","hull","badX","badY","clone","intersection","union","difference","halfOpenLeft","halfOpenRight","wid","set","algebra","trigonometric","onlyInfinity","handleNegative","ceil","PI_TWICE_LOW","cos","rlo","rhi","pi2","PI_TWICE","PI_HIGH","PI","cosLo","cosHi","PI_LOW","sin","PI_HALF","tan","pi","PI_HALF_LOW","WHOLE","tanLo","tanHi","asin","PI_HALF_HIGH","asinLo","asinHi","acos","acosLo","acosHi","atan","atanLo","atanHi","sinhLo","sinhHi","coshLo","coshHi","tanhLo","tanhHi","hasValue","Globals","v","TIP_X_EPS","adsimp","f","fa","fm","fb","V0","depth","nanEncountered","h","f1","f2","sl","sr","s2","V1","V2","maxDepthCount","integrate","undefined","warn","mutate","piLow","piHigh","getter","defineProperty","get","enumerable","PI_TWICE_HIGH","setWhole","setEmpty","Operators","disable","enableRounding","enable","every","ranged","concat","Float64Array","DOUBLE_VIEW","UINT_VIEW","Uint32Array","buffer","hasTypedArrays","toDoubleLE","lowUintLE","highUintLE","toDoubleBE","lowUintBE","highUintBE","Buffer","toDouble","writeUInt32LE","readDoubleLE","lowUint","writeDoubleLE","readUInt32LE","highUint","sign","exponent","fraction","denormalized","linspace","parentSelection","xRange","hasX","minWidthHeight","clampRange","vLo","vHi","gLo","gHi","points","minY","maxY","yLo","yHi","moveX","viewportY","MAX_SAFE_INTEGER","isSafeInteger","val","yb","divHi","divLo","power","isSingleton","ONE","multiplicativeInverse","powLo","powHi","yp","yn","logspace","getterSetter","config","option","me","sgn","identity","safePrev","safeNext","toInteger","intLo","intHi","sinLo","sinHi","sqrtLo","sqrt","sqrtHi","EPS","assert","assertEps","almostEqual","toArray","assertIncludes","Interpreter","statements","interpreter","namespace","$$mathCodegen","getProperty","defsCode","factoryCode","Function","statement","source","isInterval","assign","singleton","bounded","boundedSingleton","open","types","oldRaw","hasOwn","toStr","gOPD","getOwnPropertyDescriptor","isPlainObject","obj","hasOwnConstructor","hasIsPrototypeOf","constructor","setProperty","configurable","newValue","writable","src","copy","copyIsArray","deep","INFINITY","MAX_INTEGER","NAN","funcTag","genTag","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","reIsUint","freeParseInt","baseProperty","object","objectProto","objectToString","nativeCeil","nativeMax","baseRange","step","fromRight","createRange","isIterateeCall","toFinite","getLength","isIndex","isArrayLike","eq","other","isLength","isFunction","tag","isObjectLike","isSymbol","toNumber","valueOf","isBinary","xLine","yLine","MARGIN","lineGenerator","minDist","closestIndex","inf","candidateY","tDist","clampX","clampY","checkAsymptote","d0","d1","level","asymptote","oldY","oldX","deltaY","newSign","oldSign","deltaX","st","sets","zoomScale","updateY","check","parametric","parametricRange","tCoords","polar","polarRange","thetaSamples","theta","r","vector","offset"],"mappings":"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","file":"js/chunk-265e34ea.fbd738e5.js","sourcesContent":["// token types\nvar tokenType = require('./token-type')\n\nvar ESCAPES = {\n  'n': '\\n',\n  'f': '\\f',\n  'r': '\\r',\n  't': '\\t',\n  'v': '\\v',\n  '\\'': '\\'',\n  '\"': '\"'\n}\n\nvar DELIMITERS = {\n  ',': true,\n  '(': true,\n  ')': true,\n  '[': true,\n  ']': true,\n  ';': true,\n\n  // unary\n  '~': true,\n\n  // factorial\n  '!': true,\n\n  // arithmetic operators\n  '+': true,\n  '-': true,\n  '*': true,\n  '/': true,\n  '%': true,\n  '^': true,\n  '**': true,     // python power like\n\n  // misc operators\n  '|': true,      // bitwise or\n  '&': true,      // bitwise and\n  '^|': true,     // bitwise xor\n  '=': true,\n  ':': true,\n  '?': true,\n\n  '||': true,      // logical or\n  '&&': true,      // logical and\n  'xor': true,     // logical xor\n\n  // relational\n  '==': true,\n  '!=': true,\n  '===': true,\n  '!==': true,\n  '<': true,\n  '>': true,\n  '>=': true,\n  '<=': true,\n\n  // shifts\n  '>>>': true,\n  '<<': true,\n  '>>': true\n}\n\n// helpers\n\nfunction isDigit (c) {\n  return c >= '0' && c <= '9'\n}\n\nfunction isIdentifier (c) {\n  return (c >= 'a' && c <= 'z') || (c >= 'A' && c <= 'Z') ||\n    c === '$' || c === '_'\n}\n\nfunction isWhitespace (c) {\n  return c === ' ' || c === '\\r' || c === '\\t' ||\n    c === '\\n' || c === '\\v' || c === '\\u00A0'\n}\n\nfunction isDelimiter (str) {\n  return DELIMITERS[str]\n}\n\nfunction isQuote (c) {\n  return c === '\\'' || c === '\"'\n}\n\n// lexer\n\nfunction Lexer () {}\n\nLexer.prototype.throwError = function (message, index) {\n  index = typeof index === 'undefined' ? this.index : index\n\n  var error = new Error(message + ' at index ' + index)\n  error.index = index\n  error.description = message\n  throw error\n}\n\nLexer.prototype.lex = function (text) {\n  this.text = text\n  this.index = 0\n  this.tokens = []\n\n  while (this.index < this.text.length) {\n    // skip whitespaces\n    while (isWhitespace(this.peek())) {\n      this.consume()\n    }\n    var c = this.peek()\n    var c2 = c + this.peek(1)\n    var c3 = c2 + this.peek(2)\n\n    // order\n    // - delimiter of 3 characters\n    // - delimiter of 2 characters\n    // - delimiter of 1 character\n    // - number\n    // - variables, functions and named operators\n    if (isDelimiter(c3)) {\n      this.tokens.push({\n        type: tokenType.DELIMITER,\n        value: c3\n      })\n      this.consume()\n      this.consume()\n      this.consume()\n    } else if (isDelimiter(c2)) {\n      this.tokens.push({\n        type: tokenType.DELIMITER,\n        value: c2\n      })\n      this.consume()\n      this.consume()\n    } else if (isDelimiter(c)) {\n      this.tokens.push({\n        type: tokenType.DELIMITER,\n        value: c\n      })\n      this.consume()\n    } else if (isDigit(c) ||\n        (c === '.' && isDigit(this.peek(1)))) {\n      this.tokens.push({\n        type: tokenType.NUMBER,\n        value: this.readNumber()\n      })\n    } else if (isQuote(c)) {\n      this.tokens.push({\n        type: tokenType.STRING,\n        value: this.readString()\n      })\n    } else if (isIdentifier(c)) {\n      this.tokens.push({\n        type: tokenType.SYMBOL,\n        value: this.readIdentifier()\n      })\n    } else {\n      this.throwError('unexpected character ' + c)\n    }\n  }\n\n  // end token\n  this.tokens.push({ type: tokenType.EOF })\n\n  return this.tokens\n}\n\nLexer.prototype.peek = function (nth) {\n  nth = nth || 0\n  if (this.index + nth >= this.text.length) {\n    return\n  }\n  return this.text.charAt(this.index + nth)\n}\n\nLexer.prototype.consume = function () {\n  var current = this.peek()\n  this.index += 1\n  return current\n}\n\nLexer.prototype.readNumber = function () {\n  var number = ''\n\n  if (this.peek() === '.') {\n    number += this.consume()\n    if (!isDigit(this.peek())) {\n      this.throwError('number expected')\n    }\n  } else {\n    while (isDigit(this.peek())) {\n      number += this.consume()\n    }\n    if (this.peek() === '.') {\n      number += this.consume()\n    }\n  }\n\n  // numbers after the decimal dot\n  while (isDigit(this.peek())) {\n    number += this.consume()\n  }\n\n  // exponent if available\n  if ((this.peek() === 'e' || this.peek() === 'E')) {\n    number += this.consume()\n\n    if (!(isDigit(this.peek()) ||\n        this.peek() === '+' ||\n        this.peek() === '-')) {\n      this.throwError()\n    }\n\n    if (this.peek() === '+' || this.peek() === '-') {\n      number += this.consume()\n    }\n\n    if (!isDigit(this.peek())) {\n      this.throwError('number expected')\n    }\n\n    while (isDigit(this.peek())) {\n      number += this.consume()\n    }\n  }\n  return number\n}\n\nLexer.prototype.readIdentifier = function () {\n  var text = ''\n  while (isIdentifier(this.peek()) || isDigit(this.peek())) {\n    text += this.consume()\n  }\n  return text\n}\n\nLexer.prototype.readString = function () {\n  var quote = this.consume()\n  var string = ''\n  var escape\n  while (true) {\n    var c = this.consume()\n    if (!c) {\n      this.throwError('string is not closed')\n    }\n    if (escape) {\n      if (c === 'u') {\n        var hex = this.text.substring(this.index + 1, this.index + 5)\n        if (!hex.match(/[\\da-f]{4}/i)) {\n          this.throwError('invalid unicode escape')\n        }\n        this.index += 4\n        string += String.fromCharCode(parseInt(hex, 16))\n      } else {\n        var replacement = ESCAPES[c]\n        if (replacement) {\n          string += replacement\n        } else {\n          string += c\n        }\n      }\n      escape = false\n    } else if (c === quote) {\n      break\n    } else if (c === '\\\\') {\n      escape = true\n    } else {\n      string += c\n    }\n  }\n  return string\n}\n\nmodule.exports = Lexer\n","'use strict'\nmodule.exports = function (node) {\n  var self = this\n  var arr = []\n  this.rawify(this.options.rawArrayExpressionElements, function () {\n    arr = node.nodes.map(function (el) {\n      return self.next(el)\n    })\n  })\n  var arrString = '[' + arr.join(',') + ']'\n\n  if (this.options.raw) {\n    return arrString\n  }\n  return this.options.factory + '(' + arrString + ')'\n}\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\nvar d3 = window.d3\nvar builtInEvaluator = require('./eval').builtIn\nvar polyline = require('../graph-types/polyline')\nvar datumDefaults = require('../datum-defaults')\n\nmodule.exports = function (chart) {\n  var derivativeDatum = datumDefaults({\n    isHelper: true,\n    skipTip: true,\n    skipBoundsCheck: true,\n    nSamples: 2,\n    graphType: 'polyline'\n  })\n  var derivative\n\n  function computeLine (d) {\n    if (!d.derivative) {\n      return []\n    }\n    var x0 = typeof d.derivative.x0 === 'number' ? d.derivative.x0 : Infinity\n    derivativeDatum.index = d.index\n    derivativeDatum.scope = {\n      m: builtInEvaluator(d.derivative, 'fn', { x: x0 }),\n      x0: x0,\n      y0: builtInEvaluator(d, 'fn', { x: x0 })\n    }\n    derivativeDatum.fn = 'm * (x - x0) + y0'\n    return [derivativeDatum]\n  }\n\n  function checkAutoUpdate (d) {\n    var self = this\n    if (!d.derivative) {\n      return\n    }\n    if (d.derivative.updateOnMouseMove && !d.derivative.$$mouseListener) {\n      d.derivative.$$mouseListener = function (x0) {\n        // update initial value to be the position of the mouse\n        // scope's x0 will be updated on the next call to `derivative(self)`\n        if (d.derivative) {\n          d.derivative.x0 = x0\n        }\n        // trigger update (selection = self)\n        derivative(self)\n      }\n      // if d.derivative is destroyed and recreated, the tip:update event\n      // will be fired on the new d.derivative :)\n      chart.on('tip:update', d.derivative.$$mouseListener)\n    }\n  }\n\n  derivative = function (selection) {\n    selection.each(function (d) {\n      var el = d3.select(this)\n      var data = computeLine.call(selection, d)\n      checkAutoUpdate.call(selection, d)\n      var innerSelection = el.selectAll('g.derivative')\n        .data(data)\n\n      innerSelection.enter()\n        .append('g')\n        .attr('class', 'derivative')\n\n      // enter + update\n      innerSelection\n        .call(polyline(chart))\n\n      // update\n      // change the opacity of the line\n      innerSelection.selectAll('path')\n        .attr('opacity', 0.5)\n\n      innerSelection.exit().remove()\n    })\n  }\n\n  return derivative\n}\n","/*\n * mr-parser\n *\n * Copyright (c) 2015 Mauricio Poppe\n * Licensed under the MIT license.\n */\n\n'use strict'\n\nmodule.exports.Lexer = require('./lib/Lexer')\nmodule.exports.Parser = require('./lib/Parser')\nmodule.exports.nodeTypes = require('./lib/node/')\n","/**\n * Created by mauricio on 4/8/15.\n */\n'use strict'\nvar d3 = window.d3\nvar derivative = require('./derivative')\nvar secant = require('./secant')\n\nmodule.exports = function (chart) {\n  function helper (selection) {\n    selection.each(function () {\n      var el = d3.select(this)\n      el.call(derivative(chart))\n      el.call(secant(chart))\n    })\n  }\n\n  return helper\n}\n","\"use strict\"\n\nvar doubleBits = require(\"double-bits\")\n\nvar SMALLEST_DENORM = Math.pow(2, -1074)\nvar UINT_MAX = (-1)>>>0\n\nmodule.exports = nextafter\n\nfunction nextafter(x, y) {\n  if(isNaN(x) || isNaN(y)) {\n    return NaN\n  }\n  if(x === y) {\n    return x\n  }\n  if(x === 0) {\n    if(y < 0) {\n      return -SMALLEST_DENORM\n    } else {\n      return SMALLEST_DENORM\n    }\n  }\n  var hi = doubleBits.hi(x)\n  var lo = doubleBits.lo(x)\n  if((y > x) === (x > 0)) {\n    if(lo === UINT_MAX) {\n      hi += 1\n      lo = 0\n    } else {\n      lo += 1\n    }\n  } else {\n    if(lo === 0) {\n      lo = UINT_MAX\n      hi -= 1\n    } else {\n      lo -= 1\n    }\n  }\n  return doubleBits.pack(lo, hi)\n}","var Node = require('./Node')\n\nvar SUPPORTED_TYPES = {\n  number: true,\n  string: true,\n  'boolean': true,\n  'undefined': true,\n  'null': true\n}\n\nfunction ConstantNode (value, type) {\n  if (!SUPPORTED_TYPES[type]) {\n    throw Error('unsupported type \\'' + type + '\\'')\n  }\n  this.value = value\n  this.valueType = type\n}\n\nConstantNode.prototype = Object.create(Node.prototype)\n\nConstantNode.prototype.type = 'ConstantNode'\n\nmodule.exports = ConstantNode\n","'use strict';\nmodule.exports = Math.log10 || function (x) {\n\treturn Math.log(x) * Math.LOG10E;\n};\n","var ua = typeof window !== 'undefined' ? window.navigator.userAgent : ''\n  , isOSX = /OS X/.test(ua)\n  , isOpera = /Opera/.test(ua)\n  , maybeFirefox = !/like Gecko/.test(ua) && !isOpera\n\nvar i, output = module.exports = {\n  0:  isOSX ? '<menu>' : '<UNK>'\n, 1:  '<mouse 1>'\n, 2:  '<mouse 2>'\n, 3:  '<break>'\n, 4:  '<mouse 3>'\n, 5:  '<mouse 4>'\n, 6:  '<mouse 5>'\n, 8:  '<backspace>'\n, 9:  '<tab>'\n, 12: '<clear>'\n, 13: '<enter>'\n, 16: '<shift>'\n, 17: '<control>'\n, 18: '<alt>'\n, 19: '<pause>'\n, 20: '<caps-lock>'\n, 21: '<ime-hangul>'\n, 23: '<ime-junja>'\n, 24: '<ime-final>'\n, 25: '<ime-kanji>'\n, 27: '<escape>'\n, 28: '<ime-convert>'\n, 29: '<ime-nonconvert>'\n, 30: '<ime-accept>'\n, 31: '<ime-mode-change>'\n, 27: '<escape>'\n, 32: '<space>'\n, 33: '<page-up>'\n, 34: '<page-down>'\n, 35: '<end>'\n, 36: '<home>'\n, 37: '<left>'\n, 38: '<up>'\n, 39: '<right>'\n, 40: '<down>'\n, 41: '<select>'\n, 42: '<print>'\n, 43: '<execute>'\n, 44: '<snapshot>'\n, 45: '<insert>'\n, 46: '<delete>'\n, 47: '<help>'\n, 91: '<meta>'  // meta-left -- no one handles left and right properly, so we coerce into one.\n, 92: '<meta>'  // meta-right\n, 93: isOSX ? '<meta>' : '<menu>'      // chrome,opera,safari all report this for meta-right (osx mbp).\n, 95: '<sleep>'\n, 106: '<num-*>'\n, 107: '<num-+>'\n, 108: '<num-enter>'\n, 109: '<num-->'\n, 110: '<num-.>'\n, 111: '<num-/>'\n, 144: '<num-lock>'\n, 145: '<scroll-lock>'\n, 160: '<shift-left>'\n, 161: '<shift-right>'\n, 162: '<control-left>'\n, 163: '<control-right>'\n, 164: '<alt-left>'\n, 165: '<alt-right>'\n, 166: '<browser-back>'\n, 167: '<browser-forward>'\n, 168: '<browser-refresh>'\n, 169: '<browser-stop>'\n, 170: '<browser-search>'\n, 171: '<browser-favorites>'\n, 172: '<browser-home>'\n\n  // ff/osx reports '<volume-mute>' for '-'\n, 173: isOSX && maybeFirefox ? '-' : '<volume-mute>'\n, 174: '<volume-down>'\n, 175: '<volume-up>'\n, 176: '<next-track>'\n, 177: '<prev-track>'\n, 178: '<stop>'\n, 179: '<play-pause>'\n, 180: '<launch-mail>'\n, 181: '<launch-media-select>'\n, 182: '<launch-app 1>'\n, 183: '<launch-app 2>'\n, 186: ';'\n, 187: '='\n, 188: ','\n, 189: '-'\n, 190: '.'\n, 191: '/'\n, 192: '`'\n, 219: '['\n, 220: '\\\\'\n, 221: ']'\n, 222: \"'\"\n, 223: '<meta>'\n, 224: '<meta>'       // firefox reports meta here.\n, 226: '<alt-gr>'\n, 229: '<ime-process>'\n, 231: isOpera ? '`' : '<unicode>'\n, 246: '<attention>'\n, 247: '<crsel>'\n, 248: '<exsel>'\n, 249: '<erase-eof>'\n, 250: '<play>'\n, 251: '<zoom>'\n, 252: '<no-name>'\n, 253: '<pa-1>'\n, 254: '<clear>'\n}\n\nfor(i = 58; i < 65; ++i) {\n  output[i] = String.fromCharCode(i)\n}\n\n// 0-9\nfor(i = 48; i < 58; ++i) {\n  output[i] = (i - 48)+''\n}\n\n// A-Z\nfor(i = 65; i < 91; ++i) {\n  output[i] = String.fromCharCode(i)\n}\n\n// num0-9\nfor(i = 96; i < 106; ++i) {\n  output[i] = '<num-'+(i - 96)+'>'\n}\n\n// F1-F24\nfor(i = 112; i < 136; ++i) {\n  output[i] = 'F'+(i-111)\n}\n","/**\n * Created by mauricio on 5/11/15.\n */\n'use strict'\n\n// hyperbolic functions only present on es6\nMath.sinh = Math.sinh || function (x) {\n  var y = Math.exp(x)\n  return (y - 1 / y) / 2\n}\n\nMath.cosh = Math.cosh || function (x) {\n  var y = Math.exp(x)\n  return (y + 1 / y) / 2\n}\n\nMath.tanh = Math.tanh || function (x) {\n  if (x === Number.POSITIVE_INFINITY) {\n    return 1\n  } else if (x === Number.NEGATIVE_INFINITY) {\n    return -1\n  } else {\n    var y = Math.exp(2 * x)\n    return (y - 1) / (y + 1)\n  }\n}\n","module.exports = {\n  ArrayNode: require('./ArrayNode'),\n  AssignmentNode: require('./AssignmentNode'),\n  BlockNode: require('./BlockNode'),\n  ConditionalNode: require('./ConditionalNode'),\n  ConstantNode: require('./ConstantNode'),\n  FunctionNode: require('./FunctionNode'),\n  Node: require('./Node'),\n  OperatorNode: require('./OperatorNode'),\n  SymbolNode: require('./SymbolNode'),\n  UnaryNode: require('./UnaryNode')\n}\n","var Node = require('./Node')\n\nfunction BlockNode (blocks) {\n  this.blocks = blocks\n}\n\nBlockNode.prototype = Object.create(Node.prototype)\n\nBlockNode.prototype.type = 'BlockNode'\n\nmodule.exports = BlockNode\n","var tokenType = require('./token-type')\n\nvar Lexer = require('./Lexer')\nvar ConstantNode = require('./node/ConstantNode')\nvar OperatorNode = require('./node/OperatorNode')\nvar UnaryNode = require('./node/UnaryNode')\nvar SymbolNode = require('./node/SymbolNode')\nvar FunctionNode = require('./node/FunctionNode')\nvar ArrayNode = require('./node/ArrayNode')\nvar ConditionalNode = require('./node/ConditionalNode')\nvar AssignmentNode = require('./node/AssignmentNode')\nvar BlockNode = require('./node/BlockNode')\n\n/**\n * Grammar DSL:\n *\n * program          : block (; block)*\n *\n * block            : assignment\n *\n * assignment       : ternary\n *                  | symbol `=` assignment\n *\n * ternary          : logicalOR\n *                  | logicalOR `?` ternary `:` ternary\n *\n * logicalOR        : logicalXOR\n *                  | logicalXOR (`||`,`or`) logicalOR\n *\n * logicalXOR       : logicalAND\n *                  : logicalAND `xor` logicalXOR\n *\n * logicalAND       : bitwiseOR\n *                  | bitwiseOR (`&&`,`and`) logicalAND\n *\n * bitwiseOR        : bitwiseXOR\n *                  | bitwiseXOR `|` bitwiseOR\n *\n * bitwiseXOR       : bitwiseAND\n *                  | bitwiseAND `^|` bitwiseXOR\n *\n * bitwiseAND       : relational\n *                  | relational `&` bitwiseAND\n *\n * relational       : shift\n *                  | shift (`!=` | `==` | `>` | '<' | '<=' |'>=') shift)\n *\n * shift            : additive\n *                  | additive (`>>` | `<<` | `>>>`) shift\n *\n * additive         : multiplicative\n *                  | multiplicative (`+` | `-`) additive\n *\n * multiplicative   : unary\n *                  | unary (`*` | `/` | `%`) unary\n *                  | unary symbol\n *\n * unary            : pow\n *                  | (`-` | `+` | `~`) unary\n *\n * pow              : factorial\n *                  | factorial (`^`, '**') unary\n *\n * factorial        : symbol\n *                  | symbol (`!`)\n *\n * symbol           : symbolToken\n *                  | symbolToken functionCall\n *                  | string\n *\n * functionCall     : `(` `)`\n *                  | `(` ternary (, ternary)* `)`\n *\n * string           : `'` (character)* `'`\n *                  : `\"` (character)* `\"`\n *                  | array\n *\n * array            : `[` `]`\n *                  | `[` assignment (, assignment)* `]`\n *                  | number\n *\n * number           : number-token\n *                  | parentheses\n *\n * parentheses      : `(` assignment `)`\n *                  : end\n *\n * end              : NULL\n *\n * @param {[type]} lexer [description]\n */\nfunction Parser () {\n  this.lexer = new Lexer()\n  this.tokens = null\n}\n\nParser.prototype.current = function () {\n  return this.tokens[0]\n}\n\nParser.prototype.next = function () {\n  return this.tokens[1]\n}\n\nParser.prototype.peek = function () {\n  if (this.tokens.length) {\n    var first = this.tokens[0]\n    for (var i = 0; i < arguments.length; i += 1) {\n      if (first.value === arguments[i]) {\n        return true\n      }\n    }\n  }\n}\n\nParser.prototype.consume = function (e) {\n  return this.tokens.shift()\n}\n\nParser.prototype.expect = function (e) {\n  if (!this.peek(e)) {\n    throw Error('expected ' + e)\n  }\n  return this.consume()\n}\n\nParser.prototype.isEOF = function () {\n  return this.current().type === tokenType.EOF\n}\n\nParser.prototype.parse = function (text) {\n  this.tokens = this.lexer.lex(text)\n  return this.program()\n}\n\nParser.prototype.program = function () {\n  var blocks = []\n  while (!this.isEOF()) {\n    blocks.push(this.assignment())\n    if (this.peek(';')) {\n      this.consume()\n    }\n  }\n  this.end()\n  return new BlockNode(blocks)\n}\n\nParser.prototype.assignment = function () {\n  var left = this.ternary()\n  if (left instanceof SymbolNode && this.peek('=')) {\n    this.consume()\n    return new AssignmentNode(left.name, this.assignment())\n  }\n  return left\n}\n\nParser.prototype.ternary = function () {\n  var predicate = this.logicalOR()\n  if (this.peek('?')) {\n    this.consume()\n    var truthy = this.ternary()\n    this.expect(':')\n    var falsy = this.ternary()\n    return new ConditionalNode(predicate, truthy, falsy)\n  }\n  return predicate\n}\n\nParser.prototype.logicalOR = function () {\n  var left = this.logicalXOR()\n  if (this.peek('||')) {\n    var op = this.consume()\n    var right = this.logicalOR()\n    return new OperatorNode(op.value, [left, right])\n  }\n  return left\n}\n\nParser.prototype.logicalXOR = function () {\n  var left = this.logicalAND()\n  if (this.current().value === 'xor') {\n    var op = this.consume()\n    var right = this.logicalXOR()\n    return new OperatorNode(op.value, [left, right])\n  }\n  return left\n}\n\nParser.prototype.logicalAND = function () {\n  var left = this.bitwiseOR()\n  if (this.peek('&&')) {\n    var op = this.consume()\n    var right = this.logicalAND()\n    return new OperatorNode(op.value, [left, right])\n  }\n  return left\n}\n\nParser.prototype.bitwiseOR = function () {\n  var left = this.bitwiseXOR()\n  if (this.peek('|')) {\n    var op = this.consume()\n    var right = this.bitwiseOR()\n    return new OperatorNode(op.value, [left, right])\n  }\n  return left\n}\n\nParser.prototype.bitwiseXOR = function () {\n  var left = this.bitwiseAND()\n  if (this.peek('^|')) {\n    var op = this.consume()\n    var right = this.bitwiseXOR()\n    return new OperatorNode(op.value, [left, right])\n  }\n  return left\n}\n\nParser.prototype.bitwiseAND = function () {\n  var left = this.relational()\n  if (this.peek('&')) {\n    var op = this.consume()\n    var right = this.bitwiseAND()\n    return new OperatorNode(op.value, [left, right])\n  }\n  return left\n}\n\nParser.prototype.relational = function () {\n  var left = this.shift()\n  if (this.peek('==', '===', '!=', '!==', '>=', '<=', '>', '<')) {\n    var op = this.consume()\n    var right = this.shift()\n    return new OperatorNode(op.value, [left, right])\n  }\n  return left\n}\n\nParser.prototype.shift = function () {\n  var left = this.additive()\n  if (this.peek('>>', '<<', '>>>')) {\n    var op = this.consume()\n    var right = this.shift()\n    return new OperatorNode(op.value, [left, right])\n  }\n  return left\n}\n\nParser.prototype.additive = function () {\n  var left = this.multiplicative()\n  while (this.peek('+', '-')) {\n    var op = this.consume()\n    left = new OperatorNode(op.value, [left, this.multiplicative()])\n  }\n  return left\n}\n\nParser.prototype.multiplicative = function () {\n  var op, right\n  var left = this.unary()\n  while (this.peek('*', '/', '%')) {\n    op = this.consume()\n    left = new OperatorNode(op.value, [left, this.unary()])\n  }\n\n  // implicit multiplication\n  // - 2 x\n  // - 2(x)\n  // - (2)2\n  if (this.current().type === tokenType.SYMBOL ||\n      this.peek('(') ||\n      (!(left.type instanceof ConstantNode) && this.current().type === tokenType.NUMBER)\n      ) {\n    right = this.multiplicative()\n    return new OperatorNode('*', [left, right])\n  }\n\n  return left\n}\n\nParser.prototype.unary = function () {\n  if (this.peek('-', '+', '~')) {\n    var op = this.consume()\n    var right = this.unary()\n    return new UnaryNode(op.value, right)\n  }\n  return this.pow()\n}\n\nParser.prototype.pow = function () {\n  var left = this.factorial()\n  if (this.peek('^', '**')) {\n    var op = this.consume()\n    var right = this.unary()\n    return new OperatorNode(op.value, [left, right])\n  }\n  return left\n}\n\nParser.prototype.factorial = function () {\n  var left = this.symbol()\n  if (this.peek('!')) {\n    var op = this.consume()\n    return new OperatorNode(op.value, [left])\n  }\n  return left\n}\n\nParser.prototype.symbol = function () {\n  var current = this.current()\n  if (current.type === tokenType.SYMBOL) {\n    var symbol = this.consume()\n    var node = this.functionCall(symbol)\n    return node\n  }\n  return this.string()\n}\n\nParser.prototype.functionCall = function (symbolToken) {\n  var name = symbolToken.value\n  if (this.peek('(')) {\n    this.consume()\n    var params = []\n    while (!this.peek(')') && !this.isEOF()) {\n      params.push(this.assignment())\n      if (this.peek(',')) {\n        this.consume()\n      }\n    }\n    this.expect(')')\n    return new FunctionNode(name, params)\n  }\n  return new SymbolNode(name)\n}\n\nParser.prototype.string = function () {\n  if (this.current().type === tokenType.STRING) {\n    return new ConstantNode(this.consume().value, 'string')\n  }\n  return this.array()\n}\n\nParser.prototype.array = function () {\n  if (this.peek('[')) {\n    this.consume()\n    var params = []\n    while (!this.peek(']') && !this.isEOF()) {\n      params.push(this.assignment())\n      if (this.peek(',')) {\n        this.consume()\n      }\n    }\n    this.expect(']')\n    return new ArrayNode(params)\n  }\n  return this.number()\n}\n\nParser.prototype.number = function () {\n  var token = this.current()\n  if (token.type === tokenType.NUMBER) {\n    return new ConstantNode(this.consume().value, 'number')\n  }\n  return this.parentheses()\n}\n\nParser.prototype.parentheses = function () {\n  var token = this.current()\n  if (token.value === '(') {\n    this.consume()\n    var left = this.assignment()\n    this.expect(')')\n    return left\n  }\n  return this.end()\n}\n\nParser.prototype.end = function () {\n  var token = this.current()\n  if (token.type !== tokenType.EOF) {\n    throw Error('unexpected end of expression')\n  }\n}\n\nmodule.exports = Parser\n","/*\n * function-plot\n *\n * Copyright (c) 2015 Mauricio Poppe\n * Licensed under the MIT license.\n */\n'use strict'\nrequire('./polyfills')\n\nvar d3 = window.d3\n\nvar events = require('events')\nvar extend = require('extend')\n\nvar mousetip = require('./tip')\nvar helpers = require('./helpers/')\nvar annotations = require('./helpers/annotations')\nvar datumDefaults = require('./datum-defaults')\n\nvar globals\nvar graphTypes\nvar cache = []\n\nmodule.exports = function (options) {\n  options = options || {}\n  options.data = options.data || []\n\n  // globals\n  var width, height\n  var margin\n  var zoomBehavior\n  var xScale, yScale\n  var line = d3.svg.line()\n    .x(function (d) { return xScale(d[0]) })\n    .y(function (d) { return yScale(d[1]) })\n\n  function Chart () {\n    var n = Math.random()\n    var letter = String.fromCharCode(Math.floor(n * 26) + 97)\n    this.id = options.id = letter + n.toString(16).substr(2)\n    this.linkedGraphs = [this]\n    this.options = options\n    cache[this.id] = this\n    this.setUpEventListeners()\n  }\n\n  Chart.prototype = Object.create(events.prototype)\n\n  /**\n   * Rebuilds the entire graph from scratch recomputing\n   *\n   * - the inner width/height\n   * - scales/axes\n   *\n   * After this is done it does a complete redraw of all the datums,\n   * if only the datums need to be redrawn call `instance.draw()` instead\n   *\n   * @returns {Chart}\n   */\n  Chart.prototype.build = function () {\n    this.internalVars()\n    this.drawGraphWrapper()\n    return this\n  }\n\n  Chart.prototype.initializeAxes = function () {\n    var integerFormat = d3.format('s')\n    var format = function (scale) {\n      return function (d) {\n        var decimalFormat = scale.tickFormat(10)\n        var isInteger = d === +d && d === (d | 0)\n        // integers: d3.format('s'), see https://github.com/mbostock/d3/wiki/Formatting\n        // decimals: default d3.scale.linear() formatting see\n        //    https://github.com/mbostock/d3/blob/master/src/svg/axis.js#L29\n        return isInteger ? integerFormat(d) : decimalFormat(d)\n      }\n    }\n\n    function computeYScale (xScale) {\n      // assumes that xScale is a linear scale\n      var xDiff = xScale[1] - xScale[0]\n      return height * xDiff / width\n    }\n\n    options.xAxis = options.xAxis || {}\n    options.xAxis.type = options.xAxis.type || 'linear'\n\n    options.yAxis = options.yAxis || {}\n    options.yAxis.type = options.yAxis.type || 'linear'\n\n    var xDomain = this.meta.xDomain = (function (axis) {\n      if (axis.domain) {\n        return axis.domain\n      }\n      if (axis.type === 'linear') {\n        var xLimit = 12\n        return [-xLimit / 2, xLimit / 2]\n      } else if (axis.type === 'log') {\n        return [1, 10]\n      }\n      throw Error('axis type ' + axis.type + ' unsupported')\n    })(options.xAxis)\n\n    var yDomain = this.meta.yDomain = (function (axis) {\n      if (axis.domain) {\n        return axis.domain\n      }\n      var yLimit = computeYScale(xDomain)\n      if (axis.type === 'linear') {\n        return [-yLimit / 2, yLimit / 2]\n      } else if (axis.type === 'log') {\n        return [1, 10]\n      }\n      throw Error('axis type ' + axis.type + ' unsupported')\n    })(options.yAxis)\n\n    if (xDomain[0] >= xDomain[1]) {\n      throw Error('the pair defining the x-domain is inverted')\n    }\n    if (yDomain[0] >= yDomain[1]) {\n      throw Error('the pair defining the y-domain is inverted')\n    }\n\n    xScale = this.meta.xScale = d3.scale[options.xAxis.type]()\n      .domain(xDomain)\n      .range(options.xAxis.invert ? [width, 0] : [0, width])\n    yScale = this.meta.yScale = d3.scale[options.yAxis.type]()\n      .domain(yDomain)\n      .range(options.yAxis.invert ? [0, height] : [height, 0])\n    this.meta.xAxis = d3.svg.axis()\n      .scale(xScale)\n      .tickSize(options.grid ? -height : 0)\n      .tickFormat(format(xScale))\n      .orient('bottom')\n    this.meta.yAxis = d3.svg.axis()\n      .scale(yScale)\n      .tickSize(options.grid ? -width : 0)\n      .tickFormat(format(yScale))\n      .orient('left')\n  }\n\n  Chart.prototype.internalVars = function () {\n    // measurements and other derived data\n    this.meta = {}\n\n    margin = this.meta.margin = { left: 30, right: 30, top: 20, bottom: 20 }\n    // margin = this.meta.margin = {left: 0, right: 0, top: 20, bottom: 20}\n    // if there's a title make the top margin bigger\n    if (options.title) {\n      this.meta.margin.top = 40\n    }\n\n    zoomBehavior = this.meta.zoomBehavior = d3.behavior.zoom()\n\n    // inner width/height\n    width = this.meta.width = (options.width || globals.DEFAULT_WIDTH) -\n      margin.left - margin.right\n    height = this.meta.height = (options.height || globals.DEFAULT_HEIGHT) -\n      margin.top - margin.bottom\n\n    this.initializeAxes()\n  }\n\n  Chart.prototype.drawGraphWrapper = function () {\n    var root = this.root = d3.select(options.target).selectAll('svg')\n      .data([options])\n\n    // enter\n    this.root.enter = root.enter()\n      .append('svg')\n      .attr('class', 'function-plot')\n      .attr('font-size', this.getFontSize())\n\n    // merge\n    root\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom)\n\n    this.buildTitle()\n    this.buildLegend()\n    this.buildCanvas()\n    this.buildClip()\n    this.buildAxis()\n    this.buildAxisLabel()\n\n    // draw each datum after the wrapper was set up\n    this.draw()\n\n    // helper to detect the closest fn to the cursor's current abscissa\n    var tip = this.tip = mousetip(extend(options.tip, { owner: this }))\n    this.canvas\n      .call(tip)\n\n    this.buildZoomHelper()\n    this.setUpPlugins()\n  }\n\n  Chart.prototype.buildTitle = function () {\n    // join\n    var selection = this.root.selectAll('text.title')\n      .data(function (d) {\n        return [d.title].filter(Boolean)\n      })\n\n    // enter\n    selection.enter()\n      .append('text')\n      .attr('class', 'title')\n      .attr('y', margin.top / 2)\n      .attr('x', margin.left + width / 2)\n      .attr('font-size', 25)\n      .attr('text-anchor', 'middle')\n      .attr('alignment-baseline', 'middle')\n      .text(options.title)\n\n    // exit\n    selection.exit().remove()\n  }\n\n  Chart.prototype.buildLegend = function () {\n    // enter\n    this.root.enter\n      .append('text')\n      .attr('class', 'top-right-legend')\n      .attr('text-anchor', 'end')\n\n    // update + enter\n    this.root.select('.top-right-legend')\n      .attr('y', margin.top / 2)\n      .attr('x', width + margin.left)\n  }\n\n  Chart.prototype.buildCanvas = function () {\n    var self = this\n\n    this.meta.zoomBehavior\n      .x(xScale)\n      .y(yScale)\n      .on('zoom', function onZoom () {\n        self.emit('all:zoom', d3.event.translate, d3.event.scale)\n      })\n\n    // enter\n    var canvas = this.canvas = this.root\n      .selectAll('.canvas')\n      .data(function (d) { return [d] })\n\n    this.canvas.enter = canvas.enter()\n      .append('g')\n      .attr('class', 'canvas')\n\n    // enter + update\n  }\n\n  Chart.prototype.buildClip = function () {\n    // (so that the functions don't overflow on zoom or drag)\n    var id = this.id\n    var defs = this.canvas.enter.append('defs')\n    defs.append('clipPath')\n      .attr('id', 'function-plot-clip-' + id)\n      .append('rect')\n      .attr('class', 'clip static-clip')\n\n    // enter + update\n    this.canvas.selectAll('.clip')\n      .attr('width', width)\n      .attr('height', height)\n\n    // marker clip (for vectors)\n    this.markerId = this.id + '-marker'\n    defs.append('clipPath')\n      .append('marker')\n      .attr('id', this.markerId)\n      .attr('viewBox', '0 -5 10 10')\n      .attr('refX', 10)\n      .attr('markerWidth', 5)\n      .attr('markerHeight', 5)\n      .attr('orient', 'auto')\n      .append('svg:path')\n      .attr('d', 'M0,-5L10,0L0,5L0,0')\n      .attr('stroke-width', '0px')\n      .attr('fill-opacity', 1)\n      .attr('fill', '#777')\n  }\n\n  Chart.prototype.buildAxis = function () {\n    // axis creation\n    var canvasEnter = this.canvas.enter\n    canvasEnter.append('g')\n      .attr('class', 'x axis')\n    canvasEnter.append('g')\n      .attr('class', 'y axis')\n\n    // update\n    this.canvas.select('.x.axis')\n      .attr('transform', 'translate(0,' + height + ')')\n      .call(this.meta.xAxis)\n    this.canvas.select('.y.axis')\n      .call(this.meta.yAxis)\n  }\n\n  Chart.prototype.buildAxisLabel = function () {\n    // axis labeling\n    var xLabel, yLabel\n    var canvas = this.canvas\n\n    xLabel = canvas.selectAll('text.x.axis-label')\n      .data(function (d) {\n        return [d.xAxis.label].filter(Boolean)\n      })\n    xLabel.enter()\n      .append('text')\n      .attr('class', 'x axis-label')\n      .attr('text-anchor', 'end')\n    xLabel\n      .attr('x', width)\n      .attr('y', height - 6)\n      .text(function (d) { return d })\n    xLabel.exit().remove()\n\n    yLabel = canvas.selectAll('text.y.axis-label')\n      .data(function (d) {\n        return [d.yAxis.label].filter(Boolean)\n      })\n    yLabel.enter()\n      .append('text')\n      .attr('class', 'y axis-label')\n      .attr('y', 6)\n      .attr('dy', '.75em')\n      .attr('text-anchor', 'end')\n      .attr('transform', 'rotate(-90)')\n    yLabel\n      .text(function (d) { return d })\n    yLabel.exit().remove()\n  }\n\n  /**\n   * @private\n   *\n   * Draws each of the datums stored in data.options, to do a full\n   * redraw call `instance.draw()`\n   */\n  Chart.prototype.buildContent = function () {\n    var self = this\n    var canvas = this.canvas\n\n    canvas\n      .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\n      .call(zoomBehavior)\n      .each(function () {\n        var el = d3.select(this)\n        // make a copy of all the listeners available to be removed/added later\n        var listeners = [\n          'mousedown',\n          'touchstart',\n          ('onwheel' in document\n            ? 'wheel' : 'ononmousewheel' in document\n              ? 'mousewheel'\n              : 'MozMousePixelScroll')\n        ].map(function (d) { return d + '.zoom' })\n        if (!el._zoomListenersCache) {\n          listeners.forEach(function (l) {\n            el['_' + l] = el.on(l)\n          })\n          el._zoomListenersCache = true\n        }\n        function setState (state) {\n          listeners.forEach(function (l) {\n            state ? el.on(l, el['_' + l]) : el.on(l, null)\n          })\n        }\n        setState(!options.disableZoom)\n      })\n\n    var content = this.content = canvas.selectAll(':scope > g.content')\n      .data(function (d) { return [d] })\n\n    // g tag clipped to hold the data\n    content.enter()\n      .append('g')\n      .attr('clip-path', 'url(#function-plot-clip-' + this.id + ')')\n      .attr('class', 'content')\n\n    // helper line, x = 0\n    if (options.xAxis.type === 'linear') {\n      var yOrigin = content.selectAll(':scope > path.y.origin')\n        .data([ [[0, yScale.domain()[0]], [0, yScale.domain()[1]]] ])\n      yOrigin.enter()\n        .append('path')\n        .attr('class', 'y origin')\n        .attr('stroke', 'black')\n        .attr('opacity', 0.2)\n      yOrigin.attr('d', line)\n    }\n\n    // helper line y = 0\n    if (options.yAxis.type === 'linear') {\n      var xOrigin = content.selectAll(':scope > path.x.origin')\n        .data([ [[xScale.domain()[0], 0], [xScale.domain()[1], 0]] ])\n      xOrigin.enter()\n        .append('path')\n        .attr('class', 'x origin')\n        .attr('stroke', 'black')\n        .attr('opacity', 0.2)\n      xOrigin.attr('d', line)\n    }\n\n    // annotations\n    content\n      .call(annotations({ owner: self }))\n\n    // content construction\n    // - join options.data to <g class='graph'> elements\n    // - for each datum determine the sampler to use\n    var graphs = content.selectAll(':scope > g.graph')\n      .data(function (d) {\n        return d.data.map(datumDefaults)\n      })\n\n    // enter\n    graphs\n      .enter()\n      .append('g')\n      .attr('class', 'graph')\n\n    // enter + update\n    graphs\n      .each(function (d, index) {\n        // additional options needed in the graph-types/helpers\n        d.index = index\n\n        d3.select(this)\n          .call(graphTypes[d.graphType](self))\n        d3.select(this)\n          .call(helpers(self))\n      })\n  }\n\n  Chart.prototype.buildZoomHelper = function () {\n    // dummy rect (detects the zoom + drag)\n    var self = this\n\n    // enter\n    this.draggable = this.canvas.enter\n      .append('rect')\n      .attr('class', 'zoom-and-drag')\n      .style('fill', 'none')\n      .style('pointer-events', 'all')\n\n    // update\n    this.canvas.select('.zoom-and-drag')\n      .attr('width', width)\n      .attr('height', height)\n      .on('mouseover', function () {\n        self.emit('all:mouseover')\n      })\n      .on('mouseout', function () {\n        self.emit('all:mouseout')\n      })\n      .on('mousemove', function () {\n        self.emit('all:mousemove')\n      })\n  }\n\n  Chart.prototype.setUpPlugins = function () {\n    var plugins = options.plugins || []\n    var self = this\n    plugins.forEach(function (plugin) {\n      plugin(self)\n    })\n  }\n\n  Chart.prototype.addLink = function () {\n    for (var i = 0; i < arguments.length; i += 1) {\n      this.linkedGraphs.push(arguments[i])\n    }\n  }\n\n  Chart.prototype.updateAxes = function () {\n    var instance = this\n    var canvas = instance.canvas\n    canvas.select('.x.axis').call(instance.meta.xAxis)\n    canvas.select('.y.axis').call(instance.meta.yAxis)\n\n    // updates the style of the axes\n    canvas.selectAll('.axis path, .axis line')\n      .attr('fill', 'none')\n      .attr('stroke', 'black')\n      .attr('shape-rendering', 'crispedges')\n      .attr('opacity', 0.1)\n  }\n\n  Chart.prototype.syncOptions = function () {\n    // update the original options yDomain and xDomain\n    this.options.xAxis.domain = this.meta.xScale.domain()\n    this.options.yAxis.domain = this.meta.yScale.domain()\n  }\n\n  Chart.prototype.programmaticZoom = function (xDomain, yDomain) {\n    var instance = this\n    d3.transition()\n      .duration(750)\n      .tween('zoom', function () {\n        var ix = d3.interpolate(xScale.domain(), xDomain)\n        var iy = d3.interpolate(yScale.domain(), yDomain)\n        return function (t) {\n          zoomBehavior\n            .x(xScale.domain(ix(t)))\n            .y(yScale.domain(iy(t)))\n          instance.draw()\n        }\n      })\n      .each('end', function () {\n        instance.emit('programmatic-zoom')\n      })\n  }\n\n  Chart.prototype.getFontSize = function () {\n    return Math.max(Math.max(width, height) / 50, 8)\n  }\n\n  Chart.prototype.draw = function () {\n    var instance = this\n    instance.emit('before:draw')\n    instance.syncOptions()\n    instance.updateAxes()\n    instance.buildContent()\n    instance.emit('after:draw')\n  }\n\n  Chart.prototype.setUpEventListeners = function () {\n    var instance = this\n\n    var events = {\n      mousemove: function (coordinates) {\n        instance.tip.move(coordinates)\n      },\n\n      mouseover: function () {\n        instance.tip.show()\n      },\n\n      mouseout: function () {\n        instance.tip.hide()\n      },\n\n      zoom: function (translate, scale) {\n        zoomBehavior\n          .translate(translate)\n          .scale(scale)\n      },\n\n      'tip:update': function (x, y, index) {\n        var meta = instance.root.datum().data[index]\n        var title = meta.title || ''\n        var format = meta.renderer || function (x, y) {\n          return x.toFixed(3) + ', ' + y.toFixed(3)\n        }\n\n        var text = []\n        title && text.push(title)\n        text.push(format(x, y))\n\n        instance.root.select('.top-right-legend')\n          .attr('fill', globals.COLORS[index])\n          .text(text.join(' '))\n      }\n\n    }\n\n    var all = {\n      mousemove: function () {\n        var mouse = d3.mouse(instance.root.select('rect.zoom-and-drag').node())\n        var coordinates = {\n          x: xScale.invert(mouse[0]),\n          y: yScale.invert(mouse[1])\n        }\n        instance.linkedGraphs.forEach(function (graph) {\n          graph.emit('before:mousemove', coordinates)\n          graph.emit('mousemove', coordinates)\n        })\n      },\n\n      zoom: function (translate, scale) {\n        instance.linkedGraphs.forEach(function (graph, i) {\n          graph.emit('zoom', translate, scale)\n          graph.draw()\n        })\n\n        // emit the position of the mouse to all the registered graphs\n        instance.emit('all:mousemove')\n      }\n\n    }\n\n    Object.keys(events).forEach(function (e) {\n      instance.on(e, events[e])\n      // create an event for each event existing on `events` in the form 'all:' event\n      // e.g. all:mouseover all:mouseout\n      // the objective is that all the linked graphs receive the same event as the current graph\n      !all[e] && instance.on('all:' + e, function () {\n        var args = Array.prototype.slice.call(arguments)\n        instance.linkedGraphs.forEach(function (graph) {\n          var localArgs = args.slice()\n          localArgs.unshift(e)\n          graph.emit.apply(graph, localArgs)\n        })\n      })\n    })\n\n    Object.keys(all).forEach(function (e) {\n      instance.on('all:' + e, all[e])\n    })\n  }\n\n  var instance = cache[options.id]\n  if (!instance) {\n    instance = new Chart()\n  }\n  return instance.build()\n}\nglobals = module.exports.globals = require('./globals')\ngraphTypes = module.exports.graphTypes = require('./graph-types/')\nmodule.exports.plugins = require('./plugins/')\nmodule.exports.eval = require('./helpers/eval')\n","'use strict'\n\nmodule.exports = function (node) {\n  var condition = '!!(' + this.next(node.condition) + ')'\n  var trueExpr = this.next(node.trueExpr)\n  var falseExpr = this.next(node.falseExpr)\n  return '(' + condition + ' ? (' + trueExpr + ') : (' + falseExpr + ') )'\n}\n","'use strict'\n\nmodule.exports = function (node) {\n  var id = node.name\n  return '$$mathCodegen.getProperty(\"' + id + '\", scope, ns)'\n}\n","// Created by mauricio on 5/10/15.\n\n'use strict'\nvar Interval = require('../interval')\nvar rmath = require('../round-math')\nvar utils = require('./utils')\nvar constants = require('../constants')\nvar division = require('./division')\n\n/**\n * @mixin arithmetic\n */\nvar arithmetic = {}\n\n/**\n * Adds two intervals\n * @example\n * Interval.add(\n *   Interval(0, 1),\n *   Interval(1, 2),\n * )   // Interval(prev(1), next(3))\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\narithmetic.add = function (x, y) {\n  return Interval(\n    rmath.addLo(x.lo, y.lo),\n    rmath.addHi(x.hi, y.hi)\n  )\n}\n\n/**\n * Subtracts two intervals\n * @example\n * Interval.subtract(\n *   Interval(0, 1),\n *   Interval(1, 2),\n * )   // Interval(prev(-2), next(0))\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\narithmetic.subtract = function (x, y) {\n  return Interval(\n    rmath.subLo(x.lo, y.hi),\n    rmath.subHi(x.hi, y.lo)\n  )\n}\n\n/**\n * Alias for {@link arithmetic.subtract}\n * @function\n */\narithmetic.sub = arithmetic.subtract\n\n/**\n * Multiplies two intervals, an explanation of all the possible cases ca\n * be found on [Interval Arithmetic: from Principles to Implementation - T. Hickey, Q. Ju, M.H. van Emden](http://fab.cba.mit.edu/classes/S62.12/docs/Hickey_interval.pdf)\n * @example\n * Interval.multiply(\n *  Interval(1, 2),\n *  Interval(2, 3)\n * ) // Interval(prev(2), next(6))\n * @example\n * Interval.multiply(\n *  Interval(1, Infinity),\n *  Interval(4, 6)\n * ) // Interval(prev(4), Infinity)\n * @example\n * Interval.multiply(\n *  Interval(1, 2),\n *  Interval(-3, -2)\n * ) // Interval(prev(-6), next(-2))\n * @example\n * Interval.multiply(\n *  Interval(1, 2),\n *  Interval(-2, 3)\n * ) // Interval(prev(-4), next(6))\n * @example\n * Interval.multiply(\n *  Interval(-2, -1),\n *  Interval(-3, -2)\n * ) // Interval(prev(2), next(6))\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\narithmetic.multiply = function (x, y) {\n  if (utils.isEmpty(x) || utils.isEmpty(y)) {\n    return constants.EMPTY\n  }\n  var xl = x.lo\n  var xh = x.hi\n  var yl = y.lo\n  var yh = y.hi\n  var out = Interval()\n  if (xl < 0) {\n    if (xh > 0) {\n      if (yl < 0) {\n        if (yh > 0) {\n          // mixed * mixed\n          out.lo = Math.min(rmath.mulLo(xl, yh), rmath.mulLo(xh, yl))\n          out.hi = Math.max(rmath.mulHi(xl, yl), rmath.mulHi(xh, yh))\n        } else {\n          // mixed * negative\n          out.lo = rmath.mulLo(xh, yl)\n          out.hi = rmath.mulHi(xl, yl)\n        }\n      } else {\n        if (yh > 0) {\n          // mixed * positive\n          out.lo = rmath.mulLo(xl, yh)\n          out.hi = rmath.mulHi(xh, yh)\n        } else {\n          // mixed * zero\n          out.lo = 0\n          out.hi = 0\n        }\n      }\n    } else {\n      if (yl < 0) {\n        if (yh > 0) {\n          // negative * mixed\n          out.lo = rmath.mulLo(xl, yh)\n          out.hi = rmath.mulHi(xl, yl)\n        } else {\n          // negative * negative\n          out.lo = rmath.mulLo(xh, yh)\n          out.hi = rmath.mulHi(xl, yl)\n        }\n      } else {\n        if (yh > 0) {\n          // negative * positive\n          out.lo = rmath.mulLo(xl, yh)\n          out.hi = rmath.mulHi(xh, yl)\n        } else {\n          // negative * zero\n          out.lo = 0\n          out.hi = 0\n        }\n      }\n    }\n  } else {\n    if (xh > 0) {\n      if (yl < 0) {\n        if (yh > 0) {\n          // positive * mixed\n          out.lo = rmath.mulLo(xh, yl)\n          out.hi = rmath.mulHi(xh, yh)\n        } else {\n          // positive * negative\n          out.lo = rmath.mulLo(xh, yl)\n          out.hi = rmath.mulHi(xl, yh)\n        }\n      } else {\n        if (yh > 0) {\n          // positive * positive\n          out.lo = rmath.mulLo(xl, yl)\n          out.hi = rmath.mulHi(xh, yh)\n        } else {\n          // positive * zero\n          out.lo = 0\n          out.hi = 0\n        }\n      }\n    } else {\n      // zero * any other value\n      out.lo = 0\n      out.hi = 0\n    }\n  }\n  return out\n}\n\n/**\n * Alias for {@link arithmetic.multiply}\n * @function\n */\narithmetic.mul = arithmetic.multiply\n\n/**\n * Computes x/y, an explanation of all the possible cases ca\n * be found on [Interval Arithmetic: from Principles to Implementation - T. Hickey, Q. Ju, M.H. van Emden](http://fab.cba.mit.edu/classes/S62.12/docs/Hickey_interval.pdf)\n *\n * NOTE: an extreme case of division might results in multiple\n * intervals, unfortunately this library doesn't support multi-interval\n * arithmetic yet so a single interval will be returned instead with\n * the {@link misc.hull} of the resulting intervals (this is the way\n * Boost implements it too)\n *\n * @example\n * Interval.divide(\n *   Interval(1, 2),\n *   Interval(3, 4)\n * ) // Interval(prev(1/4), next(2/3))\n * @example\n * Interval.divide(\n *   Interval(-2, 1),\n *   Interval(-4, -3)\n * ) // Interval(prev(-1/3), next(2/3))\n * @example\n * Interval.divide(\n *   Interval(1, 2),\n *   Interval(-1, 1)\n * ) // Interval(-Infinity, Infinity)\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\narithmetic.divide = function (x, y) {\n  if (utils.isEmpty(x) || utils.isEmpty(y)) {\n    return constants.EMPTY\n  }\n  if (utils.zeroIn(y)) {\n    if (y.lo !== 0) {\n      if (y.hi !== 0) {\n        return division.zero(x)\n      } else {\n        return division.negative(x, y.lo)\n      }\n    } else {\n      if (y.hi !== 0) {\n        return division.positive(x, y.hi)\n      } else {\n        return constants.EMPTY\n      }\n    }\n  } else {\n    return division.nonZero(x, y)\n  }\n}\n\n/**\n * Alias for {@link arithmetic.divide}\n * @function\n */\narithmetic.div = arithmetic.divide\n\n/**\n * Computes +x (identity function)\n * @see misc.clone\n * @example\n * Interval.positive(\n *  Interval(1, 2)\n * )  // Interval(1, 2)\n * @param {Interval} x\n * @return {Interval}\n */\narithmetic.positive = function (x) {\n  return Interval(x.lo, x.hi)\n}\n\n/**\n * Computes -x\n * @example\n * Interval.negative(\n *   Interval(1, 2)\n * )  // Interval(-2, -1)\n * @example\n * Interval.negative(\n *   Interval(-Infinity, Infinity)\n * )  // Interval(-Infinity, Infinity)\n * @example\n * Interval.negative(\n *   Interval.WHOLE\n * )  // Interval.WHOLE\n * @param {Interval} x\n * @return {Interval}\n */\narithmetic.negative = function (x) {\n  return Interval(-x.hi, -x.lo)\n}\n\nmodule.exports = arithmetic\n","var keys = require('vkey')\nvar list = Object.keys(keys)\nvar down = {}\n\nreset()\n\nmodule.exports = pressed\n\nif (process.browser) {\n  window.addEventListener('keydown', keydown, false)\n  window.addEventListener('keyup', keyup, false)\n  window.addEventListener('blur', reset, false)\n}\n\nfunction pressed(key) {\n  return key\n    ? down[key]\n    : down\n}\n\nfunction reset() {\n  list.forEach(function(code) {\n    down[keys[code]] = false\n  })\n}\n\nfunction keyup(e) {\n  down[keys[e.keyCode]] = false\n}\n\nfunction keydown(e) {\n  down[keys[e.keyCode]] = true\n}\n","'use strict';\nmodule.exports = 9007199254740991;\n","'use strict'\nmodule.exports = function () {\n  var math = Object.create(Math)\n\n  math.factory = function (a) {\n    if (typeof a !== 'number') {\n      throw new TypeError('built-in math factory only accepts numbers')\n    }\n    return Number(a)\n  }\n\n  math.add = function (a, b) {\n    return a + b\n  }\n  math.sub = function (a, b) {\n    return a - b\n  }\n  math.mul = function (a, b) {\n    return a * b\n  }\n  math.div = function (a, b) {\n    return a / b\n  }\n  math.mod = function (a, b) {\n    return a % b\n  }\n  math.factorial = function (a) {\n    var res = 1\n    for (var i = 2; i <= a; i += 1) {\n      res *= i\n    }\n    return res\n  }\n\n  // taken from https://github.com/josdejong/mathjs/blob/master/lib/function/arithmetic/nthRoot.js\n  math.nthRoot = function (a, root) {\n    var inv = root < 0\n    if (inv) {\n      root = -root\n    }\n\n    if (root === 0) {\n      throw new Error('Root must be non-zero')\n    }\n    if (a < 0 && (Math.abs(root) % 2 !== 1)) {\n      throw new Error('Root must be odd when a is negative.')\n    }\n\n    // edge cases zero and infinity\n    if (a === 0) {\n      return 0\n    }\n    if (!isFinite(a)) {\n      return inv ? 0 : a\n    }\n\n    var x = Math.pow(Math.abs(a), 1 / root)\n    // If a < 0, we require that root is an odd integer,\n    // so (-1) ^ (1/root) = -1\n    x = a < 0 ? -x : x\n    return inv ? 1 / x : x\n  }\n\n  // logical\n  math.logicalOR = function (a, b) {\n    return a || b\n  }\n  math.logicalXOR = function (a, b) {\n    /* eslint-disable */\n    return a != b\n    /* eslint-enable*/\n  }\n  math.logicalAND = function (a, b) {\n    return a && b\n  }\n\n  // bitwise\n  math.bitwiseOR = function (a, b) {\n    /* eslint-disable */\n    return a | b\n    /* eslint-enable*/\n  }\n  math.bitwiseXOR = function (a, b) {\n    /* eslint-disable */\n    return a ^ b\n    /* eslint-enable*/\n  }\n  math.bitwiseAND = function (a, b) {\n    /* eslint-disable */\n    return a & b\n    /* eslint-enable*/\n  }\n\n  // relational\n  math.lessThan = function (a, b) {\n    return a < b\n  }\n  math.lessEqualThan = function (a, b) {\n    return a <= b\n  }\n  math.greaterThan = function (a, b) {\n    return a > b\n  }\n  math.greaterEqualThan = function (a, b) {\n    return a >= b\n  }\n  math.equal = function (a, b) {\n    /* eslint-disable */\n    return a == b\n  /* eslint-enable*/\n  }\n  math.strictlyEqual = function (a, b) {\n    return a === b\n  }\n  math.notEqual = function (a, b) {\n    /* eslint-disable */\n    return a != b\n  /* eslint-enable*/\n  }\n  math.strictlyNotEqual = function (a, b) {\n    return a !== b\n  }\n\n  // shift\n  math.shiftRight = function (a, b) {\n    return (a >> b)\n  }\n  math.shiftLeft = function (a, b) {\n    return (a << b)\n  }\n  math.unsignedRightShift = function (a, b) {\n    return (a >>> b)\n  }\n\n  // unary\n  math.negative = function (a) {\n    return -a\n  }\n  math.positive = function (a) {\n    return a\n  }\n\n  return math\n}\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\nvar d3 = window.d3\nvar evaluate = require('../evaluate')\nvar utils = require('../utils')\nvar clamp = require('clamp')\n\nmodule.exports = function (chart) {\n  var xScale = chart.meta.xScale\n  var yScale = chart.meta.yScale\n  function plotLine (selection) {\n    selection.each(function (d) {\n      var el = plotLine.el = d3.select(this)\n      var index = d.index\n      var evaluatedData = evaluate(chart, d)\n      console.debug(`evaluated data`, evaluatedData);\n      var color = utils.color(d, index)\n      var innerSelection = el.selectAll(':scope > path.line')\n        .data(evaluatedData)\n\n      var yRange = yScale.range()\n      var yMax = yRange[0]\n      var yMin = yRange[1]\n      // workaround, clamp assuming that the bounds are finite but huge\n      var diff = yMax - yMin\n      yMax += diff * 1e6\n      yMin -= diff * 1e6\n      if (d.skipBoundsCheck) {\n        yMax = Infinity\n        yMin = -Infinity\n      }\n\n      function y (d) {\n        return clamp(yScale(d[1]), yMin, yMax)\n      }\n\n      var line = d3.svg.line()\n        .interpolate('linear')\n        .x(function (d) { return xScale(d[0]) })\n        .y(y)\n      var area = d3.svg.area()\n        .x(function (d) { return xScale(d[0]) })\n        .y0(yScale(0))\n        .y1(y)\n\n      innerSelection.enter()\n        .append('path')\n        .attr('class', 'line line-' + index)\n        .attr('stroke-width', 1)\n        .attr('stroke-linecap', 'round')\n\n      // enter + update\n      innerSelection\n        .each(function () {\n          var path = d3.select(this)\n          var pathD\n          if (d.closed) {\n            path.attr('fill', color)\n            path.attr('fill-opacity', 0.3)\n            pathD = area\n          } else {\n            path.attr('fill', 'none')\n            pathD = line\n          }\n          path\n            .attr('stroke', color)\n            .attr('marker-end', function () {\n              // special marker for vectors\n              return d.fnType === 'vector'\n                ? 'url(#' + chart.markerId + ')'\n                : null\n            })\n            .attr('d', pathD)\n        })\n        .attr(d.attr)\n\n      innerSelection.exit().remove()\n    })\n  }\n\n  return plotLine\n}\n","/**\n * Created by mauricio on 5/12/15.\n */\n'use strict'\n\nvar CodeGenerator = require('math-codegen')\nvar Interval = require('interval-arithmetic')\nrequire('./adapter')(Interval)\n\nfunction processScope (scope) {\n  Object.keys(scope).forEach(function (k) {\n    var value = scope[k]\n    if (typeof value === 'number' || Array.isArray(value)) {\n      scope[k] = Interval.factory(value)\n    } else if (typeof value === 'object' && 'lo' in value && 'hi' in value) {\n      scope[k] = Interval.factory(value.lo, value.hi)\n    }\n  })\n}\n\nmodule.exports = function (expression) {\n  return new CodeGenerator()\n    .setDefs({\n      $$processScope: processScope\n    })\n    .parse(expression)\n    .compile(Interval)\n}\n\nmodule.exports.policies = require('./policies')(Interval)\nmodule.exports.Interval = Interval\n","'use strict'\nmodule.exports = function (ns) {\n  // mod\n  ns.mod = ns.fmod\n\n  // relational\n  ns.lessThan = ns.lt\n  ns.lessEqualThan = ns.leq\n  ns.greaterThan = ns.gt\n  ns.greaterEqualThan = ns.geq\n\n  ns.strictlyEqual = ns.equal\n  ns.strictlyNotEqual = ns.notEqual\n\n  ns.logicalAND = function (a, b) {\n    return a && b\n  }\n  ns.logicalXOR = function (a, b) {\n    return a ^ b\n  }\n  ns.logicalOR = function (a, b) {\n    return a || b\n  }\n}\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\nvar globals = require('./globals')\nvar evalTypeFn = {\n  interval: require('./samplers/interval'),\n  builtIn: require('./samplers/builtIn'),\n  mathjs: require('./samplers/mathjs')\n}\n\n/**\n * Computes the endpoints x_lo, x_hi of the range\n * from which the sampler will take samples\n *\n * @param {Chart} chart\n * @param {Object} d An item from `data`\n * @returns {Array}\n */\nfunction computeEndpoints (chart, d) {\n  var range = d.range || [-Infinity, Infinity]\n  var scale = chart.meta.xScale\n  var start = Math.max(scale.domain()[0], range[0])\n  var end = Math.min(scale.domain()[1], range[1])\n  return [start, end]\n}\n\n/**\n * Decides which sampler function to call based on the options\n * of `data`\n *\n * @param {Object} chart Chart instance which is orchestating this sampling operation\n * @param {Object} d a.k.a a single item from `data`\n * @returns {Array}\n */\nfunction evaluate (chart, d) {\n  var range = computeEndpoints(chart, d)\n  var data\n  var evalFn = evalTypeFn[d.sampler]\n  var nSamples = d.nSamples || Math.min(\n    globals.MAX_ITERATIONS,\n    globals.DEFAULT_ITERATIONS || (chart.meta.width * 2)\n  )\n  data = evalFn(chart, d, range, nSamples)\n\n  // NOTE: it's impossible to listen for the first eval event\n  // as the event is already fired when a listener is attached\n  chart.emit('eval', data, d.index, d.isHelper)\n  return data\n}\n\nmodule.exports = evaluate\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\nvar d3 = window.d3\n\nvar extend = require('extend')\nvar builtInEvaluator = require('./eval').builtIn\nvar datumDefaults = require('../datum-defaults')\nvar polyline = require('../graph-types/polyline')\n\nmodule.exports = function (chart) {\n  var secantDefaults = datumDefaults({\n    isHelper: true,\n    skipTip: true,\n    skipBoundsCheck: true,\n    nSamples: 2,\n    graphType: 'polyline'\n  })\n  var secant\n\n  function computeSlope (scope) {\n    scope.m = (scope.y1 - scope.y0) / (scope.x1 - scope.x0)\n  }\n\n  function updateLine (d, secant) {\n    if (!secant.hasOwnProperty('x0')) {\n      throw Error('secant must have the property `x0` defined')\n    }\n    secant.scope = secant.scope || {}\n\n    var x0 = secant.x0\n    var x1 = typeof secant.x1 === 'number' ? secant.x1 : Infinity\n    extend(secant.scope, {\n      x0: x0,\n      x1: x1,\n      y0: builtInEvaluator(d, 'fn', { x: x0 }),\n      y1: builtInEvaluator(d, 'fn', { x: x1 })\n    })\n    computeSlope(secant.scope)\n  }\n\n  function setFn (d, secant) {\n    updateLine(d, secant)\n    secant.fn = 'm * (x - x0) + y0'\n  }\n\n  function setMouseListener (d, secantObject) {\n    var self = this\n    if (secantObject.updateOnMouseMove && !secantObject.$$mouseListener) {\n      secantObject.$$mouseListener = function (x1) {\n        secantObject.x1 = x1\n        updateLine(d, secantObject)\n        secant(self)\n      }\n      chart.on('tip:update', secantObject.$$mouseListener)\n    }\n  }\n\n  function computeLines (d) {\n    var self = this\n    var data = []\n    d.secants = d.secants || []\n    for (var i = 0; i < d.secants.length; i += 1) {\n      var secant = d.secants[i] = extend({}, secantDefaults, d.secants[i])\n      // necessary to make the secant have the same color as d\n      secant.index = d.index\n      if (!secant.fn) {\n        setFn.call(self, d, secant)\n        setMouseListener.call(self, d, secant)\n      }\n      data.push(secant)\n    }\n    return data\n  }\n\n  secant = function (selection) {\n    selection.each(function (d) {\n      var el = d3.select(this)\n      var data = computeLines.call(selection, d)\n      var innerSelection = el.selectAll('g.secant')\n        .data(data)\n\n      innerSelection.enter()\n        .append('g')\n        .attr('class', 'secant')\n\n      // enter + update\n      innerSelection\n        .call(polyline(chart))\n\n      // change the opacity of the secants\n      innerSelection.selectAll('path')\n        .attr('opacity', 0.5)\n\n      // exit\n      innerSelection.exit().remove()\n    })\n  }\n\n  return secant\n}\n","var Node = require('./Node')\n\nfunction UnaryNode (op, argument) {\n  this.op = op\n  this.argument = argument\n}\n\nUnaryNode.prototype = Object.create(Node.prototype)\n\nUnaryNode.prototype.type = 'UnaryNode'\n\nmodule.exports = UnaryNode\n","'use strict'\n\nvar CodeGenerator = require('math-codegen')\nvar math = require('./adapter')()\n\nfunction processScope (scope) {\n  Object.keys(scope).forEach(function (k) {\n    var value = scope[k]\n    scope[k] = math.factory(value)\n  })\n}\n\nmodule.exports = function (expression) {\n  return new CodeGenerator()\n    .setDefs({\n      $$processScope: processScope\n    })\n    .parse(expression)\n    .compile(math)\n}\n\nmodule.exports.math = math\n","var d3 = window.d3\nvar extend = require('extend')\nvar pressed = require('key-pressed')\nvar keydown = require('keydown')\nvar integrateSimpson = require('integrate-adaptive-simpson')\nmodule.exports = function (options) {\n  options = extend({\n    key: '<shift>',\n    // true to make the brush mask visible/hidden on keydown\n    // by default the mask will be visible only when the `key`\n    // combination is pressed\n    toggle: false\n  }, options)\n\n  var brush = d3.svg.brush()\n  var kd = keydown(options.key)\n  var visible = false\n  var cachedInstance\n\n  // the integrator module requires a function with a single parameter x\n  function wrapper (datum) {\n    return function (x) {\n      var functionPlot = window.functionPlot\n      return functionPlot.eval.builtIn(datum, 'fn', { x: x })\n    }\n  }\n\n  function setBrushState (visible) {\n    var brushEl = cachedInstance.canvas.selectAll('.definite-integral')\n    brushEl.style('display', visible ? null : 'none')\n  }\n\n  function inner (instance) {\n    cachedInstance = instance\n    // update the brush scale with the instance scale\n    var oldDisableZoom\n    brush\n      .x(instance.meta.xScale)\n      .on('brushstart', function () {\n        if (!d3.event.sourceEvent) return\n        oldDisableZoom = !!instance.options.disableZoom\n        instance.options.disableZoom = true\n        // replot the samples with the option disableZoom set to true\n        instance.emit('draw')\n      })\n      .on('brushend', function () {\n        if (!d3.event.sourceEvent) return\n        instance.options.disableZoom = oldDisableZoom\n\n        if (!brush.empty()) {\n          var a = brush.extent()[0]\n          var b = brush.extent()[1]\n          // iterate the data finding the value of the definite integral\n          // with bounds `a` and `b`\n          instance.options.data.forEach(function (datum, i) {\n            var value = integrateSimpson(wrapper(datum), a, b, options.tol, options.maxdepth)\n            instance.emit('definite-integral', datum, i, value, a, b)\n          })\n        }\n        // replot the samples with the option disableZoom set to whatever it was before\n        instance.draw()\n      })\n    var brushEl = instance.canvas.append('g').attr('class', 'brush definite-integral')\n    brushEl\n      .call(brush)\n      .call(brush.event)\n\n    instance.canvas.selectAll('.brush .extent')\n      .attr('stroke', '#fff')\n      .attr('fill-opacity', 0.125)\n      .attr('shape-rendering', 'crispEdges')\n\n    brushEl.selectAll('rect')\n      .attr('height', instance.meta.height)\n\n    instance.canvas\n      .on('mousemove.definiteIntegral', function () {\n        // options.toggle sets the mask visibility when all the required\n        // are pressed once and it's not disabled on keyup\n        if (!options.toggle) {\n          inner.visible(pressed(options.key))\n        }\n      })\n    kd.on('pressed', function () {\n      inner.visible(options.toggle ? !inner.visible() : true)\n    })\n    inner.visible(false)\n  }\n\n  inner.visible = function (_) {\n    if (!arguments.length) {\n      return visible\n    }\n    visible = _\n    setBrushState(_)\n    return inner\n  }\n\n  return inner\n}\n","var Emitter = require('events').EventEmitter\nvar vkey = require('vkey')\n\nmodule.exports = function(keys, el) {\n  if (typeof keys === 'string') keys = [keys]\n  if (!el) el = window\n\n  var emitter = new Emitter()\n  emitter.pressed = {}\n  \n  el.addEventListener('blur', clearPressed)\n  el.addEventListener('focus', clearPressed)\n  \n  el.addEventListener('keydown', function(ev) {\n    var key = vkey[ev.keyCode]\n    emitter.pressed[key] = true\n    var allPressed = true\n    keys.forEach(function(k) {\n      if (!emitter.pressed[k]) allPressed = false\n    })\n    if (allPressed) {\n      emitter.emit('pressed', emitter.pressed)\n\n      // this seems to be necessary as keyup doesn't always fire during combos :/\n      clearPressed()\n    }\n  })\n\n  el.addEventListener('keyup', function(ev) {\n    delete emitter.pressed[vkey[ev.keyCode]]\n  })\n  \n  function clearPressed() {\n    emitter.pressed = {}\n  }\n  \n  return emitter\n}\n","module.exports = clamp\n\nfunction clamp(value, min, max) {\n  return min < max\n    ? (value < min ? min : value > max ? max : value)\n    : (value < max ? max : value > min ? min : value)\n}\n","'use strict'\nvar samplers = {\n  interval: require('interval-arithmetic-eval'),\n  builtIn: require('built-in-math-eval')\n}\nvar extend = require('extend')\n\nwindow.math && (samplers.builtIn = window.math.compile)\n\nfunction generateEvaluator (samplerName) {\n  function doCompile (expression) {\n    // compiles does the following\n    //\n    // when expression === string\n    //\n    //     gen = new require('math-codegen')\n    //     return gen.parse(expression).compile(Interval|BultInMath)\n    //\n    //     which is an object with the form\n    //\n    //     {\n    //       eval: function (scope) {\n    //         // math-codegen magic\n    //       }\n    //     }\n    //\n    // when expression === function\n    //\n    //    {\n    //      eval: expression\n    //    }\n    //\n    // othewise throw an error\n    if (typeof expression === 'string') {\n      var compile = samplers[samplerName]\n      return compile(expression)\n    } else if (typeof expression === 'function') {\n      return { eval: expression }\n    } else {\n      throw Error('expression must be a string or a function')\n    }\n  }\n\n  function compileIfPossible (meta, property) {\n    // compile the function using interval arithmetic, cache the result\n    // so that multiple calls with the same argument don't trigger the\n    // kinda expensive compilation process\n    var expression = meta[property]\n    var hiddenProperty = samplerName + '_Expression_' + property\n    var hiddenCompiled = samplerName + '_Compiled_' + property\n    if (expression !== meta[hiddenProperty]) {\n      meta[hiddenProperty] = expression\n      meta[hiddenCompiled] = doCompile(expression)\n    }\n  }\n\n  function getCompiledExpression (meta, property) {\n    return meta[samplerName + '_Compiled_' + property]\n  }\n\n  /**\n   * Evaluates meta[property] with `variables`\n   *\n   * - Compiles meta[property] if it wasn't compiled already (also with cache\n   *   check)\n   * - Evaluates the resulting function with the merge of meta.scope and\n   *   `variables`\n   *\n   * @param {Object} meta\n   * @param {String} property\n   * @param {Object} variables\n   * @returns {Number|Array} The builtIn evaluator returns a number, the\n   * interval evaluator an array\n   */\n  function evaluate (meta, property, variables) {\n    // e.g.\n    //\n    //  meta: {\n    //    fn: 'x + 3',\n    //    scope: { y: 3 }\n    //  }\n    //  property: 'fn'\n    //  variables:  { x: 3 }\n    //\n    compileIfPossible(meta, property)\n\n    return getCompiledExpression(meta, property).eval(\n      extend({}, meta.scope || {}, variables)\n    )\n  }\n\n  return evaluate\n}\n\nmodule.exports.builtIn = generateEvaluator('builtIn')\nmodule.exports.interval = generateEvaluator('interval')\n","var Node = require('./Node')\n\nfunction AssignmentNode (name, expr) {\n  this.name = name\n  this.expr = expr\n}\n\nAssignmentNode.prototype = Object.create(Node.prototype)\n\nAssignmentNode.prototype.type = 'AssignmentNode'\n\nmodule.exports = AssignmentNode\n","'use strict'\n\nvar UnaryOperators = require('../misc/UnaryOperators')\n\nmodule.exports = function (node) {\n  if (this.options.raw) {\n    return node.op + this.next(node.argument)\n  }\n\n  if (!(node.op in UnaryOperators)) {\n    throw new SyntaxError(node.op + ' not implemented')\n  }\n\n  var namedOperator = UnaryOperators[node.op]\n  /* eslint-disable new-cap */\n  return this.FunctionNode({\n    name: namedOperator,\n    args: [node.argument]\n  })\n  /* eslint-enable new-cap */\n}\n","var utils = require('../utils')\nvar builtIn = require('./builtIn')\nvar clamp = require('clamp')\nvar split = builtIn.split\n\nmodule.exports = function mathjs (chart, meta, range, nSamples) {\n  var allX = utils.space(chart, range, nSamples)\n  var yDomain = chart.meta.yScale.domain()\n  var yDomainMargin = (yDomain[1] - yDomain[0])\n  var yMin = yDomain[0] - yDomainMargin * 1e5\n  var yMax = yDomain[1] + yDomainMargin * 1e5\n  var data = []\n  var i\n\n  var evaluate = meta.scope[meta.fn]\n  for (i = 0; i < allX.length; i += 1) {\n    var x = allX[i]\n    var y = evaluate(x)\n    if (utils.isValidNumber(x) && utils.isValidNumber(y)) {\n      data.push([x, clamp(y, yMin, yMax)])\n    }\n  }\n  data = split(chart, meta, data)\n  return data\n}\n","// issue: https://github.com/maurizzzio/function-plot/issues/6\n// solution: the line type is selecting the derivative line when the content is re-drawn, then when the\n// derivative was redrawn an already selected line (by the line type) was used thus making a single line\n// disappear from the graph, to avoid the selection of the derivative line the selector needs to\n// work only for immediate children which is done with `:scope >`\n// src: http://stackoverflow.com/questions/6481612/queryselector-search-immediate-children\n/*eslint-disable */\n;(function (doc, proto) {\n  try { // check if browser supports :scope natively\n    doc.querySelector(':scope body')\n  } catch (err) { // polyfill native methods if it doesn't\n    ['querySelector', 'querySelectorAll'].forEach(function (method) {\n      var native = proto[method]\n      proto[method] = function (selectors) {\n        if (/(^|,)\\s*:scope/.test(selectors)) { // only if selectors contains :scope\n          var id = this.id // remember current element id\n          this.id = 'ID_' + Date.now() // assign new unique id\n          selectors = selectors.replace(/((^|,)\\s*):scope/g, '$1#' + this.id); // replace :scope with #ID\n          var result = doc[method](selectors)\n          this.id = id // restore previous id\n          return result\n        } else {\n          return native.call(this, selectors) // use native code for other selectors\n        }\n      }\n    })\n  }\n})(window.document, Element.prototype)\n/* eslint-enable */\n","'use strict'\n\nmodule.exports = function (node) {\n  return 'scope[\"' + node.name + '\"] = ' + this.next(node.expr)\n}\n","var isObject = require('is-object')\n\nmodule.exports = function (d) {\n  if (!isObject(d)) {\n    throw Error('datum is not an object')\n  }\n\n  // default graphType uses boxes i.e. 2d intervals\n  if (!(d.hasOwnProperty('graphType'))) {\n    d.graphType = 'interval'\n  }\n\n  // if the graphType is not `interval` then the sampler is `builtIn`\n  // because the interval sampler returns a box instead of a point\n  if (!(d.hasOwnProperty('sampler'))) {\n    d.sampler = d.graphType !== 'interval'\n      ? 'builtIn'\n      : 'interval'\n    switch (d.graphType) {\n      case 'mathjs':\n        d.sampler = 'mathjs'\n        break\n      case 'interval':\n        d.sampler = 'interval'\n        break\n      case 'builtIn':\n      default:\n        d.sampler = 'builtIn'\n        break\n    }\n  }\n\n  // TODO: handle default fnType\n  // default `fnType` is linear\n  if (!(d.hasOwnProperty('fnType'))) {\n    d.fnType = 'linear'\n  }\n\n  return d\n}\n","module.exports = {\n  zoomBox: require('./zoom-box'),\n  definiteIntegral: require('./definite-integral')\n}\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\nvar d3 = window.d3\nvar evaluate = require('../evaluate')\nvar utils = require('../utils')\n\nmodule.exports = function (chart) {\n  var xScale = chart.meta.xScale\n  var yScale = chart.meta.yScale\n\n  function scatter (selection) {\n    selection.each(function (d) {\n      var i, j\n      var index = d.index\n      var color = utils.color(d, index)\n      var evaluatedData = evaluate(chart, d)\n\n      // scatter doesn't need groups, therefore each group is\n      // flattened into a single array\n      var joined = []\n      for (i = 0; i < evaluatedData.length; i += 1) {\n        for (j = 0; j < evaluatedData[i].length; j += 1) {\n          joined.push(evaluatedData[i][j])\n        }\n      }\n\n      var innerSelection = d3.select(this).selectAll(':scope > circle')\n        .data(joined)\n\n      innerSelection.enter()\n        .append('circle')\n\n      innerSelection\n        .attr('fill', d3.hsl(color.toString()).brighter(1.5))\n        .attr('stroke', color)\n        .attr('opacity', 0.7)\n        .attr('r', 1)\n        .attr('cx', function (d) { return xScale(d[0]) })\n        .attr('cy', function (d) { return yScale(d[1]) })\n        .attr(d.attr)\n\n      innerSelection.exit().remove()\n    })\n  }\n\n  return scatter\n}\n","'use strict'\nvar SymbolNode = require('mr-parser').nodeTypes.SymbolNode\n\nvar functionProxy = function (node) {\n  return '$$mathCodegen.functionProxy(' + this.next(new SymbolNode(node.name)) + ', \"' + node.name + '\")'\n}\n\nmodule.exports = function (node) {\n  var self = this\n  // wrap in a helper function to detect the type of symbol it must be a function\n  // NOTE: if successful the wrapper returns the function itself\n  // NOTE: node.name should be a symbol so that it's correctly represented as a string in SymbolNode\n  var method = functionProxy.call(this, node)\n  var args = []\n  this.rawify(this.options.rawCallExpressionElements, function () {\n    args = node.args.map(function (arg) {\n      return self.next(arg)\n    })\n  })\n  return method + '(' + args.join(', ') + ')'\n}\n\nmodule.exports.functionProxy = functionProxy\n","/**\n * Created by mauricio on 5/14/15.\n */\n'use strict'\nvar intervalArithmeticEval = require('interval-arithmetic-eval')\nvar Interval = intervalArithmeticEval.Interval\n\nvar evaluate = require('../helpers/eval').interval\nvar utils = require('../utils')\n\n// disable the use of typed arrays in interval-arithmetic to improve the performance\nintervalArithmeticEval.policies.disableRounding()\n\nfunction interval1d (chart, meta, range, nSamples) {\n  var xCoords = utils.space(chart, range, nSamples)\n  var xScale = chart.meta.xScale\n  var yScale = chart.meta.yScale\n  var yMin = yScale.domain()[0]\n  var yMax = yScale.domain()[1]\n  var samples = []\n  var i\n  for (i = 0; i < xCoords.length - 1; i += 1) {\n    var x = { lo: xCoords[i], hi: xCoords[i + 1] }\n    var y = evaluate(meta, 'fn', { x: x })\n    if (!Interval.isEmpty(y) && !Interval.isWhole(y)) {\n      samples.push([x, y])\n    }\n    if (Interval.isWhole(y)) {\n      // means that the next and prev intervals need to be fixed\n      samples.push(null)\n    }\n  }\n\n  // asymptote determination\n  for (i = 1; i < samples.length - 1; i += 1) {\n    if (!samples[i]) {\n      var prev = samples[i - 1]\n      var next = samples[i + 1]\n      if (prev && next && !Interval.intervalsOverlap(prev[1], next[1])) {\n        // case:\n        //\n        //   |\n        //\n        //     |\n        //\n        //   p n\n        if (prev[1].lo > next[1].hi) {\n          prev[1].hi = Math.max(yMax, prev[1].hi)\n          next[1].lo = Math.min(yMin, next[1].lo)\n        }\n        // case:\n        //\n        //     |\n        //\n        //   |\n        //\n        //   p n\n        if (prev[1].hi < next[1].lo) {\n          prev[1].lo = Math.min(yMin, prev[1].lo)\n          next[1].hi = Math.max(yMax, next[1].hi)\n        }\n      }\n    }\n  }\n\n  samples.scaledDx = xScale(xCoords[1]) - xScale(xCoords[0])\n  return [samples]\n}\n\nvar rectEps\nfunction smallRect (x, y) {\n  return Interval.width(x) < rectEps\n}\n\nfunction quadTree (x, y, meta) {\n  var sample = evaluate(meta, 'fn', {\n    x: x,\n    y: y\n  })\n  var fulfills = Interval.zeroIn(sample)\n  if (!fulfills) { return this }\n  if (smallRect(x, y)) {\n    this.push([x, y])\n    return this\n  }\n  var midX = x.lo + (x.hi - x.lo) / 2\n  var midY = y.lo + (y.hi - y.lo) / 2\n  var east = { lo: midX, hi: x.hi }\n  var west = { lo: x.lo, hi: midX }\n  var north = { lo: midY, hi: y.hi }\n  var south = { lo: y.lo, hi: midY }\n\n  quadTree.call(this, east, north, meta)\n  quadTree.call(this, east, south, meta)\n  quadTree.call(this, west, north, meta)\n  quadTree.call(this, west, south, meta)\n}\n\nfunction interval2d (chart, meta) {\n  var xScale = chart.meta.xScale\n  var xDomain = chart.meta.xScale.domain()\n  var yDomain = chart.meta.yScale.domain()\n  var x = { lo: xDomain[0], hi: xDomain[1] }\n  var y = { lo: yDomain[0], hi: yDomain[1] }\n  var samples = []\n  // 1 px\n  rectEps = xScale.invert(1) - xScale.invert(0)\n  quadTree.call(samples, x, y, meta)\n  samples.scaledDx = 1\n  return [samples]\n}\n\nvar sampler = function (chart, d, range, nSamples) {\n  var fnTypes = {\n    implicit: interval2d,\n    linear: interval1d\n  }\n  if (!(fnTypes.hasOwnProperty(d.fnType))) {\n    throw Error(d.fnType + ' is not supported in the `interval` sampler')\n  }\n  return fnTypes[d.fnType].apply(null, arguments)\n}\n\nmodule.exports = sampler\n","/*\n * interval-arithmetic\n *\n * Copyright (c) 2015 Mauricio Poppe\n * Licensed under the MIT license.\n */\n\n'use strict'\nvar extend = require('xtend/mutable')\n\nrequire('./lib/polyfill')\nmodule.exports = require('./lib/interval')\n\n/**\n * Use {@link Interval.round} instead\n * @memberof Interval\n * @name Interval.rmath\n * @deprecated as of 0.6.4\n */\nmodule.exports.rmath = require('./lib/round-math')\n\n/**\n * Link to {@link module:interval-arithmetic/round-math}\n *\n * @memberof Interval\n * @name Interval.round\n */\nmodule.exports.round = require('./lib/round-math')\n\nextend(\n  module.exports,\n  require('./lib/constants'),\n  require('./lib/operations/relational'),\n  require('./lib/operations/arithmetic'),\n  require('./lib/operations/algebra'),\n  require('./lib/operations/trigonometric'),\n  require('./lib/operations/misc'),\n  require('./lib/operations/utils')\n)\n","module.exports = {\n  EOF: 0,\n  DELIMITER: 1,\n  NUMBER: 2,\n  STRING: 3,\n  SYMBOL: 4\n}\n","var Node = require('./Node')\n\nfunction FunctionNode (name, args) {\n  this.name = name\n  this.args = args\n}\n\nFunctionNode.prototype = Object.create(Node.prototype)\n\nFunctionNode.prototype.type = 'FunctionNode'\n\nmodule.exports = FunctionNode\n","var d3 = window.d3\nvar extend = require('extend')\nvar pressed = require('key-pressed')\nvar keydown = require('keydown')\nmodule.exports = function (options) {\n  options = extend({\n    key: '<shift>',\n    // true to make the brush mask visible/hidden on keydown\n    // by default the mask will be visible only when the `key`\n    // combination is pressed\n    toggle: false\n  }, options)\n\n  var brush = d3.svg.brush()\n  var kd = keydown(options.key)\n  var cachedInstance\n  var visible = false\n\n  function setBrushState (visible) {\n    var brushEl = cachedInstance.canvas.selectAll('.zoom-box')\n    brushEl.style('display', visible ? null : 'none')\n  }\n\n  function inner (instance) {\n    cachedInstance = instance\n    // update the brush scale with the instance scale\n    var oldDisableZoom\n    brush\n      .x(instance.meta.xScale)\n      .y(instance.meta.yScale)\n      .on('brushstart', function () {\n        if (!d3.event.sourceEvent) return\n        oldDisableZoom = !!instance.options.disableZoom\n        instance.options.disableZoom = true\n        // redrawing the canvas with the option disableZoom set to true\n        instance.draw()\n      })\n      .on('brushend', function () {\n        if (!d3.event.sourceEvent) return\n        instance.options.disableZoom = oldDisableZoom\n\n        if (!brush.empty()) {\n          var lo = brush.extent()[0]\n          var hi = brush.extent()[1]\n          var x = [lo[0], hi[0]]\n          var y = [lo[1], hi[1]]\n          instance.programmaticZoom(x, y)\n        }\n        d3.select(this)\n          .transition()\n          .duration(1)\n          .call(brush.clear())\n          .call(brush.event)\n      })\n    var brushEl = instance.canvas.append('g').attr('class', 'brush zoom-box')\n    brushEl\n      .call(brush)\n      .call(brush.event)\n\n    instance.canvas.selectAll('.brush .extent')\n      .attr('stroke', '#fff')\n      .attr('fill-opacity', 0.125)\n      .attr('shape-rendering', 'crispEdges')\n\n    instance.canvas\n      .on('mousemove.zoombox', function () {\n        // options.toggle sets the mask visibility when all the required\n        // are pressed once and it's not disabled on keyup\n        if (!options.toggle) {\n          inner.visible(pressed(options.key))\n        }\n      })\n    kd.on('pressed', function () {\n      inner.visible(options.toggle ? !inner.visible() : true)\n    })\n    inner.visible(false)\n  }\n\n  inner.visible = function (_) {\n    if (!arguments.length) {\n      return visible\n    }\n    visible = _\n    setBrushState(_)\n    return inner\n  }\n\n  return inner\n}\n","/**\n * Created by mauricio on 5/11/15.\n */\n'use strict'\nvar constants = require('../constants')\nvar Interval = require('../interval')\nvar rmath = require('../round-math')\nvar utils = require('./utils')\nvar arithmetic = require('./arithmetic')\n\n/**\n * @mixin misc\n */\nvar misc = {}\n\n/**\n * Computes e^x where e is the mathematical constant equal to the base of the\n * natural logarithm\n * @example\n * Interval.exp(\n *   Interval(-1, 1)\n * )  // Interval(0.3679, 2.7183)\n * @param {Interval} x\n * @return {Interval}\n */\nmisc.exp = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  return Interval(\n    rmath.expLo(x.lo),\n    rmath.expHi(x.hi)\n  )\n}\n\n/**\n * Computes the natural logarithm of x\n * @example\n * Interval.log(\n *   Interval(1, Math.exp(3))\n * )  // Interval(0, 3)\n * @param {Interval} x\n * @return {Interval}\n */\nmisc.log = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  var l = x.lo <= 0 ? Number.NEGATIVE_INFINITY : rmath.logLo(x.lo)\n  return Interval(l, rmath.logHi(x.hi))\n}\n\n/**\n * Alias for {@link misc.log}\n * @function\n */\nmisc.ln = misc.log\n\nmisc.LOG_EXP_10 = misc.log(Interval(10, 10))\n\n/**\n * Computes the logarithm base 10 of x\n * @example\n * Interval.log10(\n *   Interva(1, 1000)\n * )  // Interval(0, 3)\n * @param {Interval} x\n * @return {Interval}\n */\nmisc.log10 = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  return arithmetic.div(misc.log(x), misc.LOG_EXP_10)\n}\n\nmisc.LOG_EXP_2 = misc.log(Interval(2, 2))\n\n/**\n * Computes the logarithm base 2 of x\n * @example\n * Interval.log10(\n *   Interva(1, 8)\n * )  // Interval(0, 3)\n * @param {Interval} x\n * @return {Interval}\n */\nmisc.log2 = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  return arithmetic.div(misc.log(x), misc.LOG_EXP_2)\n}\n\n/**\n * Computes an interval that has all the values of x and y, note that it may be\n * possible that values that don't belong to either x or y are included in the\n * interval that represents the hull\n *\n * @example\n * Interval.hull(\n *   Interval(-1, 1),\n *   Interval(5, 7)\n * )  // Interval(-1, 7)\n * @example\n * Interval.hull(\n *   Interval(-1, 1),\n *   Interval.EMPTY\n * )  // Interval(-1, 1)\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\nmisc.hull = function (x, y) {\n  var badX = utils.isEmpty(x)\n  var badY = utils.isEmpty(y)\n  if (badX && badY) {\n    return constants.EMPTY\n  } else if (badX) {\n    return y.clone()\n  } else if (badY) {\n    return x.clone()\n  } else {\n    return Interval(\n      Math.min(x.lo, y.lo),\n      Math.max(x.hi, y.hi)\n    )\n  }\n}\n\n/**\n * Computes an interval that has all the values that belong to both x and y\n *\n * @example\n * Interval.intersection(\n *   Interval(-1, 1),\n *   Interval(0, 7)\n * )  // Interval(0, 1)\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\nmisc.intersection = function (x, y) {\n  if (utils.isEmpty(x) || utils.isEmpty(y)) { return constants.EMPTY }\n  var lo = Math.max(x.lo, y.lo)\n  var hi = Math.min(x.hi, y.hi)\n  if (lo <= hi) {\n    return Interval(lo, hi)\n  }\n  return constants.EMPTY\n}\n\n/**\n * Computes an interval that has all the values that belong to both x and y,\n * the difference with {@link misc.hull} is that x and y must overlap to\n * compute the union\n * @example\n * Interval.union(\n *   Interval(-1, 1),\n *   Interval(5, 7)\n * )  // throws error\n * @example\n * Interval.union(\n *   Interval(-1, 1),\n *   Interval(1, 7)\n * )  // Interval(-1, 7)\n * @throws {Error} When x and y don't overlap\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\nmisc.union = function (x, y) {\n  if (!utils.intervalsOverlap(x, y)) {\n    throw Error('Interval#union: intervals do not overlap')\n  }\n  return Interval(\n    Math.min(x.lo, y.lo),\n    Math.max(x.hi, y.hi)\n  )\n}\n\n/**\n * Computes the difference between `x` and `y`, i.e. an interval with all the\n * values of `x` that are not in `y`\n * @example\n * Interval.difference(\n *   Interval(3, 5),\n *   Interval(4, 6)\n * )  // Interval(3, prev(4))\n * @example\n * Interval.difference(\n *   Interval(0, 3),\n *   Interval(0, 1)\n * )  // Interval(next(1), 3)\n * @example\n * Interval.difference(\n *   Interval(0, 1),\n *   Interval.WHOLE\n * )  // Interval.EMPTY\n * @example\n * Interval.difference(\n *   Interval(-Infinity, 0),\n *   Interval.WHOLE\n * )  // Interval.EMPTY\n * @throws {Error} When the difference creates multiple intervals\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\nmisc.difference = function (x, y) {\n  if (utils.isEmpty(x) || utils.isWhole(y)) {\n    return constants.EMPTY\n  }\n  if (utils.intervalsOverlap(x, y)) {\n    if (x.lo < y.lo && y.hi < x.hi) {\n      // difference creates multiple subsets\n      throw Error('Interval.difference: difference creates multiple intervals')\n    }\n\n    // handle corner cases first\n    if ((y.lo <= x.lo && y.hi === Infinity) ||\n      (y.hi >= x.hi && y.lo === -Infinity)) {\n      return constants.EMPTY\n    }\n\n    // NOTE: empty interval is handled automatically\n    // e.g.\n    //\n    //    n = difference([0,1], [0,1]) // n = Interval(next(1), 1) = EMPTY\n    //    isEmpty(n) === true\n    //\n    if (y.lo <= x.lo) {\n      return Interval().halfOpenLeft(y.hi, x.hi)\n    }\n\n    // y.hi >= x.hi\n    return Interval().halfOpenRight(x.lo, y.lo)\n  }\n  return Interval.clone(x)\n}\n\n/**\n * Computes the distance between the endpoints of the interval i.e.\n * `x.hi - x.lo`\n * @example\n * Interval.width(\n *   Interval(1, 2)\n * )  // 1\n * @example\n * Interval.width(\n *   Interval(-1, 1)\n * )  // 2\n * @example\n * Interval.width(\n *   Interval(1, 1)\n * )  // next(0) ~5e-324\n * @example\n * Interval.width(\n *   Interval.EMPTY\n * )  // 0\n * @param {Interval} x\n * @returns {number}\n */\nmisc.width = function (x) {\n  if (utils.isEmpty(x)) { return 0 }\n  return rmath.subHi(x.hi, x.lo)\n}\n\n/**\n * Alias for {@link misc.width}\n * @function\n */\nmisc.wid = misc.width\n\n/**\n * Computes the absolute value of `x`\n * @example\n * Interval.abs(\n *   Interval(2, 3)\n * )  // Interval(2, 3)\n * @example\n * Interval.abs(\n *   Interval(-2, 3)\n * )  // Interval(2, 3)\n * @example\n * Interval.abs(\n *   Interval(-3, -2)\n * )  // Interval(2, 3)\n * @example\n * Interval.abs(\n *   Interval(-3, 2)\n * )  // Interval(0, 3)\n * @param {Interval} x\n * @return {Interval}\n */\nmisc.abs = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  if (x.lo >= 0) { return Interval.clone(x) }\n  if (x.hi <= 0) { return arithmetic.negative(x) }\n  return Interval(0, Math.max(-x.lo, x.hi))\n}\n\n/**\n * Computes an interval with the maximum values for each endpoint based on `x`\n * and `y`\n * @example\n * Interval.max(\n *   Interval(0, 3),\n *   Interval(1, 2)\n * )  // Interval(1, 3)\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\nmisc.max = function (x, y) {\n  var badX = utils.isEmpty(x)\n  var badY = utils.isEmpty(y)\n  if (badX && badY) {\n    return constants.EMPTY\n  } else if (badX) {\n    return y.clone()\n  } else if (badY) {\n    return x.clone()\n  } else {\n    return Interval(\n      Math.max(x.lo, y.lo),\n      Math.max(x.hi, y.hi)\n    )\n  }\n}\n\n/**\n * Computes an interval with the minimum values for each endpoint based on `x`\n * and `y`\n * @example\n * Interval.min(\n *   Interval(0, 3),\n *   Interval(1, 2)\n * )  // Interval(0, 2)\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\nmisc.min = function (x, y) {\n  var badX = utils.isEmpty(x)\n  var badY = utils.isEmpty(y)\n  if (badX && badY) {\n    return constants.EMPTY\n  } else if (badX) {\n    return y.clone()\n  } else if (badY) {\n    return x.clone()\n  } else {\n    return Interval(\n      Math.min(x.lo, y.lo),\n      Math.min(x.hi, y.hi)\n    )\n  }\n}\n\n/**\n * Creates an interval equal to `x`, equivalent to `Interval().set(x.lo, x.hi)`\n * @example\n * Interval.clone(\n *   Interval(1, 2)\n * )  // Interval(1, 2)\n * @example\n * Interval.clone(\n *   Interval.EMPTY\n * )  // Interval.EMPTY\n * @param {Interval} x\n * @return {Interval}\n */\nmisc.clone = function (x) {\n  // no bound checking\n  return Interval().set(x.lo, x.hi)\n}\n\nmodule.exports = misc\n","/**\n * Created by mauricio on 5/10/15.\n */\n'use strict'\nvar constants = require('../constants')\nvar Interval = require('../interval')\nvar rmath = require('../round-math')\nvar utils = require('./utils')\nvar misc = require('./misc')\nvar algebra = require('./algebra')\nvar arithmetic = require('./arithmetic')\n\n/**\n * @mixin trigonometric\n */\nvar trigonometric = {}\n\n// checks if an interval is\n//\n// - [-Infinity, -Infinity]\n// - [Infinity, Infinity]\n//\nfunction onlyInfinity (x) {\n  return !isFinite(x.lo) && x.lo === x.hi\n}\n\n// moves interval 2PI * k to the right until both\n// bounds are positive\nfunction handleNegative (interval) {\n  if (interval.lo < 0) {\n    if (interval.lo === -Infinity) {\n      interval.lo = 0\n      interval.hi = Infinity\n    } else {\n      var n = Math.ceil(-interval.lo / constants.PI_TWICE_LOW)\n      interval.lo += constants.PI_TWICE_LOW * n\n      interval.hi += constants.PI_TWICE_LOW * n\n    }\n  }\n  return interval\n}\n\n/**\n * Computes the cosine of `x`\n * @example\n * Interval.cos(\n *   Interval(0, 0)\n * ) // Interval(1, 1)\n * @example\n * Interval.cos(\n *   Interval(0, Math.PI / 2)\n * ) // Interval(0, 1)\n * @example\n * Interval.cos(\n *   Interval(3 * Math.PI / 2, 3 * Math.PI)\n * ) // Interval(-1, 1)\n * @example\n * Interval.cos(\n *   Interval(-Infinity, x)\n * )\n * // Interval(-1, 1) if x > -Infinity\n * // Interval.EMPTY otherwise\n * @example\n * Interval.cos(\n *   Interval(x, Infinity)\n * )\n * // Interval(-1, 1) if x < Infinity\n * // Interval.EMPTY otherwise\n * @param {Interval} x\n * @return {Interval}\n */\ntrigonometric.cos = function (x) {\n  var rlo, rhi\n  if (utils.isEmpty(x) || onlyInfinity(x)) { return constants.EMPTY }\n\n  // create a clone of `x` because the clone is going to be modified\n  var cache = Interval()\n  cache.set(x.lo, x.hi)\n  handleNegative(cache)\n\n  var pi2 = constants.PI_TWICE\n  var t = algebra.fmod(cache, pi2)\n  if (misc.width(t) >= pi2.lo) {\n    return Interval(-1, 1)\n  }\n\n  // when t.lo > pi it's the same as\n  // -cos(t - pi)\n  if (t.lo >= constants.PI_HIGH) {\n    var cos = trigonometric.cos(\n      arithmetic.sub(t, constants.PI)\n    )\n    return arithmetic.negative(cos)\n  }\n\n  var lo = t.lo\n  var hi = t.hi\n  rlo = rmath.cosLo(hi)\n  rhi = rmath.cosHi(lo)\n  // it's ensured that t.lo < pi and that t.lo >= 0\n  if (hi <= constants.PI_LOW) {\n    // when t.hi < pi\n    // [cos(t.lo), cos(t.hi)]\n    return Interval(rlo, rhi)\n  } else if (hi <= pi2.lo) {\n    // when t.hi < 2pi\n    // [-1, max(cos(t.lo), cos(t.hi))]\n    return Interval(-1, Math.max(rlo, rhi))\n  } else {\n    // t.lo < pi and t.hi > 2pi\n    return Interval(-1, 1)\n  }\n}\n\n/**\n * Computes the sine of `x`\n * @example\n * Interval.sin(\n *   Interval(0, 0)\n * ) // Interval(0, 0)\n * @example\n * Interval.sin(\n *   Interval(0, Math.PI / 2)\n * ) // Interval(0, 1)\n * @example\n * Interval.sin(\n *   Interval(Math.PI / 2, Math.PI / 2)\n * ) // Interval(1, 1)\n * @example\n * Interval.sin(\n *   Interval(Math.PI / 2, -Math.PI / 2)\n * ) // Interval(-1, 1)\n * @example\n * Interval.sin(\n *   Interval(Math.PI, 3 * Math.PI / 2)\n * ) // Interval(-1, 0)\n * @param {Interval} x\n * @return {Interval}\n */\ntrigonometric.sin = function (x) {\n  if (utils.isEmpty(x) || onlyInfinity(x)) { return constants.EMPTY }\n  return trigonometric.cos(\n    arithmetic.sub(x, constants.PI_HALF)\n  )\n}\n\n/**\n * Computes the tangent of `x`\n * @example\n * Interval.tan(\n *   Interval(-Math.PI / 4, Math.PI / 4)\n * ) // Interval(-1, 1)\n * @example\n * Interval.tan(\n *   Interval(0, Math.PI / 2)\n * ) // Interval.WHOLE\n * @example\n * Interval.tan(\n *   Interval(-Infinity, x)\n * )\n * // Interval.WHOLE if x > -Infinity\n * // Interval.EMPTY othewise\n * @param {Interval} x\n * @return {Interval}\n */\ntrigonometric.tan = function (x) {\n  if (utils.isEmpty(x) || onlyInfinity(x)) { return constants.EMPTY }\n\n  // create a clone of `x` because the clone is going to be modified\n  var cache = Interval()\n  cache.set(x.lo, x.hi)\n  handleNegative(cache)\n\n  var pi = constants.PI\n  var t = algebra.fmod(cache, pi)\n  if (t.lo >= constants.PI_HALF_LOW) {\n    t = arithmetic.sub(t, pi)\n  }\n  if (t.lo <= -constants.PI_HALF_LOW || t.hi >= constants.PI_HALF_LOW) {\n    return constants.WHOLE\n  }\n  return Interval(\n    rmath.tanLo(t.lo),\n    rmath.tanHi(t.hi)\n  )\n}\n\n/**\n * Computes the arcsine of `x`\n * @example\n * Interval.asin(\n *   Interval(-1.57079633, 1.57079633)\n * )  // Interval(-10, 10)\n * @param {Interval} x\n * @return {Interval}\n */\ntrigonometric.asin = function (x) {\n  if (utils.isEmpty(x) || x.hi < -1 || x.lo > 1) {\n    return constants.EMPTY\n  }\n  var lo = x.lo <= -1 ? -constants.PI_HALF_HIGH : rmath.asinLo(x.lo)\n  var hi = x.hi >= 1 ? constants.PI_HALF_HIGH : rmath.asinHi(x.hi)\n  return Interval(lo, hi)\n}\n\n/**\n * Computes the arccosine of `x`\n * @example\n * Interval.acos(\n *   Interval(0, 1)\n * )  // Interval(0, Math.PI / 2)\n * @param {Interval} x\n * @return {Interval}\n */\ntrigonometric.acos = function (x) {\n  if (utils.isEmpty(x) || x.hi < -1 || x.lo > 1) {\n    return constants.EMPTY\n  }\n  var lo = x.hi >= 1 ? 0 : rmath.acosLo(x.hi)\n  var hi = x.lo <= -1 ? constants.PI_HIGH : rmath.acosHi(x.lo)\n  return Interval(lo, hi)\n}\n\n/**\n * Computes the arctangent of `x`\n * @example\n * Interval.atan(\n *   Interval(-1, 1)\n * )  // Interval(-0.785398163, 0.785398163)\n * @param {Interval} x\n * @return {Interval}\n */\ntrigonometric.atan = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  return Interval(rmath.atanLo(x.lo), rmath.atanHi(x.hi))\n}\n\n/**\n * Computes the hyperbolic sine of `x`\n * @example\n * Interval.sinh(\n *   Interval(-2, 2)\n * )  // Interval(-3.6286040785, 3.6286040785)\n * @param {Interval} x\n * @return {Interval}\n */\ntrigonometric.sinh = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  return Interval(rmath.sinhLo(x.lo), rmath.sinhHi(x.hi))\n}\n\n/**\n * Computes the hyperbolic cosine of `x`\n * @example\n * Interval.cosh(\n *   Interval(-2, 2)\n * )  // Interval(1, 3.76219569108)\n * @param {Interval} x\n * @return {Interval}\n */\ntrigonometric.cosh = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  if (x.hi < 0) {\n    return Interval(\n      rmath.coshLo(x.hi),\n      rmath.coshHi(x.lo)\n    )\n  } else if (x.lo >= 0) {\n    return Interval(\n      rmath.coshLo(x.lo),\n      rmath.coshHi(x.hi)\n    )\n  } else {\n    return Interval(\n      1,\n      rmath.coshHi(-x.lo > x.hi ? x.lo : x.hi)\n    )\n  }\n}\n\n/**\n * Computes the hyperbolic tangent of `x`\n * @example\n * Interval.tanh(\n *   Interval(-Infinity, Infinity)\n * )  // Interval(-1, 1)\n * @param {Interval} x\n * @return {Interval}\n */\ntrigonometric.tanh = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  return Interval(rmath.tanhLo(x.lo), rmath.tanhHi(x.hi))\n}\n\nmodule.exports = trigonometric\n","/*\n * math-codegen\n *\n * Copyright (c) 2015 Mauricio Poppe\n * Licensed under the MIT license.\n */\n'use strict'\nmodule.exports = require('./lib/CodeGenerator')\n","//  Created by mauricio on 5/10/15.\n'use strict'\n\n/**\n * @mixin utils\n */\nvar utils = {}\n\n/**\n * Checks if `x` is an interval, `x` is an interval if it's an object which has\n * `x.lo` and `x.hi` defined and both are numbers\n * @example\n * Interval.isInterval(\n *   Interval()\n * ) // true\n * @example\n * Interval.isInterval(\n *   undefined\n * ) // false\n * @example\n * Interval.isInterval(\n *   {lo: 1, hi: 2}\n * ) // true\n * @param  {*} x\n * @return {Boolean} true if `x` is an interval\n */\nutils.isInterval = function (x) {\n  return typeof x === 'object' && typeof x.lo === 'number' && typeof x.hi === 'number'\n}\n\n/**\n * Checks if `x` is empty, it's empty when `x.lo > x.hi`\n * @example\n * Interval.isEmpty(\n *   Interval.EMPTY\n * ) // true\n * @example\n * Interval.isEmpty(\n *   Interval.WHOLE\n * ) // false\n * @example\n * Interval.isEmpty(\n *   // bypass empty interval check\n *   Interval().set(1, -1)\n * ) // true\n * @param {Interval} x\n * @returns {boolean}\n */\nutils.isEmpty = function (x) {\n  return x.lo > x.hi\n}\n\n/**\n * Checks if an interval is a whole interval, that is an interval which covers\n * all the real numbers i.e. when `x.lo === -Infinity` and `x.hi === Infinity`\n * @example\n * Interval.isWhole(\n *   Interval.WHOLE\n * ) // true\n * @param {Interval} x\n * @returns {boolean}\n */\nutils.isWhole = function (x) {\n  return x.lo === -Infinity && x.hi === Infinity\n}\n\n/**\n * Checks if the intervals `x` is a singleton (an interval representing a single\n * value) i.e. when `x.lo === x.hi`\n * @example\n * Interval.isSingleton(\n *  Interval(2, 2)\n * ) // true\n * @example\n * Interval.isSingleton(\n *  Interval(2)\n * ) // true\n * @param {Interval} x\n * @returns {boolean}\n */\nutils.isSingleton = function (x) {\n  return x.lo === x.hi\n}\n\n/**\n * Checks if zero is included in the interval `x`\n * @example\n * Interval.zeroIn(\n *   Interval(-1, 1)\n * ) // true\n * @param {Interval} x\n * @returns {boolean}\n */\nutils.zeroIn = function (x) {\n  return utils.hasValue(x, 0)\n}\n\n/**\n * Checks if `value` is included in the interval `x`\n * @example\n * Interval.hasValue(\n *   Interval(-1, 1),\n *   0\n * ) // true\n * @example\n * Interval.hasValue(\n *   Interval(-1, 1),\n *   10\n * ) // false\n * @param {Interval} x\n * @param {number} value\n * @returns {boolean}\n */\nutils.hasValue = function (a, value) {\n  if (utils.isEmpty(a)) { return false }\n  return a.lo <= value && value <= a.hi\n}\n\n/**\n * Checks if `x` is a subset of `y`\n * @example\n * Interval.hasInteravl(\n *   Interval(0, 3),\n *   Interval(1, 2)\n * ) // true\n * @example\n * Interval.hasInteravl(\n *   Interval(0, 3),\n *   Interval(1, 4)\n * ) // false\n * @param {Interval} x\n * @param {Interval} y\n * @returns {boolean}\n */\nutils.hasInterval = function (x, y) {\n  if (utils.isEmpty(x)) { return true }\n  return !utils.isEmpty(y) && y.lo <= x.lo && x.hi <= y.hi\n}\n\n/**\n * Checks if the intervals `x`, `y` overlap i.e. if they share at least one\n * value\n * @example\n * Interval.intervalsOverlap(\n *   Interval(0, 3),\n *   Interval(1, 2)\n * ) // true\n * @example\n * Interval.intervalsOverlap(\n *   Interval(0, 2),\n *   Interval(1, 3)\n * ) // true\n * @example\n * Interval.intervalsOverlap(\n *   Interval(0, 2),\n *   Interval(2, 3)\n * ) // true\n * @example\n * Interval.intervalsOverlap(\n *   Interval(0, 1),\n *   Interval(2, 3)\n * ) // false\n * @param {Interval} x\n * @param {Interval} y\n * @returns {boolean}\n */\nutils.intervalsOverlap = function (x, y) {\n  if (utils.isEmpty(x) || utils.isEmpty(y)) { return false }\n  return (x.lo <= y.lo && y.lo <= x.hi) ||\n  (y.lo <= x.lo && x.lo <= y.hi)\n}\n\nmodule.exports = utils\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\n\nvar d3 = window.d3\nvar Globals = {\n  COLORS: [\n    'steelblue',\n    'red',\n    '#05b378', // green\n    'orange',\n    '#4040e8', // purple\n    'yellow',\n    'brown',\n    'magenta',\n    'cyan'\n  ].map(function (v) {\n    return d3.hsl(v)\n  }),\n  DEFAULT_WIDTH: 550,\n  DEFAULT_HEIGHT: 350,\n  TIP_X_EPS: 1\n}\n\nGlobals.DEFAULT_ITERATIONS = null\nGlobals.MAX_ITERATIONS = Globals.DEFAULT_WIDTH * 4\n\nmodule.exports = Globals\n","'use strict';\n\nmodule.exports = integrate;\n\n// This algorithm adapted from pseudocode in:\n// http://www.math.utk.edu/~ccollins/refs/Handouts/rich.pdf\nfunction adsimp (f, a, b, fa, fm, fb, V0, tol, maxdepth, depth, state) {\n  if (state.nanEncountered) {\n    return NaN;\n  }\n\n  var h, f1, f2, sl, sr, s2, m, V1, V2, err;\n\n  h = b - a;\n  f1 = f(a + h * 0.25);\n  f2 = f(b - h * 0.25);\n\n  // Simple check for NaN:\n  if (isNaN(f1)) {\n    state.nanEncountered = true;\n    return;\n  }\n\n  // Simple check for NaN:\n  if (isNaN(f2)) {\n    state.nanEncountered = true;\n    return;\n  }\n\n  sl = h * (fa + 4 * f1 + fm) / 12;\n  sr = h * (fm + 4 * f2 + fb) / 12;\n  s2 = sl + sr;\n  err = (s2 - V0) / 15;\n\n  if (depth > maxdepth) {\n    state.maxDepthCount++;\n    return s2 + err;\n  } else if (Math.abs(err) < tol) {\n    return s2 + err;\n  } else {\n    m = a + h * 0.5;\n\n    V1 = adsimp(f, a, m, fa, f1, fm, sl, tol * 0.5, maxdepth, depth + 1, state);\n\n    if (isNaN(V1)) {\n      state.nanEncountered = true;\n      return NaN;\n    }\n\n    V2 = adsimp(f, m, b, fm, f2, fb, sr, tol * 0.5, maxdepth, depth + 1, state);\n\n    if (isNaN(V2)) {\n      state.nanEncountered = true;\n      return NaN;\n    }\n\n    return V1 + V2;\n  }\n}\n\nfunction integrate (f, a, b, tol, maxdepth) {\n  var state = {\n    maxDepthCount: 0,\n    nanEncountered: false\n  };\n\n  if (tol === undefined) {\n    tol = 1e-8;\n  }\n  if (maxdepth === undefined) {\n    maxdepth = 20;\n  }\n\n  var fa = f(a);\n  var fm = f(0.5 * (a + b));\n  var fb = f(b);\n\n  var V0 = (fa + 4 * fm + fb) * (b - a) / 6;\n\n  var result = adsimp(f, a, b, fa, fm, fb, V0, tol, maxdepth, 1, state);\n\n  if (state.maxDepthCount > 0 && console && console.warn) {\n    console.warn('integrate-adaptive-simpson: Warning: maximum recursion depth (' + maxdepth + ') reached ' + state.maxDepthCount + ' times');\n  }\n\n  if (state.nanEncountered && console && console.warn) {\n    console.warn('integrate-adaptive-simpson: Warning: NaN encountered. Halting early.');\n  }\n\n  return result;\n}\n","/*\n * built-in-math-eval\n *\n * Copyright (c) 2015 Mauricio Poppe\n * Licensed under the MIT license.\n */\n\n'use strict'\n\nmodule.exports = require('./lib/eval')\n","/**\n * Created by mauricio on 4/5/15.\n */\n'use strict'\nmodule.exports = {\n  polyline: require('./polyline'),\n  interval: require('./interval'),\n  scatter: require('./scatter')\n}\n","// Created by mauricio on 5/11/15.\n'use strict'\nvar Interval = require('./interval')\nvar mutate = require('xtend/mutable')\n\nvar piLow = (3373259426.0 + 273688.0 / (1 << 21)) / (1 << 30)\nvar piHigh = (3373259426.0 + 273689.0 / (1 << 21)) / (1 << 30)\n\n/**\n * @mixin constants\n */\nvar constants = {}\n\nmutate(constants, {\n  /**\n   * Previous IEEE floating point value of PI (equal to Math.PI)\n   * 3.141592653589793\n   * @memberof constants\n   * @type {number}\n   */\n  PI_LOW: piLow,\n  /**\n   * Next IEEE floating point value of PI, 3.1415926535897936\n   * @memberof constants\n   * @type {number}\n   */\n  PI_HIGH: piHigh,\n  PI_HALF_LOW: piLow / 2,\n  PI_HALF_HIGH: piHigh / 2,\n  PI_TWICE_LOW: piLow * 2,\n  PI_TWICE_HIGH: piHigh * 2\n})\n\nfunction getter (property, fn) {\n  Object.defineProperty(constants, property, {\n    get: function () {\n      return fn()\n    },\n    enumerable: true\n  })\n}\n\n/**\n * An interval that represents PI, NOTE: calls to Interval.PI always return\n * a new interval representing PI\n * @memberof constants\n * @static\n * @example\n * Interval(Interval.PI_LOW, Interval.PI_HIGH)\n * @name PI\n * @type {Interval}\n */\ngetter('PI', function () {\n  return Interval(piLow, piHigh)\n})\n\n/**\n * An interval that represents PI / 2, NOTE: calls to Interval.PI_HALF always\n * return a new interval representing PI / 2\n * @memberof constants\n * @static\n * @example\n * Interval(Interval.PI_LOW / 2, Interval.PI_HIGH / 2)\n * @name PI_HALF\n * @type {Interval}\n */\ngetter('PI_HALF', function () {\n  return Interval(constants.PI_HALF_LOW, constants.PI_HALF_HIGH)\n})\n\n/**\n * An interval that represents PI * 2, NOTE: calls to Interval.PI_TWICE always\n * return a new interval representing PI * 2\n * @memberof constants\n * @static\n * @example\n * Interval(Interval.PI_LOW * 2, Interval.PI_HIGH * 2)\n * @name PI_TWICE\n * @type {Interval}\n */\ngetter('PI_TWICE', function () {\n  return Interval(constants.PI_TWICE_LOW, constants.PI_TWICE_HIGH)\n})\n\n/**\n * An interval that represents 0, NOTE: calls to Interval.ZERO always\n * return a new interval representing 0\n * @memberof constants\n * @static\n * @example\n * // Interval.ZERO is equivalent to\n * Interval(0)\n * @name ZERO\n * @type {Interval}\n */\ngetter('ZERO', function () {\n  return Interval(0)\n})\n\n/**\n * An interval that represents 1, NOTE: calls to Interval.ONE always\n * return a new interval representing 1\n * @memberof constants\n * @static\n * @example\n * // Interval.ONE is equivalent to\n * Interval(1)\n * @name ONE\n * @type {Interval}\n */\ngetter('ONE', function () {\n  return Interval(1)\n})\n\n/**\n * An interval that represents all the real values\n * NOTE: calls to Interval.WHOLE always return a new interval representing all\n * the real values\n * @memberof constants\n * @static\n * @example\n * // Interval.WHOLE is equivalent to\n * Interval().setWhole()\n * @name WHOLE\n * @type {Interval}\n */\ngetter('WHOLE', function () {\n  return Interval().setWhole()\n})\n\n/**\n * An interval that represents no values\n * NOTE: calls to Interval.EMPTY always return a new interval representing no\n * values\n * @memberof constants\n * @static\n * @example\n * // Interval.EMPTY is equivalent to\n * Interval().setEmpty()\n * @name EMPTY\n * @type {Interval}\n */\ngetter('EMPTY', function () {\n  return Interval().setEmpty()\n})\n\nmodule.exports = constants\n","var Node = require('./Node')\n\nfunction ConditionalNode (predicate, truthy, falsy) {\n  this.condition = predicate\n  this.trueExpr = truthy\n  this.falseExpr = falsy\n}\n\nConditionalNode.prototype = Object.create(Node.prototype)\n\nConditionalNode.prototype.type = 'ConditionalNode'\n\nmodule.exports = ConditionalNode\n","'use strict'\n\nvar Operators = require('../misc/Operators')\n\nmodule.exports = function (node) {\n  if (this.options.raw) {\n    return ['(' + this.next(node.args[0]), node.op, this.next(node.args[1]) + ')'].join(' ')\n  }\n\n  var namedOperator = Operators[node.op]\n\n  if (!namedOperator) {\n    throw TypeError('unidentified operator')\n  }\n\n  /* eslint-disable new-cap */\n  return this.FunctionNode({\n    name: namedOperator,\n    args: node.args\n  })\n  /* eslint-enable new-cap */\n}\n","/**\n * Created by mauricio on 5/12/15.\n */\n'use strict'\nmodule.exports = function (Interval) {\n  return {\n    disableRounding: function () {\n      Interval.rmath.disable()\n    },\n\n    enableRounding: function () {\n      Interval.rmath.enable()\n    }\n  }\n}\n","var range = require('lodash.range');\n\nmodule.exports = function linspace(a,b,n) {\n  var every = (b-a)/(n-1),\n      ranged = range(a,b,every);\n\n  return ranged.length == n ? ranged : ranged.concat(b);\n}\n\n","var hasTypedArrays = false\nif(typeof Float64Array !== \"undefined\") {\n  var DOUBLE_VIEW = new Float64Array(1)\n    , UINT_VIEW   = new Uint32Array(DOUBLE_VIEW.buffer)\n  DOUBLE_VIEW[0] = 1.0\n  hasTypedArrays = true\n  if(UINT_VIEW[1] === 0x3ff00000) {\n    //Use little endian\n    module.exports = function doubleBitsLE(n) {\n      DOUBLE_VIEW[0] = n\n      return [ UINT_VIEW[0], UINT_VIEW[1] ]\n    }\n    function toDoubleLE(lo, hi) {\n      UINT_VIEW[0] = lo\n      UINT_VIEW[1] = hi\n      return DOUBLE_VIEW[0]\n    }\n    module.exports.pack = toDoubleLE\n    function lowUintLE(n) {\n      DOUBLE_VIEW[0] = n\n      return UINT_VIEW[0]\n    }\n    module.exports.lo = lowUintLE\n    function highUintLE(n) {\n      DOUBLE_VIEW[0] = n\n      return UINT_VIEW[1]\n    }\n    module.exports.hi = highUintLE\n  } else if(UINT_VIEW[0] === 0x3ff00000) {\n    //Use big endian\n    module.exports = function doubleBitsBE(n) {\n      DOUBLE_VIEW[0] = n\n      return [ UINT_VIEW[1], UINT_VIEW[0] ]\n    }\n    function toDoubleBE(lo, hi) {\n      UINT_VIEW[1] = lo\n      UINT_VIEW[0] = hi\n      return DOUBLE_VIEW[0]\n    }\n    module.exports.pack = toDoubleBE\n    function lowUintBE(n) {\n      DOUBLE_VIEW[0] = n\n      return UINT_VIEW[1]\n    }\n    module.exports.lo = lowUintBE\n    function highUintBE(n) {\n      DOUBLE_VIEW[0] = n\n      return UINT_VIEW[0]\n    }\n    module.exports.hi = highUintBE\n  } else {\n    hasTypedArrays = false\n  }\n}\nif(!hasTypedArrays) {\n  var buffer = new Buffer(8)\n  module.exports = function doubleBits(n) {\n    buffer.writeDoubleLE(n, 0, true)\n    return [ buffer.readUInt32LE(0, true), buffer.readUInt32LE(4, true) ]\n  }\n  function toDouble(lo, hi) {\n    buffer.writeUInt32LE(lo, 0, true)\n    buffer.writeUInt32LE(hi, 4, true)\n    return buffer.readDoubleLE(0, true)\n  }\n  module.exports.pack = toDouble  \n  function lowUint(n) {\n    buffer.writeDoubleLE(n, 0, true)\n    return buffer.readUInt32LE(0, true)\n  }\n  module.exports.lo = lowUint\n  function highUint(n) {\n    buffer.writeDoubleLE(n, 0, true)\n    return buffer.readUInt32LE(4, true)\n  }\n  module.exports.hi = highUint\n}\n\nmodule.exports.sign = function(n) {\n  return module.exports.hi(n) >>> 31\n}\n\nmodule.exports.exponent = function(n) {\n  var b = module.exports.hi(n)\n  return ((b<<1) >>> 21) - 1023\n}\n\nmodule.exports.fraction = function(n) {\n  var lo = module.exports.lo(n)\n  var hi = module.exports.hi(n)\n  var b = hi & ((1<<20) - 1)\n  if(hi & 0x7ff00000) {\n    b += (1<<20)\n  }\n  return [lo, b]\n}\n\nmodule.exports.denormalized = function(n) {\n  var hi = module.exports.hi(n)\n  return !(hi & 0x7ff00000)\n}","var linspace = require('linspace');\n\nmodule.exports = function logspace(a,b,n) {\n  return linspace(a,b,n).map(function(x) { return Math.pow(10,x); });\n}\n","var Node = require('./Node')\n\nfunction SymbolNode (name) {\n  this.name = name\n}\n\nSymbolNode.prototype = Object.create(Node.prototype)\n\nSymbolNode.prototype.type = 'SymbolNode'\n\nmodule.exports = SymbolNode\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\nvar d3 = window.d3\n\nmodule.exports = function (options) {\n  var annotations\n  var xScale = options.owner.meta.xScale\n  var yScale = options.owner.meta.yScale\n\n  var line = d3.svg.line()\n    .x(function (d) { return d[0] })\n    .y(function (d) { return d[1] })\n\n  annotations = function (parentSelection) {\n    parentSelection.each(function () {\n      // join\n      var current = d3.select(this)\n      var selection = current.selectAll('g.annotations')\n        .data(function (d) { return d.annotations || [] })\n\n      // enter\n      selection.enter()\n        .append('g')\n        .attr('class', 'annotations')\n\n      // enter + update\n      // - path\n      var yRange = yScale.range()\n      var xRange = xScale.range()\n      var path = selection.selectAll('path')\n        .data(function (d) {\n          if (d.hasOwnProperty('x')) {\n            return [ [[0, yRange[0]], [0, yRange[1]]] ]\n          } else {\n            return [ [[xRange[0], 0], [xRange[1], 0]] ]\n          }\n        })\n      path.enter()\n        .append('path')\n        .attr('stroke', '#eee')\n        .attr('d', line)\n      path.exit().remove()\n\n      // enter + update\n      // - text\n      var text = selection.selectAll('text')\n        .data(function (d) {\n          return [{\n            text: d.text || '',\n            hasX: d.hasOwnProperty('x')\n          }]\n        })\n      text.enter()\n        .append('text')\n        .attr('y', function (d) {\n          return d.hasX ? 3 : 0\n        })\n        .attr('x', function (d) {\n          return d.hasX ? 0 : 3\n        })\n        .attr('dy', function (d) {\n          return d.hasX ? 5 : -5\n        })\n        .attr('text-anchor', function (d) {\n          return d.hasX ? 'end' : ''\n        })\n        .attr('transform', function (d) {\n          return d.hasX ? 'rotate(-90)' : ''\n        })\n        .text(function (d) { return d.text })\n      text.exit().remove()\n\n      // enter + update\n      // move group\n      selection\n        .attr('transform', function (d) {\n          if (d.hasOwnProperty('x')) {\n            return 'translate(' + xScale(d.x) + ', 0)'\n          } else {\n            return 'translate(0, ' + yScale(d.y) + ')'\n          }\n        })\n\n      // exit\n      selection.exit()\n        .remove()\n    })\n  }\n\n  return annotations\n}\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\nvar d3 = window.d3\nvar evaluate = require('../evaluate')\nvar utils = require('../utils')\n\nmodule.exports = function (chart) {\n  var minWidthHeight\n  var xScale = chart.meta.xScale\n  var yScale = chart.meta.yScale\n\n  function clampRange (vLo, vHi, gLo, gHi) {\n    // issue 69\n    // by adding the option `invert` to both the xAxis and the `yAxis`\n    // it might be possible that after the transformation to canvas space\n    // the y limits of the rectangle get inverted i.e. gLo > gHi\n    //\n    // e.g.\n    //\n    //   functionPlot({\n    //     target: '#playground',\n    //     yAxis: { invert: true },\n    //     // ...\n    //   })\n    //\n    if (gLo > gHi) {\n      var t = gLo\n      gLo = gHi\n      gHi = t\n    }\n    var hi = Math.min(vHi, gHi)\n    var lo = Math.max(vLo, gLo)\n    if (lo > hi) {\n      // no overlap\n      return [-minWidthHeight, 0]\n    }\n    return [lo, hi]\n  }\n\n  var line = function (points, closed) {\n    var path = ''\n    var range = yScale.range()\n    var minY = Math.min.apply(Math, range)\n    var maxY = Math.max.apply(Math, range)\n    for (var i = 0, length = points.length; i < length; i += 1) {\n      if (points[i]) {\n        var x = points[i][0]\n        var y = points[i][1]\n        var yLo = y.lo\n        var yHi = y.hi\n        // if options.closed is set to true then one of the bounds must be zero\n        if (closed) {\n          yLo = Math.min(yLo, 0)\n          yHi = Math.max(yHi, 0)\n        }\n        // points.scaledDX is added because of the stroke-width\n        var moveX = xScale(x.lo) + points.scaledDx / 2\n        var viewportY = clampRange(\n          minY, maxY,\n          isFinite(yHi) ? yScale(yHi) : -Infinity,\n          isFinite(yLo) ? yScale(yLo) : Infinity\n        )\n        var vLo = viewportY[0]\n        var vHi = viewportY[1]\n        path += ' M ' + moveX + ' ' + vLo\n        path += ' v ' + Math.max(vHi - vLo, minWidthHeight)\n      }\n    }\n    return path\n  }\n\n  function plotLine (selection) {\n    selection.each(function (d) {\n      var el = plotLine.el = d3.select(this)\n      var index = d.index\n      var closed = d.closed\n      var evaluatedData = evaluate(chart, d)\n      var innerSelection = el.selectAll(':scope > path.line')\n        .data(evaluatedData)\n\n      // the min height/width of the rects drawn by the path generator\n      minWidthHeight = Math.max(evaluatedData[0].scaledDx, 1)\n\n      innerSelection.enter()\n        .append('path')\n        .attr('class', 'line line-' + index)\n        .attr('fill', 'none')\n\n      // enter + update\n      innerSelection\n        .attr('stroke-width', minWidthHeight)\n        .attr('stroke', utils.color(d, index))\n        .attr('opacity', closed ? 0.5 : 1)\n        .attr('d', function (d) {\n          return line(d, closed)\n        })\n        .attr(d.attr)\n\n      innerSelection.exit().remove()\n    })\n  }\n\n  return plotLine\n}\n","'use strict'\n\nmodule.exports = {\n  // arithmetic\n  '+': 'add',\n  '-': 'sub',\n  '*': 'mul',\n  '/': 'div',\n  '^': 'pow',\n  '%': 'mod',\n  '!': 'factorial',\n\n  // misc operators\n  '|': 'bitwiseOR',       // bitwise or\n  '^|': 'bitwiseXOR',     // bitwise xor\n  '&': 'bitwiseAND',      // bitwise and\n\n  '||': 'logicalOR',      // logical or\n  'xor': 'logicalXOR',    // logical xor\n  '&&': 'logicalAND',     // logical and\n\n  // comparison\n  '<': 'lessThan',\n  '>': 'greaterThan',\n  '<=': 'lessEqualThan',\n  '>=': 'greaterEqualThan',\n  '===': 'strictlyEqual',\n  '==': 'equal',\n  '!==': 'strictlyNotEqual',\n  '!=': 'notEqual',\n\n  // shift\n  '>>': 'shiftRight',\n  '<<': 'shiftLeft',\n  '>>>': 'unsignedRightShift'\n}\n","'use strict'\nmodule.exports = function (node) {\n  if (this.options.raw) {\n    return node.value\n  }\n  return this.options.factory + '(' + node.value + ')'\n}\n","'use strict'\n\nmodule.exports = {\n  '+': 'positive',\n  '-': 'negative',\n  '~': 'oneComplement'\n}\n","'use strict';\nvar MAX_SAFE_INTEGER = require('max-safe-integer');\n\nmodule.exports = Number.isSafeInteger || function (val) {\n\treturn typeof val === 'number' && val === val && val !== Infinity && val !== -Infinity && parseInt(val, 10) === val && Math.abs(val) <= MAX_SAFE_INTEGER;\n};\n","/**\n * Created by mauricio on 5/11/15.\n */\n'use strict'\n\nvar isSafeInteger = require('is-safe-integer')\n\nvar Interval = require('../interval')\nvar rmath = require('../round-math')\nvar utils = require('./utils')\nvar arithmetic = require('./arithmetic')\nvar constants = require('../constants')\n\n/**\n * @mixin algebra\n */\nvar algebra = {}\n\n/**\n * Computes x mod y (x - k * y)\n * @example\n * Interval.fmod(\n *   Interval(5.3, 5.3),\n *   Interval(2, 2)\n * ) // Interval(1.3, 1.3)\n *\n * @example\n * Interval.fmod(\n *   Interval(5, 7),\n *   Interval(2, 3)\n * ) // Interval(2, 5)\n * // explanation: [5, 7] - [2, 3] * 1 = [2, 5]\n *\n * @param {Interval} x\n * @param {Interval} y\n * @return {Interval}\n */\nalgebra.fmod = function (x, y) {\n  if (utils.isEmpty(x) || utils.isEmpty(y)) {\n    return constants.EMPTY\n  }\n  var yb = x.lo < 0 ? y.lo : y.hi\n  var n = x.lo / yb\n  if (n < 0) n = Math.ceil(n)\n  else n = Math.floor(n)\n  // x mod y = x - n * y\n  return arithmetic.sub(x, arithmetic.mul(y, Interval(n)))\n}\n\n/**\n * Computes 1 / x\n *\n * @example\n * Interval.multiplicativeInverse(\n *   Interval(2, 6)\n * )  // Interval(1/6, 1/2)\n * @example\n * Interval.multiplicativeInverse(\n *   Interval(-6, -2)\n * )  // Interval(-1/2, -1/6)\n * @param {Interval} x\n * @returns {Interval}\n */\nalgebra.multiplicativeInverse = function (x) {\n  if (utils.isEmpty(x)) { return constants.EMPTY }\n  if (utils.zeroIn(x)) {\n    if (x.lo !== 0) {\n      if (x.hi !== 0) {\n        // [negative, positive]\n        return constants.WHOLE\n      } else {\n        // [negative, zero]\n        return Interval(\n          Number.NEGATIVE_INFINITY,\n          rmath.divHi(1, x.lo)\n        )\n      }\n    } else {\n      if (x.hi !== 0) {\n        // [zero, positive]\n        return Interval(\n          rmath.divLo(1, x.hi),\n          Number.POSITIVE_INFINITY\n        )\n      } else {\n        // [zero, zero]\n        return constants.EMPTY\n      }\n    }\n  } else {\n    // [positive, positive]\n    return Interval(\n      rmath.divLo(1, x.hi),\n      rmath.divHi(1, x.lo)\n    )\n  }\n}\n\n/**\n * Computes x^power given that `power` is an integer\n *\n * If `power` is an Interval it must be a singletonInterval i.e. x^x is not\n * supported yet\n *\n * If `power` is a rational number use {@link arithmetic.nthRoot} instead\n *\n * @example\n * // 2^{-2}\n * Interval.pow(\n *   Interval(2, 2),\n *   -2\n * )  // Interval(1/4, 1/4)\n * @example\n * // [2,3]^2\n * Interval.pow(\n *   Interval(2, 3),\n *   2\n * )  // Interval(4, 9)\n * @example\n * // [2,3]^0\n * Interval.pow(\n *   Interval(2, 3),\n *   0\n * )  // Interval(1, 1)\n * @example\n * // with a singleton interval\n * Interval.pow(\n *   Interval(2, 3),\n *   Interval(2)\n * )  // Interval(4, 9)\n * @param {Interval} x\n * @param {number|Interval} power A number of a singleton interval\n * @returns {Interval}\n */\nalgebra.pow = function (x, power) {\n  if (utils.isEmpty(x)) {\n    return constants.EMPTY\n  }\n  if (typeof power === 'object') {\n    if (!utils.isSingleton(power)) {\n      return constants.EMPTY\n    }\n    power = power.lo\n  }\n\n  if (power === 0) {\n    if (x.lo === 0 && x.hi === 0) {\n      // 0^0\n      return constants.EMPTY\n    } else {\n      // x^0\n      return constants.ONE\n    }\n  } else if (power < 0) {\n    // compute [1 / x]^-power if power is negative\n    return algebra.pow(\n      algebra.multiplicativeInverse(x),\n      -power\n    )\n  }\n\n  // power > 0\n  if (isSafeInteger(power)) {\n    // power is integer\n    if (x.hi < 0) {\n      // [negative, negative]\n      // assume that power is even so the operation will yield a positive interval\n      // if not then just switch the sign and order of the interval bounds\n      var yl = rmath.powLo(-x.hi, power)\n      var yh = rmath.powHi(-x.lo, power)\n      if (power & 1) {\n        // odd power\n        return Interval(-yh, -yl)\n      } else {\n        // even power\n        return Interval(yl, yh)\n      }\n    } else if (x.lo < 0) {\n      // [negative, positive]\n      if (power & 1) {\n        return Interval(\n          -rmath.powLo(-x.lo, power),\n          rmath.powHi(x.hi, power)\n        )\n      } else {\n        // even power means that any negative number will be zero (min value = 0)\n        // and the max value will be the max of x.lo^power, x.hi^power\n        return Interval(\n          0,\n          rmath.powHi(Math.max(-x.lo, x.hi), power)\n        )\n      }\n    } else {\n      // [positive, positive]\n      return Interval(\n        rmath.powLo(x.lo, power),\n        rmath.powHi(x.hi, power)\n      )\n    }\n  } else {\n    console.warn('power is not an integer, you should use nth-root instead, returning an empty interval')\n    return constants.EMPTY\n  }\n}\n\n/**\n * Computes sqrt(x), alias for `nthRoot(x, 2)`\n * @example\n * Interval.sqrt(\n *   Interval(4, 9)\n * ) // Interval(prev(2), next(3))\n * @param {Interval} x\n * @returns {Interval}\n */\nalgebra.sqrt = function (x) {\n  return algebra.nthRoot(x, 2)\n}\n\n/**\n * Computes x^(1/n)\n *\n * @example\n * Interval.nthRoot(\n *   Interval(-27, -8),\n *   3\n * ) // Interval(-3, -2)\n * @param {Interval} x\n * @param {number|Interval} n A number or a singleton interval\n * @return {Interval}\n */\nalgebra.nthRoot = function (x, n) {\n  if (utils.isEmpty(x) || n < 0) {\n    // compute 1 / x^-power if power is negative\n    return constants.EMPTY\n  }\n\n  // singleton interval check\n  if (typeof n === 'object') {\n    if (!utils.isSingleton(n)) {\n      return constants.EMPTY\n    }\n    n = n.lo\n  }\n\n  var power = 1 / n\n  if (x.hi < 0) {\n    // [negative, negative]\n    if (isSafeInteger(n) & (n & 1)) {\n      // when n is odd we can always take the nth root\n      var yl = rmath.powHi(-x.lo, power)\n      var yh = rmath.powLo(-x.hi, power)\n      return Interval(-yl, -yh)\n    }\n    // n is not odd therefore there's no nth root\n    return Interval.EMPTY\n  } else if (x.lo < 0) {\n    // [negative, positive]\n    var yp = rmath.powHi(x.hi, power)\n    if (isSafeInteger(n) & (n & 1)) {\n      // nth root of x.lo is possible (n is odd)\n      var yn = -rmath.powHi(-x.lo, power)\n      return Interval(yn, yp)\n    }\n    return Interval(0, yp)\n  } else {\n    // [positive, positive]\n    return Interval(\n      rmath.powLo(x.lo, power),\n      rmath.powHi(x.hi, power)\n    )\n  }\n}\n\nmodule.exports = algebra\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\nvar linspace = require('linspace')\nvar logspace = require('logspace')\nvar log10 = require('log10')\n\nvar globals = require('./globals')\n\nmodule.exports = {\n  isValidNumber: function (v) {\n    return typeof v === 'number' && !isNaN(v)\n  },\n\n  space: function (chart, range, n) {\n    var lo = range[0]\n    var hi = range[1]\n    if (chart.options.xAxis.type === 'log') {\n      return logspace(log10(lo), log10(hi), n)\n    }\n    // default is linear\n    return linspace(lo, hi, n)\n  },\n\n  getterSetter: function (config, option) {\n    var me = this\n    this[option] = function (value) {\n      if (!arguments.length) {\n        return config[option]\n      }\n      config[option] = value\n      return me\n    }\n  },\n\n  sgn: function (v) {\n    if (v < 0) { return -1 }\n    if (v > 0) { return 1 }\n    return 0\n  },\n\n  color: function (data, index) {\n    return data.color || globals.COLORS[index]\n  }\n}\n","\"use strict\";\n\nmodule.exports = function isObject(x) {\n\treturn typeof x === \"object\" && x !== null;\n};\n","// Created by mauricio on 4/27/15.\n\n'use strict'\nvar nextafter = require('nextafter')\n\n/**\n * @module interval-arithmetic/round-math\n */\n\nfunction identity (v) { return v }\nfunction prev (v) {\n  if (v === Infinity) { return v }\n  return nextafter(v, -Infinity)\n}\nfunction next (v) {\n  if (v === -Infinity) { return v }\n  return nextafter(v, Infinity)\n}\n\n/**\n * @alias module:interval-arithmetic/round-math\n */\nvar round = {\n  /**\n   * Computes the previous IEEE floating point representation of `v`\n   * @example\n   * Interval.round.safePrev(1)          // 0.9999999999999999\n   * Interval.round.safePrev(3)          // 2.9999999999999996\n   * Interval.round.safePrev(Infinity)   // Infinity\n   * @param {number} v\n   * @return {number}\n   * @function\n   */\n  safePrev: prev,\n  /**\n   * Computes the next IEEE floating point representation of `v`\n   * @example\n   * Interval.round.safeNext(1)          // 1.0000000000000002\n   * Interval.round.safeNext(3)          // 3.0000000000000004\n   * Interval.round.safeNext(-Infinity)  // -Infinity\n   * @param {number} v\n   * @return {number}\n   * @function\n   */\n  safeNext: next,\n  prev: prev,\n  next: next\n}\n\nround.addLo = function (x, y) { return this.prev(x + y) }\nround.addHi = function (x, y) { return this.next(x + y) }\n\nround.subLo = function (x, y) { return this.prev(x - y) }\nround.subHi = function (x, y) { return this.next(x - y) }\n\nround.mulLo = function (x, y) { return this.prev(x * y) }\nround.mulHi = function (x, y) { return this.next(x * y) }\n\nround.divLo = function (x, y) { return this.prev(x / y) }\nround.divHi = function (x, y) { return this.next(x / y) }\n\nfunction toInteger (x) {\n  return x < 0 ? Math.ceil(x) : Math.floor(x)\n}\n\nround.intLo = function (x) { return toInteger(this.prev(x)) }\nround.intHi = function (x) { return toInteger(this.next(x)) }\n\nround.logLo = function (x) { return this.prev(Math.log(x)) }\nround.logHi = function (x) { return this.next(Math.log(x)) }\n\nround.expLo = function (x) { return this.prev(Math.exp(x)) }\nround.expHi = function (x) { return this.next(Math.exp(x)) }\n\nround.sinLo = function (x) { return this.prev(Math.sin(x)) }\nround.sinHi = function (x) { return this.next(Math.sin(x)) }\n\nround.cosLo = function (x) { return this.prev(Math.cos(x)) }\nround.cosHi = function (x) { return this.next(Math.cos(x)) }\n\nround.tanLo = function (x) { return this.prev(Math.tan(x)) }\nround.tanHi = function (x) { return this.next(Math.tan(x)) }\n\nround.asinLo = function (x) { return this.prev(Math.asin(x)) }\nround.asinHi = function (x) { return this.next(Math.asin(x)) }\n\nround.acosLo = function (x) { return this.prev(Math.acos(x)) }\nround.acosHi = function (x) { return this.next(Math.acos(x)) }\n\nround.atanLo = function (x) { return this.prev(Math.atan(x)) }\nround.atanHi = function (x) { return this.next(Math.atan(x)) }\n\n// polyfill required for hyperbolic functions\nround.sinhLo = function (x) { return this.prev(Math.sinh(x)) }\nround.sinhHi = function (x) { return this.next(Math.sinh(x)) }\n\nround.coshLo = function (x) { return this.prev(Math.cosh(x)) }\nround.coshHi = function (x) { return this.next(Math.cosh(x)) }\n\nround.tanhLo = function (x) { return this.prev(Math.tanh(x)) }\nround.tanhHi = function (x) { return this.next(Math.tanh(x)) }\n\n/*\n * @ignore\n * ln(power) exponentiation of x\n * @param {number} x\n * @param {number} power\n * @returns {number}\n */\nround.powLo = function (x, power) {\n  if (power % 1 !== 0) {\n    // power has decimals\n    return this.prev(Math.pow(x, power))\n  }\n\n  var y = (power & 1) ? x : 1\n  power >>= 1\n  while (power > 0) {\n    x = round.mulLo(x, x)\n    if (power & 1) {\n      y = round.mulLo(x, y)\n    }\n    power >>= 1\n  }\n  return y\n}\n\n/*\n * @ignore\n * ln(power) exponentiation of x\n * @param {number} x\n * @param {number} power\n * @returns {number}\n */\nround.powHi = function (x, power) {\n  if (power % 1 !== 0) {\n    // power has decimals\n    return this.next(Math.pow(x, power))\n  }\n\n  var y = (power & 1) ? x : 1\n  power >>= 1\n  while (power > 0) {\n    x = round.mulHi(x, x)\n    if (power & 1) {\n      y = round.mulHi(x, y)\n    }\n    power >>= 1\n  }\n  return y\n}\n\nround.sqrtLo = function (x) { return this.prev(Math.sqrt(x)) }\nround.sqrtHi = function (x) { return this.next(Math.sqrt(x)) }\n\n/**\n * Most operations on intervals will cary the rounding error so that the\n * resulting interval correctly represents all the possible values, this feature\n * can be disabled by calling this method allowing a little boost in the\n * performance while operating on intervals\n *\n * @see module:interval-arithmetic/round-math.enable\n * @example\n * var x = Interval.add(\n *   Interval(1),\n *   Interval(1)\n * )\n * x // equal to {lo: 1.9999999999999998, hi: 2.0000000000000004}\n *\n * Interval.round.disable()\n * var y = Interval.add(\n *   Interval(1),\n *   Interval(1)\n * )\n * y // equal to {lo: 2, hi: 2}\n * @function\n */\nround.disable = function () {\n  this.next = this.prev = identity\n}\n\n/**\n * Enables IEEE previous/next floating point wrapping of values (enabled by\n * default)\n * @see module:interval-arithmetic/round-math.disable\n * @example\n * var x = Interval.add(\n *   Interval(1),\n *   Interval(1)\n * )\n * x // equal to {lo: 1.9999999999999998, hi: 2.0000000000000004}\n *\n * Interval.round.disable()\n * var y = Interval.add(\n *   Interval(1),\n *   Interval(1)\n * )\n * y // equal to {lo: 2, hi: 2}\n *\n * Interval.round.enable()\n * var z = Interval.add(\n *   Interval(1),\n *   Interval(1)\n * )\n * z // equal to {lo: 1.9999999999999998, hi: 2.0000000000000004}\n * @function\n */\nround.enable = function () {\n  this.next = next\n  this.prev = prev\n}\n\nmodule.exports = round\n","// Created by mauricio on 5/14/15.\n\n'use strict'\nvar utils = require('./utils')\n\n// boost/numeric/interval_lib/compare/certain package on boost\n\n/**\n * @mixin relational\n */\nvar relational = {}\n\n/**\n * Checks if the intervals `x`, `y` are equal, they're equal when\n * `x.lo === y.lo` and `x.hi === y.hi`, a corner case handled is when `x` and\n * `y` are both empty intervals\n * @example\n * Interval.equal(\n *   Interval(2, 3),\n *   Interval(2, 3)\n * ) // true\n * @example\n * Interval.equal(\n *   Interval.EMPTY,\n *   Interval.EMPTY\n * ) // true\n * @param {Interval} x\n * @param {Interval} y\n * @returns {boolean}\n */\nrelational.equal = function (x, y) {\n  if (utils.isEmpty(x)) {\n    return utils.isEmpty(y)\n  }\n  return !utils.isEmpty(y) && x.lo === y.lo && x.hi === y.hi\n}\n\n// <debug>\nvar EPS = 1e-7\nfunction assert (a, message) {\n  /* istanbul ignore next */\n  if (!a) { throw new Error(message || 'assertion failed') }\n}\n\nfunction assertEps (a, b) {\n  if (!isFinite(a)) {\n    return assert(a === b, '[Infinity] expected ' + a + ' to be ' + b)\n  }\n  assert(Math.abs(a - b) < EPS, 'expected ' + a + ' to be close to ' + b)\n}\n\nrelational.almostEqual = function (x, y) {\n  x = Array.isArray(x) ? x : x.toArray()\n  y = Array.isArray(y) ? y : y.toArray()\n  assertEps(x[0], y[0])\n  assertEps(x[1], y[1])\n}\n\nrelational.assertIncludes = function (x, y) {\n  // checks that `y` is included in `x` with the bounds close to `x`\n  relational.almostEqual(x, y)\n  x = Array.isArray(x) ? x : x.toArray()\n  y = Array.isArray(y) ? y : y.toArray()\n  assert(x[0] <= y[0], x[0] + ' should be less/equal than ' + y[0])\n  assert(y[1] <= x[1], y[1] + ' should be less/equal than ' + x[1])\n}\n// </debug>\n\n/**\n * Checks if the intervals `x`, `y` are not equal i.e. when the intervals don't\n * share any value\n * @example\n * Interval.notEqual(\n *   Interval(2, 3),\n *   Interval(4, 5)\n * ) // true\n * @example\n * Interval.notEqual(\n *   Interval(2, 3),\n *   Interval(3, 5)\n * ) // false\n * @example\n * Interval.notEqual(\n *   Interval(2, 4),\n *   Interval(3, 5)\n * ) // false\n * @param {Interval} x\n * @param {Interval} y\n * @returns {boolean}\n */\nrelational.notEqual = function (x, y) {\n  if (utils.isEmpty(x)) {\n    return !utils.isEmpty(y)\n  }\n  return utils.isEmpty(y) || x.hi < y.lo || x.lo > y.hi\n}\n\n/**\n * Checks if the interval `x` is less than `y` i.e. if all the values of `x`\n * are lower than the left endpoint of `y`\n * @example\n * Interval.lessThan(\n *   Interval(2, 3),\n *   Interval(4, 5)\n * ) // true\n * @example\n * Interval.lessThan(\n *   Interval(4, 5),\n *   Interval(2, 3)\n * ) // false\n * @param {Interval} x\n * @param {Interval} y\n * @return {boolean}\n */\nrelational.lessThan = function (x, y) {\n  if (utils.isEmpty(x) || utils.isEmpty(y)) {\n    return false\n  }\n  return x.hi < y.lo\n}\n\n/**\n * Alias for {@link relational.lessThan}\n * @function\n */\nrelational.lt = relational.lessThan\n\n/**\n * Checks if the interval `x` is greater than `y` i.e. if all the values of `x`\n * are greater than the right endpoint of `y`\n * @example\n * Interval.greaterThan(\n *   Interval(2, 3),\n *   Interval(4, 5)\n * ) // false\n * @example\n * Interval.greaterThan(\n *   Interval(4, 5),\n *   Interval(2, 3)\n * ) // true\n * @param {Interval} x\n * @param {Interval} y\n * @return {boolean}\n */\nrelational.greaterThan = function (x, y) {\n  if (utils.isEmpty(x) || utils.isEmpty(y)) {\n    return false\n  }\n  return x.lo > y.hi\n}\n\n/**\n * Alias for {@link relational.greaterThan}\n * @function\n */\nrelational.gt = relational.greaterThan\n\n/**\n * Checks if the interval `x` is less or equal than `y` i.e.\n * if all the values of `x` are lower or equal to the left endpoint of `y`\n * @example\n * Interval.lessEqualThan(\n *   Interval(2, 3),\n *   Interval(3, 5)\n * ) // true\n * @param {Interval} x\n * @param {Interval} y\n * @return {boolean}\n */\nrelational.lessEqualThan = function (x, y) {\n  if (utils.isEmpty(x) || utils.isEmpty(y)) {\n    return false\n  }\n  return x.hi <= y.lo\n}\n\n/**\n * Alias for {@link relational.lessEqualThan}\n * @function\n */\nrelational.leq = relational.lessEqualThan\n\n/**\n * Checks if the interval `x` is greater or equal than `y` i.e.\n * if all the values of `x` are greater or equal to the right endpoint of `y`\n * @param {Interval} x\n * @param {Interval} y\n * @return {boolean}\n */\nrelational.greaterEqualThan = function (x, y) {\n  if (utils.isEmpty(x) || utils.isEmpty(y)) {\n    return false\n  }\n  return x.lo >= y.hi\n}\n\n/**\n * Alias for {@link relational.greaterEqualThan}\n * @function\n */\nrelational.geq = relational.greaterEqualThan\n\nmodule.exports = relational\n","'use strict'\n\nvar Parser = require('mr-parser').Parser\nvar Interpreter = require('./Interpreter')\nvar extend = require('extend')\n\nfunction CodeGenerator (options, defs) {\n  this.statements = []\n  this.defs = defs || {}\n  this.interpreter = new Interpreter(this, options)\n}\n\nCodeGenerator.prototype.setDefs = function (defs) {\n  this.defs = extend(this.defs, defs)\n  return this\n}\n\nCodeGenerator.prototype.compile = function (namespace) {\n  if (!namespace || !(typeof namespace === 'object' || typeof namespace === 'function')) {\n    throw TypeError('namespace must be an object')\n  }\n  if (typeof namespace.factory !== 'function') {\n    throw TypeError('namespace.factory must be a function')\n  }\n\n  // definitions available in the function\n  // each property under this.defs is mapped to local variables\n  // e.g\n  //\n  //  function (defs) {\n  //    var ns = defs['ns']\n  //    // code generated for the expression\n  //  }\n  this.defs.ns = namespace\n  this.defs.$$mathCodegen = {\n    getProperty: function (symbol, scope, ns) {\n      if (symbol in scope) {\n        return scope[symbol]\n      }\n      if (symbol in ns) {\n        return ns[symbol]\n      }\n      throw SyntaxError('symbol \"' + symbol + '\" is undefined')\n    },\n    functionProxy: function (fn, name) {\n      if (typeof fn !== 'function') {\n        throw SyntaxError('symbol \"' + name + '\" must be a function')\n      }\n      return fn\n    }\n  }\n  this.defs.$$processScope = this.defs.$$processScope || function () {}\n\n  var defsCode = Object.keys(this.defs).map(function (name) {\n    return 'var ' + name + ' = defs[\"' + name + '\"]'\n  })\n\n  // statement join\n  if (!this.statements.length) {\n    throw Error('there are no statements saved in this generator, make sure you parse an expression before compiling it')\n  }\n\n  // last statement is always a return statement\n  this.statements[this.statements.length - 1] = 'return ' + this.statements[this.statements.length - 1]\n\n  var code = this.statements.join(';')\n  var factoryCode = defsCode.join('\\n') + '\\n' + [\n    'return {',\n    '  eval: function (scope) {',\n    '    scope = scope || {}',\n    '    $$processScope(scope)',\n    '    ' + code,\n    '  },',\n    \"  code: '\" + code + \"'\",\n    '}'\n  ].join('\\n')\n\n  /* eslint-disable */\n  var factory = new Function('defs', factoryCode)\n  return factory(this.defs)\n  /* eslint-enable */\n}\n\nCodeGenerator.prototype.parse = function (code) {\n  var self = this\n  var program = new Parser().parse(code)\n  this.statements = program.blocks.map(function (statement) {\n    return self.interpreter.next(statement)\n  })\n  return this\n}\n\nmodule.exports = CodeGenerator\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","// Created by mauricio on 4/27/15.\n\n'use strict'\nvar utils = require('./operations/utils')\nvar round = require('./round-math')\n\nmodule.exports = Interval\n\n/**\n * Constructor for closed intervals representing all the values inside (and\n * including) `lo` and `hi` e.g. `[lo, hi]`\n *\n * NOTE: If `lo > hi` then the constructor will return an empty interval\n *\n * @class\n * @mixes arithmetic\n * @mixes algebra\n * @mixes misc\n * @mixes relational\n * @mixes trigonometric\n * @mixes utils\n * @mixes constants\n *\n * @see #bounded\n * @see #boundedSingleton\n *\n * @example\n * new Interval(1, 2)  // {lo: 1, hi: 2}\n * @example\n * // function invocation without new is also supported\n * Interval(1, 2)   // {lo: 1, hi: 2}\n * @example\n * // with numbers\n * Interval(1, 2)   // {lo: 1, hi: 2}\n * Interval(1)      // {lo: 1, hi: 1}\n * @example\n * // with an array\n * Interval([1, 2]) // {lo: 1, hi: 2}\n * @example\n * // singleton intervals\n * var x = Interval(1)\n * var y = Interval(2)\n * Interval(x, y)   // {lo: 1, hi: 2}\n * @example\n * // when `lo > hi` it returns an empty interval\n * Interval(2, 1)   // {lo: Infinity, hi: -Infinity}\n * @example\n * // bounded interval\n * Interval().bounded(1, 2)  // { lo: 0.9999999999999999, hi: 2.0000000000000004 }\n * @example\n * // singleton bounded interval\n * Interval().boundedSingleton(2)  // {lo: 1.9999999999999998, hi: 2.0000000000000004}\n * @example\n * // half open and open intervals\n * // [2, 3]\n * Interval(2, 3)                     // {lo: 2, hi: 3}\n * // (2, 3]\n * Interval().halfOpenLeft(2, 3)      // {lo: 2.0000000000000004, hi: 3}\n * // [2, 3)\n * Interval().halfOpenRight(2, 3)     // {lo: 2, hi: 2.9999999999999996}\n * // (2, 3)\n * Interval().open(2, 3)              // {lo: 2.0000000000000004, hi: 2.9999999999999996}\n *\n * @param {number|array|Interval} lo The left endpoint of the interval if it's a\n * number or a singleton interval, if it's an array then an interval will be\n * built out of the elements of the array\n * @param {number|Interval} [hi] The right endpoint of the interval if it's a\n * number or a singleton interval, if omitted then a singleton interval will be\n * built out of `lo`\n */\nfunction Interval (lo, hi) {\n  if (!(this instanceof Interval)) {\n    return new Interval(lo, hi)\n  }\n\n  if (typeof lo !== 'undefined' && typeof hi !== 'undefined') {\n    // possible cases:\n    // - Interval(1, 2)\n    // - Interval(Interval(1, 1), Interval(2, 2))     // singletons are required\n    if (utils.isInterval(lo)) {\n      if (!utils.isSingleton(lo)) {\n        throw new TypeError('Interval: interval `lo` must be a singleton')\n      }\n      lo = lo.lo\n    }\n    if (utils.isInterval(hi)) {\n      if (!utils.isSingleton(hi)) {\n        throw TypeError('Interval: interval `hi` must be a singleton')\n      }\n      hi = hi.hi\n    }\n  } else if (typeof lo !== 'undefined') {\n    // possible cases:\n    // - Interval(1)\n    // - Interval([1, 2])\n    // - Interval([Interval(1, 1), Interval(2, 2)])\n    if (Array.isArray(lo)) {\n      return Interval(lo[0], lo[1])\n    }\n    return Interval(lo, lo)\n  } else {\n    // possible cases:\n    // - Interval()\n    lo = hi = 0\n  }\n\n  /**\n   * The left endpoint of the interval\n   * @type {number}\n   */\n  this.lo = undefined\n\n  /**\n   * The right endpoint of the interval\n   * @type {number}\n   */\n  this.hi = undefined\n\n  this.assign(lo, hi)\n}\n\nInterval.factory = Interval\n\n/**\n * Sets `this.lo` and `this.hi` to a single value `v`\n *\n * @param {number} v\n * @return {Interval} The calling interval i.e. `this`\n */\nInterval.prototype.singleton = function (v) {\n  return this.set(v, v)\n}\n\n/**\n * Sets new endpoints to this interval, the left endpoint is equal to the\n * previous IEEE floating point value of `lo` and the right endpoint\n * is equal to the next IEEE floating point\n * value of `hi`, it's assumed that `lo <= hi`\n * @example\n * var x = Interval().bounded(1, 2)\n * x.lo < 1 // true, x.lo === 0.9999999999999999\n * x.hi > 2 // true, x.hi === 2.0000000000000004\n * @example\n * // the correct representation of 1/3\n * var x = Interval().bounded(1/3, 1/3)\n * x.lo < 1/3 // true\n * x.hi > 1/3 // true\n * // however the floating point representation of 1/3 is less than the real 1/3\n * // therefore the left endpoint could be 1/3 instead of the previous value of\n * var next = Interval.round.safeNext\n * var x = Interval().set(1/3, next(1/3))\n * // x now represents 1/3 correctly\n * @param {number} lo\n * @param {number} hi\n * @return {Interval} The calling interval i.e. `this`\n */\nInterval.prototype.bounded = function (lo, hi) {\n  return this.set(round.prev(lo), round.next(hi))\n}\n\n/**\n * Equivalent to `Interval().bounded(v, v)`\n * @param {number} v\n * @return {Interval} The calling interval i.e. `this`\n */\nInterval.prototype.boundedSingleton = function (v) {\n  return this.bounded(v, v)\n}\n\n/**\n * Sets new endpoints for this interval, this method bypasses any\n * checks on the type of arguments\n *\n * @param {Number} lo The left endpoint of the interval\n * @param {Number} hi The right endpoint of the interval\n * @return {Interval} The calling interval\n */\nInterval.prototype.set = function (lo, hi) {\n  this.lo = lo\n  this.hi = hi\n  return this\n}\n\n/**\n * Sets new endpoints for this interval checking that both arguments exist\n * and that are valid numbers, additionally if `lo > hi` the interval is set to\n * an empty interval\n *\n * @param {Number} lo The left endpoint of the interval\n * @param {Number} hi The right endpoint of the interval\n * @return {Interval} The calling interval\n */\nInterval.prototype.assign = function (lo, hi) {\n  if (typeof lo !== 'number' || typeof hi !== 'number') {\n    throw TypeError('Interval#assign: arguments must be numbers')\n  }\n  if (isNaN(lo) || isNaN(hi) || lo > hi) {\n    return this.setEmpty()\n  }\n  return this.set(lo, hi)\n}\n\n/**\n * Sets the endpoints of this interval to `[∞, -∞]` effectively representing\n * no values\n * @return {Interval} The calling interval\n */\nInterval.prototype.setEmpty = function () {\n  return this.set(Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY)\n}\n\n/**\n * Sets the endpoints of this interval to `[-∞, ∞]` effectively representing all\n * the possible real values\n * @return {Interval} The calling interval\n */\nInterval.prototype.setWhole = function () {\n  return this.set(Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY)\n}\n\n/**\n * Sets the endpoints of this interval to the open interval `(lo, hi)`\n *\n * NOTE: `Interval.round.disable` has no effect on this method\n *\n * @example\n * // (2, 3)\n * Interval().open(2, 3)  // {lo: 2.0000000000000004, hi: 2.9999999999999996}\n * @param {number} lo\n * @param {number} hi\n * @return {Interval} The calling interval\n */\nInterval.prototype.open = function (lo, hi) {\n  return this.assign(round.safeNext(lo), round.safePrev(hi))\n}\n\n/**\n * Sets the endpoints of this interval to the half open interval `(lo, hi]`\n *\n * NOTE: `Interval.round.disable` has no effect on this method\n *\n * @example\n * // (2, 3]\n * Interval().halfOpenLeft(2, 3)  // {lo: 2.0000000000000004, hi: 3}\n * @param {number} lo\n * @param {number} hi\n * @return {Interval} The calling interval\n */\nInterval.prototype.halfOpenLeft = function (lo, hi) {\n  return this.assign(round.safeNext(lo), hi)\n}\n\n/**\n * Sets the endpoints of this interval to the half open interval `[lo, hi)`\n *\n * NOTE: `Interval.round.disable` has no effect on this method\n *\n * @example\n * // [2, 3)\n * Interval.halfOpenRight(2, 3)     // {lo: 2, hi: 2.9999999999999996}\n * @param {number} lo\n * @param {number} hi\n * @return {Interval} The calling interval\n */\nInterval.prototype.halfOpenRight = function (lo, hi) {\n  return this.assign(lo, round.safePrev(hi))\n}\n\n/**\n * Array representation of this interval\n * @return {array}\n */\nInterval.prototype.toArray = function () {\n  return [this.lo, this.hi]\n}\n\n/**\n * Creates an interval equal to the calling one\n * @see Interval.clone\n * @name Interval.prototype\n * @example\n * var x = Interval(2, 3)\n * x.clone()    // Interval(2, 3)\n * @return {Interval}\n */\nInterval.prototype.clone = function () {\n  return Interval().set(this.lo, this.hi)\n}\n","'use strict'\nvar extend = require('extend')\n\nvar types = {\n  ArrayNode: require('./node/ArrayNode'),\n  AssignmentNode: require('./node/AssignmentNode'),\n  ConditionalNode: require('./node/ConditionalNode'),\n  ConstantNode: require('./node/ConstantNode'),\n  FunctionNode: require('./node/FunctionNode'),\n  OperatorNode: require('./node/OperatorNode'),\n  SymbolNode: require('./node/SymbolNode'),\n  UnaryNode: require('./node/UnaryNode')\n}\n\nvar Interpreter = function (owner, options) {\n  this.owner = owner\n  this.options = extend({\n    factory: 'ns.factory',\n    raw: false,\n    rawArrayExpressionElements: true,\n    rawCallExpressionElements: false\n  }, options)\n}\n\nextend(Interpreter.prototype, types)\n\n// main method which decides which expression to call\nInterpreter.prototype.next = function (node) {\n  if (!(node.type in this)) {\n    throw new TypeError('the node type ' + node.type + ' is not implemented')\n  }\n  return this[node.type](node)\n}\n\nInterpreter.prototype.rawify = function (test, fn) {\n  var oldRaw = this.options.raw\n  if (test) {\n    this.options.raw = true\n  }\n  fn()\n  if (test) {\n    this.options.raw = oldRaw\n  }\n}\n\nmodule.exports = Interpreter\n","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","function Node () {\n\n}\n\nNode.prototype.type = 'Node'\n\nmodule.exports = Node\n","/**\n * Created by mauricio on 5/10/15.\n */\n'use strict'\nvar Interval = require('../interval')\nvar rmath = require('../round-math')\nvar utils = require('./utils')\nvar constants = require('../constants')\n\nvar division = {\n  /**\n   * Division between intervals when `y` doesn't contain zero\n   * @param {Interval} x\n   * @param {Interval} y\n   * @returns {Interval}\n   */\n  nonZero: function (x, y) {\n    var xl = x.lo\n    var xh = x.hi\n    var yl = y.lo\n    var yh = y.hi\n    var out = Interval()\n    if (xh < 0) {\n      if (yh < 0) {\n        out.lo = rmath.divLo(xh, yl)\n        out.hi = rmath.divHi(xl, yh)\n      } else {\n        out.lo = rmath.divLo(xl, yl)\n        out.hi = rmath.divHi(xh, yh)\n      }\n    } else if (xl < 0) {\n      if (yh < 0) {\n        out.lo = rmath.divLo(xh, yh)\n        out.hi = rmath.divHi(xl, yh)\n      } else {\n        out.lo = rmath.divLo(xl, yl)\n        out.hi = rmath.divHi(xh, yl)\n      }\n    } else {\n      if (yh < 0) {\n        out.lo = rmath.divLo(xh, yh)\n        out.hi = rmath.divHi(xl, yl)\n      } else {\n        out.lo = rmath.divLo(xl, yh)\n        out.hi = rmath.divHi(xh, yl)\n      }\n    }\n    return out\n  },\n\n  /**\n   * Division between an interval and a positive constant\n   * @param {Interval} x\n   * @param {number} v\n   * @returns {Interval}\n   */\n  positive: function (x, v) {\n    if (x.lo === 0 && x.hi === 0) {\n      return x\n    }\n\n    if (utils.zeroIn(x)) {\n      // mixed considering zero in both ends\n      return constants.WHOLE\n    }\n\n    if (x.hi < 0) {\n      // negative / v\n      return Interval(\n        Number.NEGATIVE_INFINITY,\n        rmath.divHi(x.hi, v)\n      )\n    } else {\n      // positive / v\n      return Interval(\n        rmath.divLo(x.lo, v),\n        Number.POSITIVE_INFINITY\n      )\n    }\n  },\n\n  /**\n   * Division between an interval and a negative constant\n   * @param {Interval} x\n   * @param {number} v\n   * @returns {Interval}\n   */\n  negative: function (x, v) {\n    if (x.lo === 0 && x.hi === 0) {\n      return x\n    }\n\n    if (utils.zeroIn(x)) {\n      // mixed considering zero in both ends\n      return constants.WHOLE\n    }\n\n    if (x.hi < 0) {\n      // negative / v\n      return Interval(\n        rmath.divLo(x.hi, v),\n        Number.POSITIVE_INFINITY\n      )\n    } else {\n      // positive / v\n      return Interval(\n        Number.NEGATIVE_INFINITY,\n        rmath.divHi(x.lo, v)\n      )\n    }\n  },\n\n  /**\n   * Division between an interval and zero\n   * @param {Interval} x\n   * @returns {Interval}\n   */\n  zero: function (x) {\n    if (x.lo === 0 && x.hi === 0) {\n      return x\n    }\n    return constants.WHOLE\n  }\n}\n\nmodule.exports = division\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991,\n    MAX_INTEGER = 1.7976931348623157e+308,\n    NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a\n * [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792) that affects\n * Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value)) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8 which returns 'object' for typed array and weak map constructors,\n  // and PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length,\n *  else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/6.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = isFunction(value.valueOf) ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","/**\n * Created by mauricio on 3/29/15.\n */\n'use strict'\nvar d3 = window.d3\nvar extend = require('extend')\nvar utils = require('./utils')\nvar clamp = require('clamp')\nvar globals = require('./globals')\nvar builtInEvaluator = require('./helpers/eval').builtIn\n\nmodule.exports = function (config) {\n  config = extend({\n    xLine: false,\n    yLine: false,\n    renderer: function (x, y, index) {\n      return '(' + x.toFixed(3) + ', ' + y.toFixed(3) + ')'\n    },\n    owner: null\n  }, config)\n\n  var MARGIN = 20\n\n  var line = d3.svg.line()\n    .x(function (d) { return d[0] })\n    .y(function (d) { return d[1] })\n\n  function lineGenerator (el, data) {\n    return el.append('path')\n      .datum(data)\n      .attr('stroke', 'grey')\n      .attr('stroke-dasharray', '5,5')\n      .attr('opacity', 0.5)\n      .attr('d', line)\n  }\n\n  function tip (selection) {\n    var innerSelection = selection.selectAll('g.tip')\n      .data(function (d) { return [d] })\n\n    // enter\n    innerSelection\n      .enter().append('g')\n      .attr('class', 'tip')\n      .attr('clip-path', 'url(#function-plot-clip-' + config.owner.id + ')')\n\n    // enter + update = enter inner tip\n    tip.el = innerSelection.selectAll('g.inner-tip')\n      .data(function (d) {\n        // debugger\n        return [d]\n      })\n\n    tip.el.enter()\n      .append('g')\n      .attr('class', 'inner-tip')\n      .style('display', 'none')\n      .each(function () {\n        var el = d3.select(this)\n        lineGenerator(el, [[0, -config.owner.meta.height - MARGIN], [0, config.owner.meta.height + MARGIN]])\n          .attr('class', 'tip-x-line')\n          .style('display', 'none')\n        lineGenerator(el, [[-config.owner.meta.width - MARGIN, 0], [config.owner.meta.width + MARGIN, 0]])\n          .attr('class', 'tip-y-line')\n          .style('display', 'none')\n        el.append('circle').attr('r', 3)\n        el.append('text').attr('transform', 'translate(5,-5)')\n      })\n\n    // enter + update\n    selection.selectAll('.tip-x-line').style('display', config.xLine ? null : 'none')\n    selection.selectAll('.tip-y-line').style('display', config.yLine ? null : 'none')\n  }\n\n  tip.move = function (coordinates) {\n    var i\n    var minDist = Infinity\n    var closestIndex = -1\n    var x, y\n\n    var el = tip.el\n    var inf = 1e8\n    var meta = config.owner.meta\n    var data = el.data()[0].data\n    var xScale = meta.xScale\n    var yScale = meta.yScale\n    var width = meta.width\n    var height = meta.height\n\n    var x0 = coordinates.x\n    var y0 = coordinates.y\n\n    for (i = 0; i < data.length; i += 1) {\n      // skipTip=true skips the evaluation in the datum\n      // implicit equations cannot be evaluated with a single point\n      // parametric equations cannot be evaluated with a single point\n      // polar equations cannot be evaluated with a single point\n      if (data[i].skipTip || data[i].fnType !== 'linear') {\n        continue\n      }\n\n      var range = data[i].range || [-inf, inf]\n      var fn\n      if (x0 > range[0] - globals.TIP_X_EPS && x0 < range[1] + globals.TIP_X_EPS) {\n        try {\n          var candidateY\n          if (data[i].sampler === 'mathjs') {\n            fn = data[i].scope[data[i].fn]\n            candidateY = fn(x0)\n          } else {\n            candidateY = builtInEvaluator(data[i], 'fn', { x: x0 })\n          }\n        } catch (e) { }\n        if (utils.isValidNumber(candidateY)) {\n          var tDist = Math.abs(candidateY - y0)\n          if (tDist < minDist) {\n            minDist = tDist\n            closestIndex = i\n          }\n        }\n      }\n    }\n\n    if (closestIndex !== -1) {\n      x = x0\n      if (data[closestIndex].range) {\n        x = Math.max(x, data[closestIndex].range[0])\n        x = Math.min(x, data[closestIndex].range[1])\n      }\n      if (data[closestIndex].sampler === 'mathjs') {\n        fn = data[closestIndex].scope[data[closestIndex].fn]\n        y = fn(x)\n      } else {\n        y = builtInEvaluator(data[closestIndex], 'fn', { x: x })\n      }\n\n      tip.show()\n      config.owner.emit('tip:update', x, y, closestIndex)\n      var clampX = clamp(x, xScale.invert(-MARGIN), xScale.invert(width + MARGIN))\n      var clampY = clamp(y, yScale.invert(height + MARGIN), yScale.invert(-MARGIN))\n      var color = utils.color(data[closestIndex], closestIndex)\n      el.attr('transform', 'translate(' + xScale(clampX) + ',' + yScale(clampY) + ')')\n      el.select('circle')\n        .attr('fill', color)\n      el.select('text')\n        .attr('fill', color)\n        .text(config.renderer(x, y, closestIndex))\n    } else {\n      tip.hide()\n    }\n  }\n\n  tip.show = function () {\n    this.el.style('display', null)\n  }\n\n  tip.hide = function () {\n    this.el.style('display', 'none')\n  }\n  // generations of getters/setters\n  Object.keys(config).forEach(function (option) {\n    utils.getterSetter.call(tip, config, option)\n  })\n\n  return tip\n}\n","'use strict'\nvar clamp = require('clamp')\nvar linspace = require('linspace')\n\nvar utils = require('../utils')\nvar evaluate = require('../helpers/eval').builtIn\n\nfunction checkAsymptote (d0, d1, meta, sign, level) {\n  if (!level) {\n    return {\n      asymptote: true,\n      d0: d0,\n      d1: d1\n    }\n  }\n  var i\n  var n = 10\n  var x0 = d0[0]\n  var x1 = d1[0]\n  var samples = linspace(x0, x1, n)\n  var oldY, oldX\n  for (i = 0; i < n; i += 1) {\n    var x = samples[i]\n    var y = evaluate(meta, 'fn', { x: x })\n\n    if (i) {\n      var deltaY = y - oldY\n      var newSign = utils.sgn(deltaY)\n      if (newSign === sign) {\n        return checkAsymptote([oldX, oldY], [x, y], meta, sign, level - 1)\n      }\n    }\n    oldY = y\n    oldX = x\n  }\n  return {\n    asymptote: false,\n    d0: d0,\n    d1: d1\n  }\n}\n\n/**\n * Splits the evaluated data into arrays, each array is separated by any asymptote found\n * through the process of detecting slope/sign brusque changes\n * @param chart\n * @param data\n * @returns {Array[]}\n */\nfunction split (chart, meta, data) {\n  var i, oldSign\n  var deltaX\n  var st = []\n  var sets = []\n  var domain = chart.meta.yScale.domain()\n  var zoomScale = chart.meta.zoomBehavior.scale()\n  var yMin = domain[0]\n  var yMax = domain[1]\n\n  if (data[0]) {\n    st.push(data[0])\n    deltaX = data[1][0] - data[0][0]\n    oldSign = utils.sgn(data[1][1] - data[0][1])\n  }\n\n  function updateY (d) {\n    d[1] = Math.min(d[1], yMax)\n    d[1] = Math.max(d[1], yMin)\n    return d\n  }\n\n  i = 1\n  while (i < data.length) {\n    var y0 = data[i - 1][1]\n    var y1 = data[i][1]\n    var deltaY = y1 - y0\n    var newSign = utils.sgn(deltaY)\n    // make a new set if:\n    if (// utils.sgn(y1) * utils.sgn(y0) < 0 && // there's a change in the evaluated values sign\n      // there's a change in the slope sign\n      oldSign !== newSign &&\n      // the slope is bigger to some value (according to the current zoom scale)\n      Math.abs(deltaY / deltaX) > 1 / zoomScale) {\n      // retest this section again and determine if it's an asymptote\n      var check = checkAsymptote(data[i - 1], data[i], meta, newSign, 3)\n      if (check.asymptote) {\n        st.push(updateY(check.d0))\n        sets.push(st)\n        st = [updateY(check.d1)]\n      }\n    }\n    oldSign = newSign\n    st.push(data[i])\n    ++i\n  }\n\n  if (st.length) {\n    sets.push(st)\n  }\n\n  return sets\n}\n\nfunction linear (chart, meta, range, n) {\n  var allX = utils.space(chart, range, n)\n  var yDomain = chart.meta.yScale.domain()\n  var yDomainMargin = (yDomain[1] - yDomain[0])\n  var yMin = yDomain[0] - yDomainMargin * 1e5\n  var yMax = yDomain[1] + yDomainMargin * 1e5\n  var data = []\n  var i\n  for (i = 0; i < allX.length; i += 1) {\n    var x = allX[i]\n    var y = evaluate(meta, 'fn', { x: x })\n    if (utils.isValidNumber(x) && utils.isValidNumber(y)) {\n      data.push([x, clamp(y, yMin, yMax)])\n    }\n  }\n  data = split(chart, meta, data)\n  return data\n}\n\nfunction parametric (chart, meta, range, nSamples) {\n  // range is mapped to canvas coordinates from the input\n  // for parametric plots the range will tell the start/end points of the `t` param\n  var parametricRange = meta.range || [0, 2 * Math.PI]\n  var tCoords = utils.space(chart, parametricRange, nSamples)\n  var samples = []\n  for (var i = 0; i < tCoords.length; i += 1) {\n    var t = tCoords[i]\n    var x = evaluate(meta, 'x', { t: t })\n    var y = evaluate(meta, 'y', { t: t })\n    samples.push([x, y])\n  }\n  return [samples]\n}\n\nfunction polar (chart, meta, range, nSamples) {\n  // range is mapped to canvas coordinates from the input\n  // for polar plots the range will tell the start/end points of the `theta` param\n  var polarRange = meta.range || [-Math.PI, Math.PI]\n  var thetaSamples = utils.space(chart, polarRange, nSamples)\n  var samples = []\n  for (var i = 0; i < thetaSamples.length; i += 1) {\n    var theta = thetaSamples[i]\n    var r = evaluate(meta, 'r', { theta: theta })\n    var x = r * Math.cos(theta)\n    var y = r * Math.sin(theta)\n    samples.push([x, y])\n  }\n  return [samples]\n}\n\nfunction points (chart, meta, range, nSamples) {\n  return [meta.points]\n}\n\nfunction vector (chart, meta, range, nSamples) {\n  meta.offset = meta.offset || [0, 0]\n  return [[\n    meta.offset,\n    [meta.vector[0] + meta.offset[0], meta.vector[1] + meta.offset[1]]\n  ]]\n}\n\nvar sampler = function (chart, d, range, nSamples) {\n  var fnTypes = {\n    parametric: parametric,\n    polar: polar,\n    points: points,\n    vector: vector,\n    linear: linear\n  }\n  if (!(d.fnType in fnTypes)) {\n    throw Error(d.fnType + ' is not supported in the `builtIn` sampler')\n  }\n  return fnTypes[d.fnType].apply(null, arguments)\n}\n\nmodule.exports = sampler\nmodule.exports.split = split\n","var Node = require('./Node')\n\nfunction OperatorNode (op, args) {\n  this.op = op\n  this.args = args || []\n}\n\nOperatorNode.prototype = Object.create(Node.prototype)\n\nOperatorNode.prototype.type = 'OperatorNode'\n\nmodule.exports = OperatorNode\n","var Node = require('./Node')\n\nfunction ArrayNode (nodes) {\n  this.nodes = nodes\n}\n\nArrayNode.prototype = Object.create(Node.prototype)\n\nArrayNode.prototype.type = 'ArrayNode'\n\nmodule.exports = ArrayNode\n","/*\n * interval-arithmetic-eval\n *\n * Copyright (c) 2015 Mauricio Poppe\n * Licensed under the MIT license.\n */\n'use strict'\nmodule.exports = require('./lib/eval')\n"],"sourceRoot":""}