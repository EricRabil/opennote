(function(e){function t(t){for(var o,s,i=t[0],c=t[1],l=t[2],u=0,h=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&h.push(r[s][0]),r[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(h.length)h.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={app:0},a=[];function s(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-265e34ea":"fbd738e5"}[e]+".js"}function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=o);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=s(e);var l=new Error;a=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",l.name="ChunkLoadError",l.type=o,l.request=a,n[1](l)}r[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/opennote/",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0529":function(e,t,n){"use strict";var o=n("e9d1"),r=n.n(o);r.a},1:function(e,t){},2:function(e,t){},"21bb":function(e,t,n){"use strict";var o=n("2dad"),r=n.n(o);r.a},"23d8":function(e,t,n){"use strict";n("4c53"),n("664f");var o=MathQuillAPI,r=o.LatexCmds,a=MathQuill,s=a.L,i=a.R;r.integral.prototype.latex=function(){function e(e){return"{"+(e||" ")+"}"}return this.ctrlSeq+"_"+e(this.ends[s].latex())+"^"+e(this.ends[i].latex())},r.superscript.prototype.latex=r.subscript.prototype.latex=function(){function e(e,t){var n=t&&t.latex();return t?e+"{"+(n||" ")+"}":""}return e("_",this.sub)+e("^",this.sup)},r.summation().__proto__.latex=function(){function e(e){return"{"+(e||" ")+"}"}return this.ctrlSeq+"_"+e(this.ends[s].latex())+"^"+e(this.ends[i].latex())}},"2dad":function(e,t,n){},"34d9":function(e,t,n){},4678:function(e,t,n){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id="4678"},"4cfe":function(e,t,n){},"58d3":function(e,t,n){"use strict";var o=n("f08e"),r=n.n(o);r.a},"5c0b":function(e,t,n){"use strict";var o=n("9c0c"),r=n.n(o);r.a},"84df":function(e,t,n){"use strict";n("2de2"),function(e){try{return new MouseEvent("test"),!1}catch(n){}var t=function(t,n){n=n||{bubbles:!1,cancelable:!1};var o=document.createEvent("MouseEvent");return o.initMouseEvent(t,n.bubbles,n.cancelable,e,0,n.screenX||0,n.screenY||0,n.clientX||0,n.clientY||0,n.ctrlKey||!1,n.altKey||!1,n.shiftKey||!1,n.metaKey||!1,n.button||0,n.relatedTarget||null),o};t.prototype=Event.prototype,e.MouseEvent=t}(window)},8524:function(e,t,n){"use strict";var o=n("4cfe"),r=n.n(o);r.a},"9c0c":function(e,t,n){},"9c6e":function(e,t,n){e.exports=function(){return new Worker(n.p+"9d665a25ffefc7c6c151.worker.js")}},c08c:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("84df"),n("af32"),n("23d8");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.firstRun?e._e():n("router-view"),n("transition",{attrs:{name:"fade"}},[null!==e.modalOptions?n("div",{ref:"modalRoot",staticClass:"modal-root"},[n("div",{ref:"modal",class:["modal"].concat(e.modalOptions.customClasses||[])},[!1!==e.modalOptions.closable?n("div",{staticClass:"modal-close",on:{click:e.closeModal}},[e._v("Ã—")]):e._e(),e.isNode(e.modalOptions.header)?n("element-host",{attrs:{element:e.modalOptions.header}}):n("div",{staticClass:"modal-header"},[e.modalOptions.header&&"string"===typeof e.modalOptions.header?n("h1",[e._v(e._s(e.modalOptions.header))]):e.modalOptions.header&&"function"===typeof e.modalOptions.header?n(e.modalOptions.header,e._b({tag:"component"},"component",e.modalOptions.headerOptions,!1)):e._e()],1),"string"===typeof e.modalOptions.body?n("div",{staticClass:"modal-body"},[e._v(" "+e._s(e.modalOptions.body)+" ")]):n(e.modalOptions.body,e._b({tag:"component",staticClass:"modal-body"},"component",e.modalOptions.bodyOptions,!1)),"string"===typeof e.modalOptions.footer?n("div",{staticClass:"modal-footer"},[e._v(e._s(e.modalOptions.footer))]):e.modalOptions.footer&&"function"===typeof e.modalOptions.footer?n(e.modalOptions.footer,e._b({tag:"component",staticClass:"modal-footer"},"component",e.modalOptions.footerOptions,!1)):e._e()],1)]):e._e()])],1)},a=[],s=(n("4160"),n("b64b"),n("159b"),n("d4ec")),i=n("bee2"),c=n("99de"),l=n("7e84"),u=n("262e"),d=n("9ab4"),h=n("60a3"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"mount"})},p=[],m=function(e){function t(){return Object(s["a"])(this,t),Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(i["a"])(t,[{key:"mounted",value:function(){this.$refs.mount.replaceWith(this.element)}}]),t}(h["c"]);d["a"]([Object(h["b"])()],m.prototype,"element",void 0),m=d["a"]([h["a"]],m);var v=m,g=v,b=n("2877"),w=Object(b["a"])(g,f,p,!1,null,null,null),y=w.exports,k=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},x=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"onboarding-view"},[n("h2",[e._v("Welcome to OpenNote.")]),n("p",[e._v("OpenNote can:")]),n("ul",[n("li",[e._v("Solve algebraic expressions")]),n("li",[e._v("Take rich notes with intuitive keyboard shortcuts")]),n("li",[e._v("React to your dark mode preferences")]),n("li",[e._v("Easily export and import your notes")]),n("li",[n("i",[e._v("and so much more")])])]),n("h3",[e._v("Ready to play?")])])}],j=function(e){function t(){return Object(s["a"])(this,t),Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(i["a"])(t,[{key:"mounted",value:function(){this.$root.$emit("modal-patch",{customClasses:["modal-onboarding","modal-fullscreen"]})}}]),t}(h["c"]);j=d["a"]([h["a"]],j);var C=j,O=C,E=(n("0529"),Object(b["a"])(O,k,x,!1,null,null,null)),_=E.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"controls"},[n("div",{class:["control","control-"+e.confirmStyle],on:{click:e.confirm}},[e._v(" "+e._s(e.confirmText)+" ")]),e.hasCancel?n("div",{staticClass:"control control-neutral",on:{click:e.cancel}},[e._v(" "+e._s(e.cancelText)+" ")]):e._e()])},$=[],M=function(e){function t(){return Object(s["a"])(this,t),Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),t}(h["c"]);d["a"]([Object(h["b"])()],M.prototype,"cancel",void 0),d["a"]([Object(h["b"])()],M.prototype,"confirm",void 0),d["a"]([Object(h["b"])({default:!0})],M.prototype,"hasCancel",void 0),d["a"]([Object(h["b"])({default:"Cancel"})],M.prototype,"confirmText",void 0),d["a"]([Object(h["b"])({default:"Confirm"})],M.prototype,"cancelText",void 0),d["a"]([Object(h["b"])({default:"neutral"})],M.prototype,"confirmStyle",void 0),M=d["a"]([h["a"]],M);var S,T=M,N=T,B=(n("8524"),Object(b["a"])(N,L,$,!1,null,null,null)),D=B.exports,I=(n("99af"),n("4de4"),n("a630"),n("caad"),n("a15b"),n("d81d"),n("13d5"),n("b0c0"),n("d3b7"),n("8a79"),n("2532"),n("3ca3"),n("ddb0"),n("2b3d"),n("96cf"),n("1da1")),R=n("9072"),P=n("7c39"),A=n.n(P),F=n("21a6"),z=n.n(F);(function(e){var t,n,o=function(e){function t(e,n){var o;return Object(s["a"])(this,t),o=Object(c["a"])(this,Object(l["a"])(t).call(this,e)),o.options=n,o}return Object(u["a"])(t,e),t}(Object(R["a"])(Error));function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain",o=new Blob([e],{type:n}),r=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null}),a=document.createElement("a");a.download=t,a.href=window.URL.createObjectURL(o),a.dataset.downloadurl=["text/json",a.download,a.href].join(":"),a.dispatchEvent(r)}function a(){return new Promise((function(e,t){var n=document.createElement("input");n.type="file",n.accept=".onote",n.multiple=!0,n.addEventListener("change",(function(n){if(!this.files)return t(new Error("missing files property"));e(Promise.all(Array.from(this.files).map((function(e){return new Promise((function(t,n){if(!e.name.endsWith(".onote"))return n(new o("bad filename: ".concat(e.name),{title:"Unsupported File",message:"The file '".concat(e.name,"' is unsupported. Please upload .onote files only.")}));var r=new FileReader;r.readAsArrayBuffer(e),r.addEventListener("load",(function(){t(this.result)}))}))}))))})),n.click()}))}function i(){return a().then((function(e){var t=new TextDecoder("utf-8");return e.map((function(e){return t.decode(e)}))}))}function d(e){Object.assign(window,e)}function h(e,t){return Object.keys(e).filter((function(n){return t(n,e[n])})).reduce((function(t,n){return t[n]=e[n],t}),{})}function f(e,t){return p.apply(this,arguments)}function p(){return p=Object(I["a"])(regeneratorRuntime.mark((function e(t,n){var o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=new A.a,n.forEach((function(e){var t=e.name,n=e.text;return o.file(t,n)})),e.next=4,o.generateAsync({type:"blob"});case 4:return r=e.sent,e.next=7,z.a.saveAs(r,t);case 7:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function m(){return t||(t=Array.from(document.styleSheets).map((function(e){try{return Array.from(e.rules)}catch(t){return null}})).filter((function(e){return!!e})).map((function(e){return e.filter((function(e){return e.media})).map((function(e){return e.media})).filter((function(e){return e.mediaText.includes("prefers-color-scheme")}))})).reduce((function(e,t){return e.concat(t)}),[]),n=t.map((function(e){return e.mediaText})),t)}function v(){return t||m()}function g(){t&&n||m()}function b(){v().forEach((function(e,t){e.mediaText=n[t]}))}function w(e){b(),v().forEach((function(t){try{switch(e){case"light":t.mediaText.includes("light")&&t.deleteMedium("(prefers-color-scheme: light)"),t.mediaText.includes("dark")&&t.deleteMedium("(prefers-color-scheme: dark)");break;case"dark":t.mediaText.includes("light")&&!t.mediaText.includes("dark")&&(t.deleteMedium("(prefers-color-scheme: light)"),t.appendMedium("speechsexyt")),t.mediaText.includes("dark")&&!t.mediaText.includes("light")&&t.deleteMedium("(prefers-color-scheme: dark)");break}}catch(n){return}}))}e.DisplayableError=o,e.saveFile=r,e.getFiles=a,e.getFilesAsString=i,e.registerDevModule=d,e.filterObject=h,e.zipFilesAndDownload=f,e.mediaRules=v,e.ensureDefaults=g,e.resetPreferredColorScheme=b,e.setPreferredColorScheme=w})(S||(S={}));var V=S;function G(e,t,n){Object.keys(n).forEach((function(o){return h["c"].set(e[t],o,n[o])}))}var q=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.tooltip=null,e.modalOptions=null,e.onclick=function(t){return e.clickListener(t)},e}return Object(u["a"])(t,e),Object(i["a"])(t,[{key:"mounted",value:function(){var e=this;this.$on("modal-show",(function(t){return e.showModal(t)})),this.$on("modal-close",(function(){return e.closeModal()})),this.$on("modal-patch",(function(t){return G(e,"modalOptions",t)})),this.$root.$on("modal-show",(function(t){return e.$emit("modal-show",t)})),this.$root.$on("modal-close",(function(){return e.$emit("modal-close")})),this.$root.$on("modal-patch",(function(t){return e.$emit("modal-patch",t)})),document.addEventListener("click",this.onclick),this.$store.watch((function(e,t){return t.preferredColorScheme}),(function(e,t){switch(V.ensureDefaults(),e){case"light":case"dark":V.setPreferredColorScheme(e);break;default:V.resetPreferredColorScheme()}})),V.setPreferredColorScheme(this.$store.state.preferences.preferredColorScheme),this.$store.state.preferences.sawFirstRun||this.$root.$emit("modal-show",{header:"Hello",body:_,footer:D,footerOptions:{confirmText:"Launch OpenNote",confirmStyle:"primary",confirm:function(){e.$store.commit("setPreference",{name:"sawFirstRun",value:!0}),e.$root.$emit("modal-close")},hasCancel:!1},closable:!1})}},{key:"isNode",value:function(e){return e&&e.nodeType===Node.ELEMENT_NODE}},{key:"destroyed",value:function(){document.removeEventListener("click",this.onclick)}},{key:"modalReady",value:function(){return!!this.$refs.modalRoot&&!this.$refs.modalRoot.classList.contains("fade-enter-active")}},{key:"clickListener",value:function(e){var t=this.$refs.modal&&(this.$refs.modal===e.target||this.$refs.modal.contains(e.target));!t&&this.modalReady()&&this.closeModal()}},{key:"showModal",value:function(e){console.debug("showing modal with options",{options:e}),this.modalOptions=e}},{key:"closeModal",value:function(){this.modalOptions&&(console.debug("closing modal with options",{options:this.modalOptions}),this.modalOptions=null)}},{key:"firstRun",get:function(){return!this.$store.state.preferences.sawFirstRun}}]),t}(h["c"]);q=d["a"]([Object(h["a"])({components:{ElementHost:y}})],q);var H=q,W=H,U=(n("5c0b"),Object(b["a"])(W,r,a,!1,null,null,null)),Q=U.exports,K=n("9483");Object(K["a"])("".concat("/opennote/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var X=n("8c4f"),J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{home:!0,"nav-collapse":e.navCollapse}},[n("div",{staticClass:"navigator"},[n("div",{staticClass:"title"},[n("span",{staticClass:"note-controls-left"},[n("span",{staticClass:"control",attrs:{"data-tooltip":"Toggle Menu","data-placement":"right"},on:{mouseenter:e.mouseenter,mouseleave:e.mouseleave,click:function(t){e.navCollapse=!e.navCollapse}}},[e._v(" â˜° ")]),n("span",{staticClass:"control",attrs:{"data-tooltip":"Sort "+(e.sortListAscending?"Descending":"Ascending"),"data-placement":"right"},domProps:{innerHTML:e._s(e.sortListAscending?"&#8595;":"&#8593;")},on:{mouseenter:e.mouseenter,mouseleave:e.mouseleave,click:function(t){e.sortListAscending=!e.sortListAscending}}})]),n("span",{staticClass:"note-title"},[e._v("Notes")]),n("span",{staticClass:"note-controls"},[n("span",{staticClass:"control control-success",attrs:{"data-tooltip":"Import Note"},on:{mouseenter:e.mouseenter,mouseleave:e.mouseleave,click:e.importNote}},[n("UploadSVG",{attrs:{width:"12px"}})],1),n("span",{staticClass:"control control-primary",attrs:{"data-tooltip":"New Note"},on:{mouseenter:e.mouseenter,mouseleave:e.mouseleave,click:e.newNote}},[n("svg",{staticClass:"icon icon--plus",attrs:{width:"14px",height:"14px"}},[n("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#plus"}})])])])]),n("transition-group",{staticClass:"navigator-contents",attrs:{name:"list",mode:"out-in",tag:"div"}},e._l(e.list,(function(t,o){var r=t.id,a=t.name,s=t.timestamp;return n("div",{key:r,class:{"navigator-item":!0,active:r===e.currentNote},style:{display:a?"flex":"none"},on:{contextmenu:function(t){return t.preventDefault(),e.triggerContext(t,o)},click:function(t){return e.selectNote(r)}}},[n("span",{ref:"edit"+r,refInFor:!0,staticClass:"item-title",attrs:{contenteditable:"true","data-id":r},on:{input:e.setTitle}},[e._v(e._s(a))]),n("span",{staticClass:"item-timestamp"},[e._v(e._s(s))])])})),0),n("div",{staticClass:"title"},[n("span",{staticClass:"note-controls-left"},[n("span",{class:["labels-control labels-control-btn labels-control-btn-danger",e.canDelete?"":"labels-control-btn-disabled"],on:{click:function(t){return e.delNote(e.noteID)}}},[n("span",{staticClass:"label-text"},[e._v("Delete")]),n("TrashSVG",{staticClass:"alt-icon"})],1),n("span",{staticClass:"labels-control labels-control-btn",attrs:{"data-tooltip":"Settings","data-placement":"top"},on:{mouseenter:e.mouseenter,mouseleave:e.mouseleave,click:function(t){return e.showSettings()}}},[n("SettingsSVG")],1)]),n("span",{staticClass:"note-title muted-title-version"},[e._v(e._s(e.version))]),n("span",{staticClass:"note-controls-right"},[n("span",{class:["labels-control labels-control-btn"]},[n("span",{staticClass:"label-text no-kill",on:{click:e.exportNotes}},[e._v("Export All")])])])])],1),n("editor",{attrs:{"show-burger":e.navCollapse,exporter:e.download,canDelete:e.canDelete,deleter:e.delNote},on:{burgerClick:function(t){e.navCollapse=!e.navCollapse}}}),e._l(e.list,(function(t,o){return n("vue-context",{key:o,ref:"contextMenu"+o,refInFor:!0},[n("li",{on:{click:function(n){return e.download(t.id)}}},[e._v("Export")]),n("li",{class:["ctx-danger",e.canDelete?"":"ctx-danger-disabled"],on:{click:function(n){return e.delNote(t.id)}}},[e._v("Delete")])])}))],2)},Y=[],Z=(n("c740"),n("ac1f"),n("25f0"),n("1276"),n("5530")),ee=n("c1df"),te=n.n(ee),ne={functional:!0,render(e,t){const{_c:n,_v:o,data:r,children:a=[]}=t,{class:s,staticClass:i,style:c,staticStyle:l,attrs:u={},...d}=r;return n("svg",{class:[s,i],style:[{"enable-background":"new 0 0 40.9 49.6"},c,l],attrs:Object.assign({version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 40.9 49.6",style:"enable-background:new 0 0 40.9 49.6;","xml:space":"preserve"},u),...d},a.concat([n("g",{attrs:{id:"XMLID_5_"}},[n("path",{staticClass:"st0",attrs:{id:"XMLID_9_",d:"M11.7,37.9h17.5V20.4h11.7L20.4,0L0,20.4h11.7V37.9z M0,43.8h40.8v5.8H0V43.8z"}})])]))}},oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editor-view"},[e.note?n("div",{staticClass:"editor-meta-view"},[n("span",{staticClass:"controls-left"},[e.showBurger?n("span",{staticClass:"editor-burger",on:{click:function(t){return e.$emit("burgerClick")}}},[e._v(" â˜° ")]):e._e(),n("span",{staticClass:"labels-control labels-control-btn",on:{click:function(t){return e.exporter(e.noteID)}}},[n("span",{staticClass:"label-text"},[e._v("Export")]),n("UploadSVG",{staticClass:"alt-icon icon-invert"})],1)]),n("span",{staticClass:"note-name"},[e._v(" "+e._s(e.$store.getters.currentNoteName)+" ")]),n("span",{staticClass:"controls-right"},[n("span",{class:{"labels-control":!0,"hiding-labels":!e.showRibbon},on:{click:function(t){e.showRibbon=!e.showRibbon}}},[n("span",{staticClass:"label-text no-kill"},[e._v("Toolbar")])]),n("span",{class:{"labels-control":!0,"hiding-labels":!e.showLabels},on:{click:function(t){e.showLabels=!e.showLabels}}},[n("span",{staticClass:"label-text no-kill"},[e._v("Labels")])])])]):e._e(),e.showRibbon?n("div",{staticClass:"editor-ribbon-container"},[n("div",{staticClass:"editor-ribbon"},[e._l(e.topLevelToolboxData,(function(t,o){return[n("span",{key:o,class:{"ribbon-item":!0,active:o===e.active},attrs:{"data-tooltip":e.showLabels?"":t.title},on:{mouseenter:e.mouseenter,mouseleave:e.mouseleave,click:function(t){return e.switchTool(o)}}},[e.showLabels?n("span",{staticClass:"ribbon-text"},[e._v(e._s(t.title))]):e._e(),n("span",{staticClass:"ribbon-icon",domProps:{innerHTML:e._s(t.icon)}})]),o in e.toolDrawers?n("span",{key:o+"-drawer",class:["tools-drawer-slider",e.openDrawers.includes(o)?"":"drawer-closed"]},[n("span",{staticClass:"drawer-toggle",attrs:{"data-tooltip":(e.openDrawers.includes(o)?"Close":"Open")+" "+t.title+" Drawer"},on:{mouseenter:e.mouseenter,mouseleave:e.mouseleave,click:function(t){return e.toggleDrawer(o)}}}),e._l(e.toolDrawers[o],(function(t){return n("span",{key:t,class:{"ribbon-item":!0,active:t===e.active},attrs:{"data-tooltip":e.showLabels?"":e.toolboxData[t].title},on:{mouseenter:e.mouseenter,mouseleave:e.mouseleave,click:function(n){return e.switchTool(t)}}},[e.showLabels?n("span",{staticClass:"ribbon-text"},[e._v(e._s(e.toolboxData[t].title))]):e._e(),n("span",{staticClass:"ribbon-icon",domProps:{innerHTML:e._s(e.toolboxData[t].icon)}})])}))],2):e._e()]}))],2)]):e._e(),n("div",{ref:"mountPoint",staticClass:"editor-container"})])},re=[],ae=(n("7db0"),n("c975"),n("a434"),n("07ac"),n("ade3")),se=n("9336"),ie=n.n(se);function ce(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=function(){function t(e){Object(s["a"])(this,t),this.config=e,this.pendingPasteEvent=null}return Object(i["a"])(t,[{key:"save",value:function(e){return{}}},{key:"render",value:function(){var t=this;return this.component=new e({parent:this.Editor.editor.VueEditor,propsData:{savedData:this.config.data||{}}}),this.component.$mount(),this.component.$on("insert",(function(){t.Editor.moduleInstances.Caret.setToBlock(t.Editor.moduleInstances.BlockManager.insert()),t.showToolbar(),t.Editor.moduleInstances.Toolbar.plusButton.show()})),this.component.$on("showToolbar",(function(){t.showToolbar()})),this.component.$on("hidePlusButton",(function(){t.Editor.moduleInstances.Toolbar.plusButton.hide()})),this.component.$on("showPlusButton",(function(){t.Editor.moduleInstances.Toolbar.plusButton.show()})),this.component.$on("navigateNext",(function(){t.Editor.moduleInstances.Caret.navigateNext(!0)})),this.component.$on("navigatePrevious",(function(){t.Editor.moduleInstances.Caret.navigatePrevious(!0)})),this.component.$on("get:components",(function(e){e(t.Editor.moduleInstances.BlockManager.blocks.filter((function(e){return e.name===t.block.name})).map((function(e){return e.tool.component})))})),this.component.$on("downOutOf",(function(){if(t.blockIndex!==t.Editor.moduleInstances.BlockManager.blocks.length-1){t.Editor.moduleInstances.Caret.navigateNext(!0);var e=t.Editor.moduleInstances.BlockManager,n=e.currentBlock,o=e.currentBlockIndex,r=e.blocks;o===r.length-1&&n.isEmpty&&t.Editor.moduleInstances.Events.once("caretChanged",(function(){t.Editor.moduleInstances.Toolbar.plusButton.show()}))}})),this.component.$on("upOutOf",(function(){0!==t.blockIndex&&t.Editor.moduleInstances.Caret.navigatePrevious(!0)})),this.component.$on("setIgnoreBackspace",(function(e){return t.ignoreBackspace=e})),this.component.$on("setIsEmpty",(function(e){return t.isEmpty=e})),this.component.$on("setIsAtStart",(function(e){return t.isAtStart=e})),this.component.$on("setIsAtEnd",(function(e){return t.isAtEnd=e})),this.component.$on("setSave",(function(e){return t.save=e})),this.component.$on("setSanitizer",(function(e){return t.sanitize=e})),this.component.$emit("preload"),this.component.$once("ready",(function(){t.pendingPasteEvent&&(t.component.$emit("parsePaste",t.pendingPasteEvent),t.pendingPasteEvent=null)})),this.root=document.createElement("div")}},{key:"moved",value:function(){this.component.$emit("moved")}},{key:"removed",value:function(){this.component.$destroy()}},{key:"rendered",value:function(){this.root.replaceWith(this.component.$el)}},{key:"onPaste",value:function(e){if(!this.component)return this.pendingPasteEvent=e;this.component.$emit("parsePaste",e)}},{key:"showToolbar",value:function(){this.Editor.moduleInstances.Toolbar.open(),this.Editor.moduleInstances.BlockManager.highlightCurrentNode()}},{key:"send",value:function(e){for(var t=this,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return new Promise((function(n,r){var a;(a=t.component).$emit.apply(a,[e].concat(o,[n]))}))}},{key:"keyOverrides",get:function(){return["up","down","left","right"]}},{key:"customEnter",get:function(){return!0}},{key:"blockIndex",get:function(){return this.Editor.moduleInstances.BlockManager.blocks.indexOf(this.block)}}]),t}(),n.toolbox=t,n.pasteConfig=o,n}var le,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"codex-mq-root":!0,"codex-mq-focused":e.isFocused}},[n("div",{staticClass:"mq-calc-root"},[n("div",{ref:"mqMount",class:{"mq-editable-field":!0,"mq-math-mode":!0},on:{focusin:e.focused,focusout:e.unfocused}}),n("span",{directives:[{name:"show",rawName:"v-show",value:null!==e.result,expression:"result !== null"}],ref:"mqResult",staticClass:"mq-result-view"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:null!==e.error,expression:"error !== null"}],class:{"mq-result-bar":!0,"text-right":!0}},[e._v(" "+e._s(e.error)+" ")]),[n("div",{directives:[{name:"show",rawName:"v-show",value:null!==e.result,expression:"result !== null"}],class:{"mq-result-bar":!0}},["dec"===e.renderFormat?n("FractionSVG",{on:{click:function(t){return e.toggleRenderFormat()}}}):n("DecimalSVG",{on:{click:function(t){return e.toggleRenderFormat()}}})],1),null!==e.resultFn?n("div",{class:{"mq-result-bar":!0}},[n("GraphSVG",{on:{click:function(t){return e.toggleGraph()}}})],1):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showGraph,expression:"showGraph"}],ref:"graph"})],n("mq-paste-data",{attrs:{renderFormat:e.renderFormat,showGraph:e.showGraph,latex:e.latex}})],2)},de=[],he=(n("a4d3"),n("e01a"),n("d28b"),n("4ec9"),n("5319"),n("6bba")),fe={functional:!0,render(e,t){const{_c:n,_v:o,data:r,children:a=[]}=t,{class:s,staticClass:i,style:c,staticStyle:l,attrs:u={},...d}=r;return n("svg",{class:[s,i],style:[{"enable-background":"new 0 0 464.6 264"},c,l],attrs:Object.assign({version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 464.6 264",style:"enable-background:new 0 0 464.6 264;","xml:space":"preserve"},u),...d},a.concat([n("title",[o("decimal")]),n("polygon",{attrs:{points:"0.5,63.1 153.5,134.2 0.5,205.2 "}}),n("g",{staticClass:"st0"},[n("path",{attrs:{d:"M239.4,114.1v-4.3c11.1,0,16.6-3.1,16.6-9.2V39c0-3.9-1.8-5.9-5.3-5.9h-11.9v-4.3c3.5-0.6,6.5-1.2,8.8-1.6\n\t\tc2.3-0.6,4.7-1.2,6.5-2c2-0.8,3.7-1.8,5.5-2.9s3.7-2.7,6.1-4.7l3.7,1c-0.4,2-0.6,3.5-0.8,5.1c-0.2,1.4-0.2,2.9-0.2,4.1v72.8\n\t\tc0,6.1,5.5,9.2,16.6,9.2v4.3H239.4z"}})]),n("g",{staticClass:"st0"},[n("path",{attrs:{d:"M241.7,250c-2,0-3.7,0-5.5,0.2c-1.8,0-3.3,0.2-4.7,0.4l-0.6-3.7c6.3-6.3,12.1-12.1,17.4-18c5.3-5.9,9.8-11.5,13.7-17\n\t\tc3.9-5.5,6.8-11,9.2-16.2c2.2-5.3,3.3-10.6,3.3-15.8c0-5.7-1.6-9.8-4.7-12.5c-3.1-2.7-7.4-4.1-13.3-4.1c-5.3,0-9.4,1-12.1,2.9\n\t\ts-4.1,4.7-4.1,8c3.3,1,4.9,2.7,4.9,5.3c0,4.7-2,6.8-6.1,6.8c-3.9,0-5.9-3.1-5.9-9.2c0-7,2.3-12.3,7-16c4.7-3.7,11.7-5.5,21.3-5.5\n\t\tc16.8,0,25.4,7.8,25.4,23.5c0,5.3-0.8,10.4-2.5,15.3c-1.8,4.7-4.3,9.6-7.8,14.3c-3.5,4.7-8,9.6-13.3,14.7\n\t\tc-5.5,4.9-11.7,10.4-19.2,16h25c2.5,0,4.7-0.2,6.5-0.4c1.8-0.2,3.3-0.8,4.7-1.8c1.4-0.8,2.3-2,3.3-3.5c1-1.6,2-3.5,2.7-6.1l3.7,0.6\n\t\tl-5.3,22.5h-43.2V250z"}})]),n("rect",{attrs:{x:"193",y:"133.7",width:"133",height:"4.3"}})]))}},pe={functional:!0,render(e,t){const{_c:n,_v:o,data:r,children:a=[]}=t,{class:s,staticClass:i,style:c,staticStyle:l,attrs:u={},...d}=r;return n("svg",{class:[s,i],style:[{"enable-background":"new 0 0 464.6 264"},c,l],attrs:Object.assign({version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 464.6 264",style:"enable-background:new 0 0 464.6 264;","xml:space":"preserve"},u),...d},a.concat([n("title",[o("decimal")]),n("polygon",{attrs:{points:"0.5,63.1 153.5,134.2 0.5,205.2 "}}),n("path",{attrs:{d:"M298,183.6c-3.4,0.7-6.8,1.2-10.3,1.5c-4.7,0.5-10.7,1.2-17.9,2.3l-2.2-13c-2.4,4.4-6,8-10.4,10.5c-4.8,2.7-10.1,4-15.6,3.9\n\tc-4.8,0-9.6-0.8-14.1-2.5c-4.4-1.6-8.4-4.2-11.7-7.6c-3.5-3.7-6.3-8.2-8-13c-2.1-6-3.1-12.3-3-18.7c0-6.4,1-12.7,3.2-18.7\n\tc2-5.5,4.9-10.6,8.8-15c3.7-4.2,8.2-7.5,13.3-9.9c5.2-2.4,10.9-3.7,16.7-3.6c4.3-0.1,8.6,0.9,12.5,2.9c3.1,1.6,5.9,3.7,8.3,6.3V65.6\n\tc0-4.5-5.1-6.8-15.4-6.8v-6.2l32-5.2c0.3,4.9,0.5,10.7,0.6,17.2S285,78,285,85.4v75.4c0,11.2,4.6,17.1,13.8,17.6L298,183.6z\n\t M247.6,178.8c4.4,0,7.9-0.8,10.6-2.4c2.7-1.7,4.9-4.2,6.2-7.1c1.6-3.6,2.6-7.5,3-11.4c0.6-5.1,0.8-10.2,0.8-15.3\n\tc0-23.3-7.6-35-22.8-35c-3.6-0.1-7.1,0.9-10.1,2.9c-2.9,2-5.3,4.6-7.1,7.6c-1.9,3.3-3.3,6.8-4.2,10.5c-0.9,3.8-1.4,7.7-1.4,11.6\n\tc0,4.6,0.4,9.3,1.3,13.8c0.8,4.3,2.2,8.5,4.2,12.4c1.8,3.6,4.4,6.7,7.7,9C239.3,177.7,243.4,178.9,247.6,178.8L247.6,178.8z"}}),n("path",{attrs:{d:"M380.4,165.4c-3,6.9-7.9,12.9-14,17.4c-6.1,4.2-13.4,6.4-20.8,6.2c-6,0.1-12-1-17.6-3.4c-4.9-2.1-9.2-5.2-12.7-9.2\n\tc-3.5-4-6.1-8.7-7.7-13.8c-1.8-5.5-2.6-11.2-2.6-17c0-5.8,0.9-11.7,2.8-17.2c1.8-5.3,4.4-10.2,7.9-14.6c3.3-4.2,7.5-7.7,12.3-10.2\n\tc4.9-2.6,10.4-3.9,16-3.8c3.8,0,7.6,0.5,11.3,1.3c4,0.9,7.8,2.6,11.1,5.1c3.8,2.9,6.9,6.6,9,10.9c2.5,4.7,4.2,11,5,18.7\n\tc0,1.5-0.2,3-0.6,4.4h-53.2c-2.5,0-3.8,1-3.8,3c0,4.6,0.6,9.2,2,13.6c1.2,4,3.1,7.8,5.6,11.2c2.3,3.1,5.3,5.7,8.8,7.5\n\tc3.6,1.8,7.6,2.8,11.6,2.7c5.2,0.1,10.4-1.6,14.5-4.8c4.1-3.2,7.7-7,10.7-11.2L380.4,165.4z M353.2,134.2c5.5,0,8.2-2.8,8.2-8.4\n\tc-0.3-4.8-2.1-9.5-5.1-13.3c-3-3.8-7.4-5.7-13.1-5.7c-2.9,0-5.8,0.7-8.4,2.1c-2.5,1.4-4.7,3.3-6.5,5.6c-1.8,2.4-3.2,5.1-4.1,8\n\tc-0.9,3-1.4,6.1-1.4,9.3c0,1.6,1.5,2.4,4.4,2.4L353.2,134.2z"}}),n("path",{attrs:{d:"M464.6,168.4c-1.3,3.5-3.2,6.6-5.8,9.3c-2.5,2.6-5.3,4.7-8.5,6.4c-3.1,1.7-6.5,2.9-9.9,3.7c-3.3,0.8-6.6,1.2-10,1.2\n\tc-5.4,0.1-10.8-1-15.8-3.3c-4.6-2.1-8.6-5.2-11.8-9.1c-3.3-4-5.8-8.6-7.3-13.6c-1.7-5.4-2.5-11.1-2.5-16.8c0-6,0.9-12,2.7-17.8\n\tc1.7-5.4,4.5-10.5,8.2-14.8c3.8-4.4,8.5-7.8,13.8-10.1c6.2-2.6,12.8-3.8,19.5-3.7c3.2,0,6.4,0.5,9.5,1.4c3,0.9,5.8,2.2,8.4,3.9\n\tc2.4,1.6,4.4,3.7,5.9,6.1c1.5,2.3,2.2,5,2.2,7.8c0,2.7-1.3,5.2-3.4,6.9c-2,1.8-4.7,2.9-7.4,2.9c-5.5,0-8.2-3-8.2-9.1\n\tc0.1-0.9,0.2-1.8,0.3-2.6c0.2-1.2,0.3-2.4,0.3-3.6c0.1-2.5-1.4-4.9-3.7-5.8c-2.4-1.2-5-1.8-7.7-1.8c-3.6-0.1-7,1-9.9,3.1\n\tc-2.8,2.2-5.1,4.9-6.8,8c-1.9,3.4-3.2,7.1-4,10.9c-0.8,3.8-1.3,7.7-1.3,11.6c0,5,0.5,10.1,1.6,15c0.9,4.2,2.6,8.3,4.8,12\n\tc4.2,7.1,12,11.3,20.2,11c8.9,0,16.1-4,21.4-12L464.6,168.4z"}})]))}},me={functional:!0,render(e,t){const{_c:n,_v:o,data:r,children:a=[]}=t,{class:s,staticClass:i,style:c,staticStyle:l,attrs:u={},...d}=r;return n("svg",{class:[s,i],style:[{"enable-background":"new 0 0 30.973 30.973"},c,l],attrs:Object.assign({version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"30.973px",height:"30.973px",viewBox:"0 0 30.973 30.973",style:"enable-background:new 0 0 30.973 30.973;","xml:space":"preserve"},u),...d},a.concat([n("g",[n("g",[n("rect",{attrs:{y:"2.961",width:"2",height:"2.034"}}),n("rect",{attrs:{y:"7.162",width:"2",height:"2.033"}}),n("rect",{attrs:{y:"11.359",width:"2",height:"2.034"}}),n("rect",{attrs:{y:"15.561",width:"2",height:"2.033"}}),n("rect",{attrs:{y:"19.76",width:"2",height:"2.035"}}),n("polygon",{attrs:{points:"6.383,24.531 6.383,0.104 3.332,0.104 3.332,27.582 30.973,27.582 30.973,24.531 \t\t"}}),n("rect",{attrs:{x:"26.08",y:"28.861",width:"2.034",height:"2.008"}}),n("rect",{attrs:{x:"21.881",y:"28.861",width:"2.033",height:"2.008"}}),n("rect",{attrs:{x:"17.682",y:"28.861",width:"2.033",height:"2.008"}}),n("rect",{attrs:{x:"13.481",y:"28.861",width:"2.034",height:"2.008"}}),n("rect",{attrs:{x:"9.282",y:"28.861",width:"2.034",height:"2.008"}}),n("polygon",{attrs:{points:"12.837,16.688 18.154,19.235 21.227,13.286 25.938,15.495 30.477,7.363 28.701,6.373 25.086,12.85 20.319,10.614 \r\n\t\t\t17.254,16.549 12.031,14.045 7.123,22.398 8.877,23.43 \t\t"}})])]),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g")]))}},ve=n("69c0"),ge=ve.create(ve.all,{});function be(e,t){var n=Object.keys(e);Object.keys(t).filter((function(e){return!n.includes(e)})).forEach((function(n){e[n]=t[n]}))}ge.import(n("31d4"),{});try{var we={get passive(){return!0,!1}};window.addEventListener("test",null,we),window.removeEventListener("test",null)}catch(Wt){!1}var ye=n("15f6"),ke=n("1da3"),xe="mq-paste-data";function je(e){return Object.values(e).filter((function(e){return"function"===typeof e})).reduce((function(e,t){return e[t.syntax]=t.original.substring(t.syntax.length+1),e}),{})}function Ce(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)}))}window.nerdamer=ye,window.algebrite=ke,h["c"].config.ignoredElements.push(xe);var Oe={};function Ee(e){var t=e.data,n=t.nonce,o=t.result,r=Oe[n];r?r(o):console.debug("unknown nonce from worker response",{event:e,data:e.data,nonce:n,result:o,pending:Oe})}function _e(e,t){var n=window.AlgebraWorker;return null===n.onmessage&&(n.onmessage=Ee),new Promise((function(o,r){var a=je(t),s=Ce();Oe[s]=o,n.postMessage({evaluate:e,functions:a,nonce:s})}))}var Le=le=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.renderFormat="dec",e.isFocused=!1,e.latex=null,e.lastScope={},e.resultFn=null,e.result=null,e.showGraph=!1,e.chart=null,e.error=null,e.flaggedForDeletion={},e.mathCache=new Map,e.calcCache=new Map,e}return Object(u["a"])(t,e),Object(i["a"])(t,[{key:"mounted",value:function(){var e=this,t=!1;le.registerWithGarbageMan(this),this.mathField=new MathQuill.MathField(this.$refs.mqMount,{handlers:{edit:function(n){e.latex=n.latex(),t&&e.updateQuills()},upOutOf:function(){return e.$emit("upOutOf")},downOutOf:function(){return e.$emit("downOutOf")},moveOutOf:function(t,n){"1"==t?e.$emit("navigateNext"):e.$emit("navigatePrevious")},enter:function(t){e.$emit("insert")}},autoCommands:"int pi sqrt sum"}),this.resultView=new MathQuill.StaticMath(this.$refs.mqResult),Object.keys(this.savedData).forEach((function(t){h["c"].set(e,t,e.savedData[t])})),this.mathField.write(this.latex||""),this.$on("preload",(function(){e.$emit("setIgnoreBackspace",(function(){return(e.latex||"").length>0})),e.$emit("setIsEmpty",(function(){return 0===(e.latex||"").length})),e.$emit("setIsAtStart",(function(){return e.mqRootBlock.firstElementChild&&e.mqRootBlock.firstElementChild.classList.contains("mq-cursor")})),e.$emit("setIsAtEnd",(function(){return e.mqRootBlock.lastElementChild&&e.mqRootBlock.lastElementChild.classList.contains("mq-cursor")})),e.$emit("setSave",(function(){return{latex:e.latex,renderFormat:e.renderFormat,showGraph:e.showGraph}})),e.$emit("setPasteConfig",{tags:[xe]}),e.$emit("ready")})),this.$on("updateQuills",(function(t){return e.updateQuills().then(t)})),this.$on("moved",(function(){return e.updateQuills()})),this.$on("reflow",(function(){return e.reflow()})),this.$on("parsePaste",(function(t){var n=t.detail.data,o=n.getAttribute("renderFormat"),r=n.getAttribute("latex"),a=n.getAttribute("showGraph");e.mathField.write(r||""),e.updateQuills().then((function(){e.renderFormat=o||e.renderFormat,e.showGraph=Boolean(a)}))})),this.$watch("renderFormat",(function(){e.result&&e.updateResultView(e.result)})),this.$watch("result",(function(t){e.updateResultView(t)})),this.$watch("resultFn",(function(t){if(!t)return e.removeGraph();e.showGraph&&e.updateGraph()})),this.$watch("showGraph",(function(t){t?e.updateGraph():e.removeGraph()})),this.$once("ready",(function(){t=!0}))}},{key:"destroyed",value:function(){this.calcCache.clear(),this.mathCache.clear(),le.deregisterWithGarbageMan(this)}},{key:"updated",value:function(){this.resultView&&this.resultView.reflow()}},{key:"reflow",value:function(){this.resultView&&this.resultView.reflow(),this.mathField&&this.mathField.reflow()}},{key:"resolveCachedLatex",value:function(e){var t=this.scopeToken;return this.mathCache.has(t)||this.mathCache.set(t,new Map),this.mathCache.get(t).get(e)}},{key:"cacheLatex",value:function(e,t){var n=this.scopeToken;this.mathCache.has(n)||this.mathCache.set(n,new Map),this.mathCache.get(n).set(e,t)}},{key:"math",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.latex){e.next=2;break}return e.abrupt("return",null);case 2:if(t=this.resolveCachedLatex(this.latex),t){e.next=9;break}return n=he["latexParser"].parse(this.latex),e.next=7,_e(n.content,this.lastScope);case 7:t=e.sent,this.cacheLatex(this.latex,t);case 9:return e.abrupt("return",t.toString());case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"focused",value:function(){this.isFocused=!0,this.$emit("hidePlusButton"),this.$emit("showToolbar")}},{key:"unfocused",value:function(){this.isFocused=!1,this.isActive||this.$emit("showToolbar")}},{key:"updateQuills",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,n,o,r,a,s,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.components();case 2:t=e.sent,n={},o=!0,r=!1,a=void 0,e.prev=7,s=t[Symbol.iterator]();case 9:if(o=(i=s.next()).done){e.next=16;break}return c=i.value,e.next=13,c.calc(n);case 13:o=!0,e.next=9;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](7),r=!0,a=e.t0;case 22:e.prev=22,e.prev=23,o||null==s.return||s.return();case 25:if(e.prev=25,!r){e.next=28;break}throw a;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case"end":return e.stop()}}),e,this,[[7,18,22,30],[23,,25,29]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"removeGraph",value:function(){this.chart&&(this.chart.root.remove(),this.chart=null)}},{key:"updateGraph",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.resultFn){e.next=2;break}return e.abrupt("return");case 2:return this.chart&&this.removeGraph(),e.next=5,n.e("chunk-265e34ea").then(n.t.bind(null,"1e0d",7));case 5:t=e.sent,o=t.default,this.chart=o({target:this.$refs.graph,tip:{xLine:!0,yLine:!0,renderer:function(e,t){return"(".concat(e,", ").concat(t,")")}},data:[{fn:"fn",scope:{fn:this.resultFn},nSamples:1e3,sampler:"mathjs",graphType:"polyline"}],width:this.$refs.mqMount.clientWidth}),this.fixChart();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fixChart",value:function(){if(this.chart){var e=this.chart.options,t=d3.select(e.target).selectAll("svg").data([e]).__proto__;be(this.chart.root,t),be(this.chart.canvas,t),Object.defineProperty(this.chart,"content",{get:function(){return this._content},set:function(e){return be(e,t),this._content=e,!0}})}}},{key:"resolveCachedCalc",value:function(e){var t=this.scopeToken;return this.calcCache.has(t)||this.calcCache.set(t,new Map),this.calcCache.get(t).get(e)}},{key:"cacheCalc",value:function(e,t){var n=this.scopeToken;this.calcCache.has(n)||this.calcCache.set(n,new Map),this.calcCache.get(n).set(e,t)}},{key:"calc",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var n,o,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.latex){e.next=2;break}return e.abrupt("return");case 2:if(this.lastScope=Object.assign({},t),this.error=null,n=this.latex&&this.resolveCachedCalc(this.latex),!n){e.next=9;break}o=n,e.next=17;break;case 9:return e.next=11,this.math();case 11:if(r=e.sent,r){e.next=14;break}return e.abrupt("return",this.result=null);case 14:o=ge.parse(r).compile(),this.cacheCalc(this.latex,o),console.debug("compiled expression",{latex:this.latex,mathStr:r,compiled:o});case 17:s=this.resolveCachedLatex(this.latex);try{a=o.evaluate(t)}catch(i){a=s}finally{if("function"!==typeof a&&(this.resultFn=null),"function"===typeof a||"undefined"===typeof a){if("function"===typeof a){try{a(0)}catch(i){this.error=i.message,a=null}a&&(a["original"]=s),this.resultFn=a}a=null}}return this.result=a,e.abrupt("return",a);case 21:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"toggleGraph",value:function(){this.showGraph=!this.showGraph}},{key:"updateResultView",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=this.renderFormat,e.next="frac"===e.t0?3:(e.t0,9);break;case 3:return e.next=5,this.fraction(t);case 5:if(n=e.sent,!n){e.next=9;break}return this.resultView.latex(n),e.abrupt("break",12);case 9:try{isNaN(t)&&(o=t,t=ye(o).toTeX()),"function"===typeof t.toTeX&&(t=t.toTeX()),"function"===typeof t.toTex&&(t=t.toTex())}catch(r){console.debug("failed to render result",r,{result:t,latex:this.latex}),t="error"}return this.resultView.latex(t),e.abrupt("break",12);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"fraction",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",ge.fraction(t).toLatex());case 4:return e.prev=4,e.t0=e["catch"](0),e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"toggleRenderFormat",value:function(){this.renderFormat="dec"===this.renderFormat?"frac":"dec"}},{key:"components",value:function(){var e=this;return new Promise((function(t){return e.$emit("get:components",t)}))}},{key:"mqRootBlock",get:function(){return this.$refs.mqMount.querySelector(".mq-root-block")}},{key:"isActive",get:function(){try{return this.$el.parentElement.parentElement.classList.contains("ce-block--focused")}catch(e){return!1}}},{key:"scopeToken",get:function(){return JSON.stringify(Object.assign({},this.lastScope,je(this.lastScope)))}}],[{key:"startGarbageWatcher",value:function(e,t){var n=this;this.garbageTimer=setInterval((function(){console.debug("ðŸ—‘ time to take out the trash, bitches"),n.garbageClients.forEach((function(e){var n=e.scopeToken,o=Array.from(e.mathCache.keys()).concat(Array.from(e.calcCache.keys())).filter((function(e,t,n){return n.indexOf(e)===t}));o.forEach((function(o){if(o!==n)if("undefined"===typeof e.flaggedForDeletion[o])e.flaggedForDeletion[o]=Date.now();else if(Date.now()-e.flaggedForDeletion[o]>t){var r=e.mathCache.get(o),a=e.calcCache.get(o);console.debug("ðŸ—‘ purging expired caches for component",{mathCache:{keys:r&&r.keys(),values:r&&r.values()},calcCache:{keys:a&&a.keys(),values:a&&a.values()},token:o,flaggedAt:e.flaggedForDeletion[o]}),r&&r.clear(),a&&a.clear(),e.mathCache.delete(o),e.calcCache.delete(o)}}))}))}),e)}},{key:"stopGarbageWatcher",value:function(){clearTimeout(this.garbageTimer),delete this.garbageTimer}},{key:"registerWithGarbageMan",value:function(e){this.garbageClients.includes(e)||this.garbageClients.push(e)}},{key:"deregisterWithGarbageMan",value:function(e){this.garbageClients.includes(e)&&this.garbageClients.splice(this.garbageClients.indexOf(e),1)}}]),t}(h["c"]);Le.garbageClients=[],d["a"]([Object(h["b"])()],Le.prototype,"savedData",void 0),Le=le=d["a"]([Object(h["a"])({components:{FractionSVG:fe,DecimalSVG:pe,GraphSVG:me}})],Le);var $e=Le;Le.startGarbageWatcher(15e3,3e4);var Me=$e,Se=(n("fdf0"),Object(b["a"])(Me,ue,de,!1,null,null,null)),Te=Se.exports,Ne={functional:!0,render(e,t){const{_c:n,_v:o,data:r,children:a=[]}=t,{class:s,staticClass:i,style:c,staticStyle:l,attrs:u={},...d}=r;return n("svg",{class:[s,i],style:[{"enable-background":"new 0 0 19.342 19.342"},c,l],attrs:Object.assign({version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 19.342 19.342",style:"enable-background:new 0 0 19.342 19.342;","xml:space":"preserve"},u),...d},a.concat([n("g",[n("g",[n("path",{attrs:{d:"M2.833,4.491c0,0,0.513,0.491,0.513,0.776v12.568c0,0.832,0.736,1.507,1.645,1.507h9.362\r\n\t\t\tc0.908,0,1.644-0.675,1.644-1.507V5.268c0-0.286,0.515-0.776,0.515-0.776V2.969H2.833V4.491z M12.36,6.23h1.223v9.705H12.36V6.23z\r\n\t\t\t M9.086,6.23h1.22v9.705h-1.22V6.23z M6.137,6.23h1.221v9.705H6.137V6.23z"}}),n("path",{attrs:{d:"M17.108,1.711h-3.791C13.128,0.74,12.201,0,11.087,0H8.257C7.143,0,6.216,0.74,6.027,1.711H2.235\r\n\t\t\tv0.93h14.873V1.711z M7.297,1.711c0.156-0.344,0.528-0.586,0.96-0.586h2.829c0.433,0,0.804,0.243,0.961,0.586H7.297z"}})])]),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g")]))}},Be={functional:!0,render(e,t){const{_c:n,_v:o,data:r,children:a=[]}=t,{class:s,staticClass:i,style:c,staticStyle:l,attrs:u={},...d}=r;return n("svg",{class:[s,i],style:[{"enable-background":"new 0 0 512 512"},c,l],attrs:Object.assign({version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:"enable-background:new 0 0 512 512;","xml:space":"preserve"},u),...d},a.concat([n("g",[n("g",[n("g",[n("rect",{attrs:{x:"128",y:"144",width:"32",height:"32"}}),n("rect",{attrs:{x:"192",y:"144",width:"32",height:"32"}}),n("polygon",{attrs:{points:"256,144 256,176 480,176 480,336 32,336 32,176 96,176 96,144 0,144 0,368 512,368 512,144 \t\t\t"}}),n("path",{attrs:{d:"M64,304h96v-96H64V304z M96,240h32v32H96V240z"}}),n("path",{attrs:{d:"M352,208v96h96v-96H352z M416,272h-32v-32h32V272z"}}),n("path",{attrs:{d:"M208,304h96v-96h-96V304z M240,240h32v32h-32V240z"}})])])]),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g")]))}},De=(n("45fc"),n("e439"),n("2ca0"),n("498a"),n("3835")),Ie=n("71c0"),Re=(n("1e7c"),n("36a7")),Pe=n("ac8c"),Ae=n("a3c6"),Fe=n("7c5e");function ze(e,t,n){var o=e[t]||function(){},r=n(o);e[t]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(this,t)}}function Ve(e,t,n){var o=Object.getOwnPropertyDescriptor(e,t).get,r=n(o);Object.defineProperty(e,t,{get:function(){return r.call(this)}})}function Ge(e,t,n){var o=Object.getOwnPropertyDescriptor(e,t).set,r=n(o);Object.defineProperty(e,t,{set:function(e){return r.call(this,e)}})}function qe(e){var t=e.core,n=e.core.moduleInstances,o=n.Dom.constructor,r=n.Sanitizer,a=n.Paste,s=n.BlockSelection;function i(e){var n=null;if(e){var o=t.configuration.blockElements||[],r=t.configuration.inlineElements||[],a=t.configuration.specialElements||[];o.forEach((function(t){return e.tags[t]=!0})),r.forEach((function(t){return e.tags[t]=!0})),n=new Re(Object.assign({},e,{blockElements:o.map((function(e){return e.toUpperCase()})),inlineElements:r.map((function(e){return e.toUpperCase()})),specialElements:a.map((function(e){return e.toUpperCase()})),keepNestedBlockElements:!0}))}return n}function c(e){if(t.configuration.specialElements.includes(e.nodeName.toLowerCase()))return!0;var n=Array.from(e.childNodes);return n.some((function(e){return c(e)}))}function l(e){var t=document.createElement("div");t.className="codex-editor-clipboard",t.innerText=e,document.body.appendChild(t);var n=window.getSelection(),o=document.createRange();o.selectNode(t),window.getSelection().removeAllRanges(),n.addRange(o),document.execCommand("copy"),document.body.removeChild(t)}ze(r.__proto__,"createHTMLJanitorInstance",(function(e){return i})),ze(a,"processText",(function(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=n[0],a=document.implementation.createHTMLDocument(),s=a.createElement("div");return s.innerHTML=r,c(s)?e.call(this,s.innerHTML,!0):e.call.apply(e,[this].concat(n))}})),ze(o,"isEmpty",(function(e){return function(n){return!t.configuration.specialElements.includes(n.nodeName.toLowerCase())&&e.call(this,n)}})),ze(a,"processHTML",(function(e){return function(t){var n=this,r=o.make("DIV");r.innerHTML=t;var a=[],s=[],i=Array.from(r.children),l="_32@!#+_";i.forEach((function(e,t){if(c(e)){a[t]=e;var n="".concat(l).concat(t);s[t]=n;var o=document.createTextNode(n);r.replaceChild(o,e)}}));var u=e.call(this,r.innerHTML),d=function(e){var t=a[e].children[0];return{content:t,isBlock:!0,tool:n.toolsTags[t.tagName].tool,event:n.composePasteEvent("tag",{data:t})}},h=[];return u.forEach((function(e){var t=e.content,n=t instanceof HTMLElement&&t.innerText;if(!n)return h.push(e);var o=n.split(l).map((function(e){return parseInt(e)})).filter((function(e){return!isNaN(e)}));if(0===o.length)return h.push(e);o.forEach((function(e){return h.push(d(e))}))})),h=h.filter((function(e){return!!e})),h}})),ze(s,"copySelectedBlocks",(function(e){return function(){var e=this,t=document.createElement("div");this.selectedBlocks.forEach((function(n){var o=e.Editor.Sanitizer.clean(n.holder.innerHTML,e.sanitizerConfig),r=document.createElement("p");r.innerHTML=o,t.appendChild(r)})),l(t.innerHTML)}})),Ve(o,"blockElements",(function(e){return function(){var n=e.call(this);return t.configuration.specialElements.forEach((function(e){return n.push(e.toLowerCase())})),n}}))}function He(e){ze(Ie.prototype,"getOutofList",(function(e){return function(t){e.call(this,t),t.defaultPrevented&&this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex())}})),Fe.prototype.onTab=function(e){if(!this._suggestions)return!1;e&&(e.preventDefault(),e.stopPropagation()),"undefined"===typeof this.selectedSuggestion?this.selectedSuggestion=0:this.selectedSuggestion++;var t=this.suggestions[this.selectedSuggestion-1],n=this.suggestions[this.selectedSuggestion];return n||(n=this.suggestions[this.selectedSuggestion=0]),t&&t.classList.remove("active"),n&&n.classList.add("active"),!0},Fe.prototype.teardownSuggestions=function(){this._suggestions&&this._suggestions.remove(),delete this._suggestions,delete this.suggestions,delete this.selectedSuggestion},Fe.prototype.focused=function(e){!e&&this._suggestions&&(console.log("tearing down suggestions"),this.teardownSuggestions())},Fe.prototype.selectSuggestion=function(t){var n=t.innerText,o=e.core.moduleInstances.BlockManager.composeBlock(n,{}),r=e.core.moduleInstances.BlockManager._blocks.indexOf(this.block);e.core.moduleInstances.BlockManager._blocks.insert(r,o,!0),e.core.moduleInstances.Caret.setToBlock(o),this.teardownSuggestions()},Fe.prototype.onEnter=function(e){return!!this._suggestions&&(this.selectSuggestion(this.suggestions[this.selectedSuggestion]),!0)},Fe.prototype.removed=function(){this.teardownSuggestions()},ze(Fe.prototype,"onKeyUp",(function(t){return function(n){var o=this;t.call(this,n);var r=this._element.textContent;if(!r.startsWith("/")||r.substring(1).split(" ").length>1||"/"===r)this._suggestions&&(console.debug("paragraph is tearing down suggestions"),this.teardownSuggestions());else{var a=r.substring(1).split(" "),s=Object(De["a"])(a,1),i=s[0],c=Object.keys(e.core.moduleInstances.Tools.blockTools),l=c.filter((function(e){return e.startsWith(i)})).sort((function(e,t){return e.length-t.length}));l.find((function(e){return e===i}));if(l.length!==c.length){n.code;var u="Tab"===n.code;if(!u){var d=this.suggestions=l.map((function(e){var t=document.createElement("span");return t.innerText=e,t.classList.add("tool-suggestion"),t.addEventListener("click",(function(){return o.selectSuggestion(t)})),t}));this._suggestions&&this._suggestions.remove();var h=this._suggestions=document.createElement("span");h.style.position="absolute",h.classList.add("tool-suggestion-container"),h.style.left=window.getSelection().getRangeAt(0).getBoundingClientRect().left+"px",h.style.top=window.getSelection().getRangeAt(0).getBoundingClientRect().top+"px",d.forEach((function(e){return h.appendChild(e)})),document.body.appendChild(h),this.onTab()}}}}})),Pe.prototype.ignoreBackspace=Ae.prototype.ignoreBackspace=function(e){var t=0===this.block.holder.querySelector("textarea").value.length;if(t){var n=this.Editor.moduleInstances.BlockManager.currentBlockIndex;this.Editor.moduleInstances.BlockManager.removeBlock(n);var o=this.Editor.moduleInstances.BlockManager.blocks[n],r=o;return o||(r=this.Editor.moduleInstances.BlockManager.insert(void 0,void 0,void 0,n)),this.Editor.moduleInstances.Caret.setToBlock(r,this.Editor.moduleInstances.Caret.positions.END),!0}return!1}}function We(e){var t=e.core,n=t.moduleInstances.BlockManager.composeBlock(t.config.initialBlock,{},{}).__proto__;Ve(n,"isEmpty",(function(e){return function(){var t=this.call("isEmpty");return"boolean"===typeof t?t:e.call(this)}})),Ge(n,"focused",(function(e){return function(t){e.call(this,t),this.call("focused",t)}})),Ge(n,"selected",(function(e){return function(t){e.call(this,t),this.call("selected",t)}})),n.call=function(e,t){if(this.tool[e]&&this.tool[e]instanceof Function)try{return this.tool[e](t)}catch(n){console.warn("Error during '".concat(e,"' call: ").concat(n.message))}},ze(n,"compose",(function(e){return function(){return this.tool.Editor=t,this.tool.block=this,e.call(this)}}))}function Ue(e,t){var n=e;if(!n)return!1;while(n){if(n.isEqualNode(t))return!0;n=n.parentNode}return!1}function Qe(e){var t=e.core,n=t.moduleInstances,o=n.BlockEvents,r=n.BlockManager,a=n.Events,s=n.Caret,i=n.UI;function c(e,t){var n=e;if(!n)return!1;while(n)if(n.classList){if(n.classList.contains(t))return!0;n=n.parentElement}else n=n.parentElement;return!1}ze(o,"tabPressed",(function(e){return function(t){this.Editor.BlockSelection.clearSelection(t);var n=this.Editor.BlockManager,o=n.currentBlock;if(o){var r=o.call("onTab",t);r||e.call(this,t)}}})),ze(o,"backspace",(function(e){return function(t){var n=r.currentBlock;!0!==n.call("ignoreBackspace",t)&&e.call(this,t)}})),ze(r,"highlightCurrentNode",(function(e){return function(){e.call(this),setTimeout((function(){var e=window.getSelection().focusNode,t=!c(e,"ce-block")||!Ue(e,r.currentBlock.holder);t&&s.setToBlock(r.currentBlock,s.positions.END)}))}})),ze(o,"arrowLeftAndUp",(function(e){return function(t){var n=this.Editor.BlockManager.currentBlock,o=38===t.keyCode?"up":"left";n.tool&&n.tool.keyOverrides&&n.tool.keyOverrides.indexOf(o)>0||e.call(this,t)}})),ze(o,"arrowRightAndDown",(function(e){return function(t){var n=this.Editor.BlockManager.currentBlock,o=40===t.keyCode?"down":"right";n.tool&&n.tool.keyOverrides&&n.tool.keyOverrides.indexOf(o)>0||e.call(this,t)}})),ze(o,"enter",(function(e){return function(t){var n=this.Editor.BlockManager,o=n.currentBlock.tool;o&&!0===o.customEnter||e.call(this,t)}})),ze(o,"enter",(function(e){return function(t){var n=this.Editor.BlockManager,o=n.currentBlock,r=o.call("onEnter",t);r||e.call(this,t)}})),ze(i,"enterPressed",(function(e){return function(t){var n=this.Editor,o=n.BlockManager,r=n.BlockSelection;n.Caret,o.currentBlockIndex;if(r.anyBlockSelected)return e.call(this,t);var a=o.currentBlock;return a&&a.tool&&a.call("onEnter",t)?void 0:e.call(this,t)}})),ze(o,"keydown",(function(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e.call.apply(e,[this].concat(n)),a.emit.apply(a,["keydown"].concat(n))}}))}function Ke(e){var t=e.core,n=t.moduleInstances,o=n.Caret,r=n.Events,a=o.__proto__;ze(o,"setToBlock",(function(e){return function(t,n,o){null!==t&&(t.call("isBeingFocused"),e.call(this,t,n,o))}})),ze(o,"set",(function(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e.call.apply(e,[this].concat(n)),r.emit.apply(r,["caretChanged"].concat(n))}})),Ve(a,"isAtStart",(function(e){return function(){var t=this.Editor.BlockManager.currentBlock,n=t.call("isAtStart");return"boolean"===typeof n?n:e.call(this)}})),Ve(a,"isAtEnd",(function(e){return function(){var t=this.Editor.BlockManager.currentBlock,n=t.call("isAtEnd");return"boolean"===typeof n?n:e.call(this)}}))}function Xe(e){var t=e.core,n=t.moduleInstances.BlockManager;n.paste=function(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n=o?this.replace(e):this.insert(e),!1===n.call("canPaste",t))return this.removeBlock(this.blocks.indexOf(n)),null;try{n.call("onPaste",t)}catch(r){console.error("".concat(e,": onPaste callback call is failed"),r)}return n},ze(n._blocks,"swap",(function(e){return function(t,n){var o=this.blocks[t],r=this.blocks[n];e.call(this,t,n),o.call("moved",1),r.call("moved",2)}})),Ge(n.__proto__,"currentBlockIndex",(function(t){return function(n){t.call(this,n);var o=e.blockIndexDidChange;"function"===typeof o&&o(n)}}))}function Je(e){var t=e.core,n=t.moduleInstances,o=n.BlockSelection,r=n.BlockManager,a=n.Caret,s=n.Toolbox,i=n.Dom.constructor,c=n.RectangleSelection,l=(n.Selection,n.Toolbar),u=n.UI;ze(o,"handleCommandA",(function(e){return function(t){if(i.isNativeInput(t.target)&&!this.readyToBlockSelection)return e.call(this,t);var n=this.Editor.BlockManager.getBlock(t.target);return 0===n.holder.innerText.trim().length&&(this.needToSelectAll=!0),e.call(this,t)}})),ze(c,"genInfoForMouseSelection",(function(e){return function(){if(!this.Editor.BlockManager.lastBlock){var t=r.insert();a.setToBlock(t)}return e.call(this)}})),ze(s,"toolButtonActivate",(function(t){return function(){if(!e.VueEditor||!e.VueEditor.touchMoving){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t.call.apply(t,[this].concat(o))}}})),ze(u,"documentClicked",(function(t){return function(){if(!e.VueEditor||!e.VueEditor.touchMoving){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t.call.apply(t,[this].concat(o))}}})),ze(l,"move",(function(e){return function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&(this.Editor.Toolbox.close(),this.Editor.BlockSettings.close());var n=this.Editor.BlockManager.currentBlock;if(n)return e.call(this,t)}})),ze(u,"redactorClicked",(function(e){return function(t){var n=window.getSelection(),o=n?n.isCollapsed:null;if(o){if(!this.Editor.BlockManager.currentBlock){var r=this.Editor.BlockManager.insert();a.setToBlock(r),l.move(!0)}return e.call(this,t)}}})),ze(u,"removeLoader",(function(t){return function(){if(e.VueEditor)return e.VueEditor.$once("ready",t.bind(this));t.call(this)}})),ze(r,"clearFocused",(function(){return function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.blocks.forEach((function(n,o){t&&o===e.currentBlockIndex||(n.focused=!1)}))}})),ze(l,"move",(function(e){return function(){var t=r.currentBlock.holder;if(t){r.clearFocused(!0),t.focused=!0;for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];e.call.apply(e,[this].concat(o))}}}))}function Ye(e){return Ze.apply(this,arguments)}function Ze(){return Ze=Object(I["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.core.editor=t,ze(t.core,"start",(function(e){return Object(I["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.call(this).then((function(){qe(t),He(t),We(t),Qe(t),Ke(t),Xe(t),Je(t)}));case 2:case"end":return n.stop()}}),n,this)})))}));case 2:case"end":return e.stop()}}),e)}))),Ze.apply(this,arguments)}var et=n("1e7c"),tt=n("ac8c"),nt=n("b391"),ot=n("a728"),rt=n("3ecd"),at=n("5d25"),st=n("71c0"),it=n("0960b"),ct=n("7c5e"),lt=n("e1ec"),ut=n("a3c6"),dt=n("3e21"),ht=n("2562"),ft=n("d2ef"),pt=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.active="",e.lastIndex=0,e.hasChanges=!1,e.overrides={showRibbon:null,showLabels:null},e.ready=!1,e.toolDrawers={paragraph:["list","header","delimiter","quote"]},e.openDrawers=[],e.touchMoving=!1,e}return Object(u["a"])(t,e),Object(i["a"])(t,[{key:"created",value:function(){var e=this;0!==Object.keys(this.$store.state.notes).length&&0!==Object.values(this.$store.state.notes).filter((function(e){return!!e})).length||this.$store.commit("newNote"),window.addEventListener("beforeunload",this.unloadListener=function(){return e.save()})}},{key:"toggleDrawer",value:function(e){if(this.openDrawers.includes(e))return this.openDrawers.splice(this.openDrawers.indexOf(e));this.openDrawers.push(e)}},{key:"mounted",value:function(){var e=this;this.$watch("noteID",function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(n,o){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.editor){t.next=2;break}return t.abrupt("return");case 2:if(e.save(o),e.editor.clear(),e.cachedData){t.next=6;break}return t.abrupt("return");case 6:return e.note,e.hasChanges=!1,t.next=10,e.renderData(e.cachedData);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),this.$el.addEventListener("touchmove",(function(){return e.touchMoving=!0})),this.$el.addEventListener("touchend",(function(){return e.touchMoving=!1})),this.interval=setInterval((function(){e.editor&&e.hasChanges&&(e.save(),e.hasChanges=!1)}),250),this.createEditor()}},{key:"destroyed",value:function(){clearInterval(this.interval),window.removeEventListener("beforeunload",this.unloadListener)}},{key:"mouseenter",value:function(e){e.target.getAttribute("data-tooltip")&&this.$parent.$emit("ct-mouseenter",e)}},{key:"mouseleave",value:function(e){e.target.getAttribute("data-tooltip")&&this.$parent.$emit("ct-mouseleave",e)}},{key:"renderData",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=t||this.cachedData,t&&t.blocks){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.editor.render(t||this.cachedData);case 5:if(n=this.editor.core.moduleInstances.BlockManager.blocks.find((function(e){return"math"===e.name})),!n){e.next=9;break}return e.next=9,n.tool.send("updateQuills");case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:this.noteID,this.$store.state.notes[t]){e.next=3;break}return e.abrupt("return");case 3:if(this.hasChanges){e.next=5;break}return e.abrupt("return");case 5:return e.t0=this.$store,e.next=8,this.editor.save();case 8:e.t1=e.sent,e.t2=t,e.t3={data:e.t1,id:e.t2},e.t0.commit.call(e.t0,"updateNote",e.t3);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"editorLoaded",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,n,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.renderData(this.cachedData);case 2:return this.editor.core.moduleInstances.Events.on("keydown",(function(e){o.hasChanges=!0})),h["c"].set(this.$root.$children[0],"tooltip",this.getModule("API").methods.tooltip),e.next=6,this.save();case 6:t=this.editor.core.moduleInstances.UI.nodes.redactor,n=new MutationObserver((function(e){console.debug("reflowing mathquills"),o.quills.forEach((function(e){return e.tool.send("reflow")}))})),n.observe(t,{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1}),this.$emit("ready"),this.ready=!0;case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"createEditor",value:function(e){var t,n=this;this.editor&&this.editor.destroy(),this.editor=new ie.a((t={holder:this.$refs.mountPoint,tools:{math:ce(Te,{title:"Math",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">\n                <path d="M 4 2 C 2.895 2 2 2.895 2 4 L 2 9 C 2 10.105 2.895 11 4 11 L 9 11 C 10.105 11 11 10.105 11 9 L 11 4 C 11 2.895 10.105 2 9 2 L 4 2 z M 15 2 C 13.895 2 13 2.895 13 4 L 13 9 C 13 10.105 13.895 11 15 11 L 20 11 C 21.105 11 22 10.105 22 9 L 22 4 C 22 2.895 21.105 2 20 2 L 15 2 z M 6 4 L 7 4 L 7 6 L 9 6 L 9 7 L 7 7 L 7 9 L 6 9 L 6 7 L 4 7 L 4 6 L 6 6 L 6 4 z M 15 6 L 20 6 L 20 7 L 15 7 L 15 6 z M 4 13 C 2.895 13 2 13.895 2 15 L 2 20 C 2 21.105 2.895 22 4 22 L 9 22 C 10.105 22 11 21.105 11 20 L 11 15 C 11 13.895 10.105 13 9 13 L 4 13 z M 15 13 C 13.895 13 13 13.895 13 15 L 13 20 C 13 21.105 13.895 22 15 22 L 20 22 C 21.105 22 22 21.105 22 20 L 22 15 C 22 13.895 21.105 13 20 13 L 15 13 z M 4.71875 15.03125 L 6.5 16.78125 L 8.28125 15.03125 L 8.96875 15.71875 L 7.21875 17.5 L 8.96875 19.28125 L 8.28125 19.96875 L 6.5 18.21875 L 4.71875 19.96875 L 4.03125 19.28125 L 5.78125 17.5 L 4.03125 15.71875 L 4.71875 15.03125 z M 15 16 L 20 16 L 20 17 L 15 17 L 15 16 z M 15 18 L 20 18 L 20 19 L 15 19 L 15 18 z"/>\n            </svg>'},{tags:["MQ-PASTE-DATA"]}),checklist:et,code:tt,raw:ut,delimiter:nt,embed:ot,inlineCode:at,list:st,marker:{class:it,shortcut:"CMD+SHIFT+U"},header:{class:rt,inlineToolbar:!0},paragraph:{class:ct,inlineToolbar:!0},quote:{class:lt,inlineToolbar:!0},image:dt,table:ht,warning:ft},data:e,logLevel:"VERBOSE"},Object(ae["a"])(t,"blockElements",["mq-paste-data"]),Object(ae["a"])(t,"specialElements",["mq-paste-data"]),Object(ae["a"])(t,"patch",Ye),t)),this.editor.VueEditor=this,this.editor.isReady.then((function(){return n.editorLoaded()})),this.editor.blockIndexDidChange=function(e){e>-1&&(n.lastIndex=e);var t=n.editor.core.moduleInstances.BlockManager.blocks[e];t&&(n.active=t.name)}}},{key:"switchTool",value:function(e){var t=this.getModule("BlockManager"),n=this.getModule("Caret"),o=this.getModule("Toolbar"),r=t.composeBlock(e,{});t._blocks.insert(this.lastIndex,r,!0),n.setToBlock(r),o.close()}},{key:"getModule",value:function(e){return this.editor.core.moduleInstances[e]}},{key:"showRibbon",get:function(){return!!this.ready&&(null===this.overrides.showRibbon?this.$store.state.preferences.showToolbox:this.overrides.showRibbon)},set:function(e){this.overrides.showRibbon=e}},{key:"showLabels",get:function(){return null===this.overrides.showLabels?this.$store.state.preferences.showLabels:this.overrides.showLabels},set:function(e){this.overrides.showLabels=e}},{key:"quills",get:function(){return this.editor.core.moduleInstances.BlockManager.blocks.filter((function(e){return"math"===e.name}))}},{key:"notInMainToolbox",get:function(){return Object.values(this.toolDrawers).reduce((function(e,t){return e.concat(t)}),[])}},{key:"cachedData",get:function(){return this.note&&this.note.data}},{key:"note",get:function(){return this.$store.state.notes[this.noteID]}},{key:"noteID",get:function(){return this.$store.state.currentNote},set:function(e){this.$store.commit("setNote",e)}},{key:"toolboxData",get:function(){try{var e=this.editor.core.moduleInstances.Tools.toolsClasses;return Object.keys(e).map((function(t){return{key:t,toolbox:e[t].toolbox}})).filter((function(e){return!!e.toolbox})).reduce((function(e,t){var n=t.key,o=t.toolbox;return e[n]=o,e}),{})}catch(t){return{}}}},{key:"topLevelToolboxData",get:function(){var e=this;return V.filterObject(this.toolboxData,(function(t){return!e.notInMainToolbox.includes(t)}))}}]),t}(h["c"]);d["a"]([Object(h["b"])({default:!1})],pt.prototype,"showBurger",void 0),d["a"]([Object(h["b"])()],pt.prototype,"exporter",void 0),d["a"]([Object(h["b"])()],pt.prototype,"deleter",void 0),d["a"]([Object(h["b"])({default:!1})],pt.prototype,"canDelete",void 0),pt=d["a"]([Object(h["a"])({components:{UploadSVG:ne,TrashSVG:Ne,ToolSVG:Be}})],pt);var mt=pt,vt=mt,gt=(n("58d3"),Object(b["a"])(vt,oe,re,!1,null,null,null)),bt=gt.exports,wt={functional:!0,render(e,t){const{_c:n,_v:o,data:r,children:a=[]}=t,{class:s,staticClass:i,style:c,staticStyle:l,attrs:u={},...d}=r;return n("svg",{class:[s,i],style:[c,l],attrs:Object.assign({viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},u),...d},a.concat([n("path",{attrs:{d:"m499.953125 197.703125-39.351563-8.554687c-3.421874-10.476563-7.660156-20.695313-12.664062-30.539063l21.785156-33.886719c3.890625-6.054687 3.035156-14.003906-2.050781-19.089844l-61.304687-61.304687c-5.085938-5.085937-13.035157-5.941406-19.089844-2.050781l-33.886719 21.785156c-9.84375-5.003906-20.0625-9.242188-30.539063-12.664062l-8.554687-39.351563c-1.527344-7.03125-7.753906-12.046875-14.949219-12.046875h-86.695312c-7.195313 0-13.421875 5.015625-14.949219 12.046875l-8.554687 39.351563c-10.476563 3.421874-20.695313 7.660156-30.539063 12.664062l-33.886719-21.785156c-6.054687-3.890625-14.003906-3.035156-19.089844 2.050781l-61.304687 61.304687c-5.085937 5.085938-5.941406 13.035157-2.050781 19.089844l21.785156 33.886719c-5.003906 9.84375-9.242188 20.0625-12.664062 30.539063l-39.351563 8.554687c-7.03125 1.53125-12.046875 7.753906-12.046875 14.949219v86.695312c0 7.195313 5.015625 13.417969 12.046875 14.949219l39.351563 8.554687c3.421874 10.476563 7.660156 20.695313 12.664062 30.539063l-21.785156 33.886719c-3.890625 6.054687-3.035156 14.003906 2.050781 19.089844l61.304687 61.304687c5.085938 5.085937 13.035157 5.941406 19.089844 2.050781l33.886719-21.785156c9.84375 5.003906 20.0625 9.242188 30.539063 12.664062l8.554687 39.351563c1.527344 7.03125 7.753906 12.046875 14.949219 12.046875h86.695312c7.195313 0 13.421875-5.015625 14.949219-12.046875l8.554687-39.351563c10.476563-3.421874 20.695313-7.660156 30.539063-12.664062l33.886719 21.785156c6.054687 3.890625 14.003906 3.039063 19.089844-2.050781l61.304687-61.304687c5.085937-5.085938 5.941406-13.035157 2.050781-19.089844l-21.785156-33.886719c5.003906-9.84375 9.242188-20.0625 12.664062-30.539063l39.351563-8.554687c7.03125-1.53125 12.046875-7.753906 12.046875-14.949219v-86.695312c0-7.195313-5.015625-13.417969-12.046875-14.949219zm-152.160156 58.296875c0 50.613281-41.179688 91.792969-91.792969 91.792969s-91.792969-41.179688-91.792969-91.792969 41.179688-91.792969 91.792969-91.792969 91.792969 41.179688 91.792969 91.792969zm0 0"}})]))}},yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings-panel"},[n("div",{class:["pane-switcher",-1===e.activePane?"col-primary":""]},e._l(e.panes,(function(t,o){return n("span",{key:o,class:["pane-item",e.activePane===o?"active":""],on:{click:function(t){e.activePane=o}}},[e._v(" "+e._s(t.name)+" ")])})),0),e.activePane>-1?n("div",{class:["pane",e.activePane>-1?"col-primary":""]},[n("h2",{staticClass:"pane-title"},[e._v(e._s(e.pane.name))]),e.pane.description?n("p",{staticClass:"pane-desc",domProps:{innerHTML:e._s(e.pane.description)}}):e._e(),e.pane.fields?n("form",e._l(e.pane.fields,(function(t,o){return n("span",{key:o,staticClass:"input-group"},[n("span",{class:["input-field","input-"+t.type,t.options?"input-pick":""]},[t.options?[n("span",{staticClass:"input-pick-name"},[e._v(e._s(t.name))]),e._l(t.options,(function(o,r){return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.controls[e.pane.id][t.id],expression:"controls[pane.id][input.id]"}],key:e.pane.id+":"+t.id+":"+o+":"+r,attrs:{type:"radio",id:e.pane.id+":"+t.id+":"+r},domProps:{value:o,checked:e._q(e.controls[e.pane.id][t.id],o)},on:{change:function(n){return e.$set(e.controls[e.pane.id],t.id,o)}}}),n("label",{key:e.pane.id+":"+t.id+":"+o+":"+r+":label",staticClass:"input-name",attrs:{for:e.pane.id+":"+t.id+":"+r}},[e._v(e._s(o))])]}))]:[n("label",{staticClass:"input-name",attrs:{for:e.pane.id+":"+t.id}},[e._v(e._s(t.name))]),"checkbox"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.controls[e.pane.id][t.id],expression:"controls[pane.id][input.id]"}],attrs:{id:e.pane.id+":"+t.id,type:"checkbox"},domProps:{checked:Array.isArray(e.controls[e.pane.id][t.id])?e._i(e.controls[e.pane.id][t.id],null)>-1:e.controls[e.pane.id][t.id]},on:{change:function(n){var o=e.controls[e.pane.id][t.id],r=n.target,a=!!r.checked;if(Array.isArray(o)){var s=null,i=e._i(o,s);r.checked?i<0&&e.$set(e.controls[e.pane.id],t.id,o.concat([s])):i>-1&&e.$set(e.controls[e.pane.id],t.id,o.slice(0,i).concat(o.slice(i+1)))}else e.$set(e.controls[e.pane.id],t.id,a)}}}):"radio"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.controls[e.pane.id][t.id],expression:"controls[pane.id][input.id]"}],attrs:{id:e.pane.id+":"+t.id,type:"radio"},domProps:{checked:e._q(e.controls[e.pane.id][t.id],null)},on:{change:function(n){return e.$set(e.controls[e.pane.id],t.id,null)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.controls[e.pane.id][t.id],expression:"controls[pane.id][input.id]"}],attrs:{id:e.pane.id+":"+t.id,type:t.type},domProps:{value:e.controls[e.pane.id][t.id]},on:{input:function(n){n.target.composing||e.$set(e.controls[e.pane.id],t.id,n.target.value)}}})]],2),t.description?n("span",{staticClass:"input-desc"},[e._v(e._s(t.description))]):e._e()])})),0):e._e()]):e._e()])},kt=[],xt=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.activePane=0,e.controls={},e.panes=[{id:"editor",name:"Editor",description:"Configure how the editor behaves by default",fields:[{id:"showLabels",name:"Show labels",description:"Show the toolbox labels by default",type:"checkbox",update:function(t){return e.$store.commit("setPreference",{name:"showLabels",value:t})},value:function(){return e.$store.state.preferences.showLabels}},{id:"showToolbox",name:"Show toolbox",description:"Show the toolbox itself by default",type:"checkbox",update:function(t){return e.$store.commit("setPreference",{name:"showToolbox",value:t})},value:function(){return e.$store.state.preferences.showToolbox}},{id:"hideEditorByDefaultOnMobile",name:"Default Mobile View",description:"Which screen should be presented when opening the app?",type:"string",options:["Menu","Editor"],update:function(t){return e.$store.commit("setPreference",{name:"hideEditorByDefaultOnMobile",value:"Editor"!==t})},value:function(){return e.$store.state.preferences.hideEditorByDefaultOnMobile?"Menu":"Editor"}},{id:"preferredColorScheme",name:"Theme",description:"Choose whether youi want light or dark mode, or inherit the system preference",type:"string",options:["Light","Dark","Inherit"],update:function(t){return e.$store.commit("setPreference",{name:"preferredColorScheme",value:t.toLowerCase()})},value:function(){switch(e.$store.state.preferences.preferredColorScheme){case"light":return"Light";case"dark":return"Dark";default:return"Inherit"}}},{id:"defaultNoteName",name:"Default Note Name",description:"Change the default name of notes",type:"string",update:function(t){return e.$store.commit("setPreference",{name:"defaultNoteName",value:t})},value:function(){return e.$store.state.preferences.defaultNoteName}}]},{id:"credits",name:"Credits",description:"Thanks everyone!"}],e}return Object(u["a"])(t,e),Object(i["a"])(t,[{key:"created",value:function(){var e=this;this.panes.forEach((function(t){h["c"].set(e.controls,t.id,t.fields&&t.fields.reduce((function(e,t){return e[t.id]=t.value(),e}),{})),t.fields&&t.fields.forEach((function(n){e.$watch("controls.".concat(t.id,".").concat(n.id),(function(e){return n.update(e)}))}))}));var t=document.createElement("div");t.classList.add("modal-header","settings-modal-header");var n=document.createElement("h1");n.innerText="Settings",t.appendChild(n);var o=document.createElement("span");o.classList.add("settings-modal-nav-back"),t.appendChild(o),o.addEventListener("click",(function(){return e.activePane=-1})),this.$root.$emit("modal-patch",{header:t,customClasses:["settings-modal"]}),this.$watch("activePane",(function(e){-1===e?o.classList.add("hidden"):o.classList.remove("hidden")})),window.addEventListener("resize",(function(){-1===e.activePane&&(document.documentElement.clientWidth<=500||(e.activePane=0))}))}},{key:"pane",get:function(){return this.panes[this.activePane]}}]),t}(h["c"]);xt=d["a"]([h["a"]],xt);var jt=xt,Ct=jt,Ot=(n("d382"),Object(b["a"])(Ct,yt,kt,!1,null,null,null)),Et=Ot.exports,_t=n("899b"),Lt=_t.VueContext;function $t(e,t,n){if(n||(n=document.createRange(),n.selectNode(e),n.setStart(e,0)),0===t.count)n.setEnd(e,t.count);else if(e&&t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(n.setEnd(e,t.count),t.count=0);else for(var o=0;o<e.childNodes.length;o++)if(n=$t(e.childNodes[o],t,n),0===t.count)break;return n}function Mt(e,t){if(e>=0){var n=window.getSelection(),o=$t(t,{count:e});o&&(o.collapse(!1),n.removeAllRanges(),n.addRange(o))}}var St=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.list=[],e.overrides={navCollapse:null},e.canDelete=!1,e.sortListAscending=!1,e}return Object(u["a"])(t,e),Object(i["a"])(t,[{key:"mounted",value:function(){var e=this;this.$store.subscribe((function(t,n){switch(t.type){case"setNote":case"newNote":case"delNote":case"updateNote":e.list=e.sortedList(e.notes)}})),this.$watch("sortListAscending",(function(){e.list=e.sortedList(e.notes)})),document.addEventListener("mousedown",this.mouseDown),this.$on("ct-mouseenter",(function(t){return e.mouseenter(t)})),this.$on("ct-mouseleave",(function(t){return e.mouseleave(t)})),this.list=this.sortedList(this.notes)}},{key:"destroyed",value:function(){document.removeEventListener("mousedown",this.mouseDown)}},{key:"showSettings",value:function(){this.$root.$emit("modal-show",{header:"Settings",body:Et})}},{key:"mouseDown",value:function(e){var t=e.target;t&&t instanceof Element&&this.activeContext&&(this.activeContext.$el.isEqualNode(t)||this.activeContext.$el.isEqualNode(t.closest(".v-context"))||this.closeContext())}},{key:"triggerContext",value:function(e,t){this.activeContext&&this.activeContext.close();var n=this.$refs["contextMenu".concat(t)][0];n?(n.open(e),this.activeContext=n):console.warn("unknown context at ".concat(t))}},{key:"download",value:function(e){var t=this.$store.state.notes[e];V.saveFile(JSON.stringify(t),"".concat(t.name,".onote"),"application/json")}},{key:"exportNotes",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,n,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},n=Object.keys(this.notes).map((function(e){return{name:o.notes[e].name,text:JSON.stringify(o.notes[e])}})).map((function(e,n,o){return t[e.name]||(t[e.name]=0),{name:1===o.filter((function(t){return t.name===e.name})).length?e.name:"".concat(e.name).concat(t[e.name]++>0?" (".concat(t[e.name]-1,")"):""),text:e.text}})).map((function(e){var t=e.name,n=e.text;return{name:"".concat(t,".onote"),text:n}})),e.next=4,V.zipFilesAndDownload("OpenNote Export.zip",n);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"closeContext",value:function(){this.activeContext&&(this.activeContext.close(),this.activeContext=null)}},{key:"setTitle",value:function(e){var t=e.target,n=document.getSelection().getRangeAt(0),o=n.cloneRange();o.selectNodeContents(t),o.setEnd(n.endContainer,n.endOffset);var r=o.toString().length,a=t.innerText.split("\n").join(""),s=t.getAttribute("data-id");t.innerText=a,this.$store.commit("updateNote",{id:s,name:a}),this.$nextTick((function(){Mt(r,t)}))}},{key:"mouseenter",value:function(e){var t=0;if(this.tooltip&&!(document.body.clientWidth<=500)){var n=e.target.getAttribute("data-tooltip"),o=e.target.getAttribute("data-placement")||"bottom";if(n){var r=document.createTextNode(n),a=new MutationObserver((function(t){r.textContent=e.target.getAttribute("data-tooltip")}));a.observe(e.target,{attributes:!0,attributeFilter:["data-tooltip"],childList:!1,characterData:!1}),this.tooltip.show(e.target,r,{placement:o});var s=Array.from(document.querySelectorAll(".ct.ct--bottom"));s.forEach((function(e){e.style.left="".concat((parseInt(e.style.left.split("px")[0])||0)+t,"px")}))}}}},{key:"mouseleave",value:function(e){this.tooltip&&this.tooltip.hide()}},{key:"selectNote",value:function(e){this.currentNote!==e&&(this.$store.commit("setNote",e),document.activeElement&&document.activeElement.getAttribute("data-id")===e||document.body.clientWidth<=500&&!this.navCollapse&&(this.navCollapse=!0))}},{key:"newNote",value:function(){this.$store.commit("newNote")}},{key:"delNote",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentNote;if(this.canDelete){var n=this.nextNote,o=function(){e.$store.commit("delNote",t),e.$store.commit("setNote",n.id)};this.notes[t].data&&0!==this.notes[t].data.blocks.length?this.$root.$emit("modal-show",{header:"Delete Note?",body:"Deleting a note is permanent, it cannot be restored unless you have a backup.",footer:D,footerOptions:{cancel:function(){e.$root.$emit("modal-close")},confirm:function(){o(),e.$root.$emit("modal-close")},confirmText:"Delete Note",cancelText:"Keep Note",confirmStyle:"danger"}}):o()}}},{key:"importNote",value:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t,n,o,r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V.getFilesAsString();case 3:t=e.sent,t.forEach((function(e){return a.$store.commit("newNote",JSON.parse(e))})),e.next=13;break;case 7:if(e.prev=7,e.t0=e["catch"](0),!(e.t0 instanceof V.DisplayableError)){e.next=13;break}return n=e.t0.options,o=n.message,r=n.title,e.next=13,this.$root.$emit("modal-show",{header:r,body:o,footer:D,footerOptions:{hasCancel:!1,confirm:function(){return a.$root.$emit("modal-close")},confirmText:"OK",confirmStyle:"primary"}});case 13:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"sortedList",value:function(e){var t=this;this.canDelete=Object.keys(this.$store.state.notes).length>1;var n=Object.keys(this.notes).map((function(e){return Object(Z["a"])({id:e},t.notes[e])}));return n.sort((function(e,n){var o=e.data&&e.data.time||e.created,r=n.data&&n.data.time||n.created;return t.sortListAscending?o-r:r-o})).map((function(e){var t=e.id,n=e.name,o=e.created,r=e.data;return{id:t,name:n,timestamp:te()(r&&r.time||o).calendar()}}))}},{key:"navCollapse",get:function(){return null===this.overrides.navCollapse?!this.$store.state.preferences.hideEditorByDefaultOnMobile:this.overrides.navCollapse},set:function(e){this.overrides.navCollapse=e}},{key:"version",get:function(){return"1.0.12"}},{key:"currentNote",get:function(){return this.$store.state.currentNote}},{key:"notes",get:function(){return this.$store.state.notes}},{key:"tooltip",get:function(){return this.$root.$children[0].tooltip}},{key:"prevNote",get:function(){var e=this,t=this.sortedList(this.notes);return t[t.findIndex((function(t){return t.id===e.currentNote}))-1]}},{key:"nextNote",get:function(){var e=this,t=this.sortedList(this.notes);return t[t.findIndex((function(t){return t.id===e.currentNote}))+1]}}]),t}(h["c"]);St=d["a"]([Object(h["a"])({components:{VueContext:Lt,UploadSVG:ne,Editor:bt,TrashSVG:Ne,SettingsSVG:wt}})],St);var Tt=St,Nt=Tt,Bt=(n("21bb"),Object(b["a"])(Nt,J,Y,!1,null,null,null)),Dt=Bt.exports;o["a"].use(X["a"]);var It=[{path:"/",name:"home",component:Dt}],Rt=new X["a"]({mode:"history",base:"/opennote/",routes:It}),Pt=Rt,At=n("2f62"),Ft=n("bfa9"),zt=new Ft["a"]({storage:window.localStorage});function Vt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)}))}o["a"].use(At["a"]);var Gt="Untitled Note",qt=new At["a"].Store({state:{currentNote:Vt(),notes:{},preferences:{showLabels:!0,showToolbox:!0,hideEditorByDefaultOnMobile:!0,sawFirstRun:!1,preferredColorScheme:null,defaultNoteName:Gt}},mutations:{setNote:function(e,t){e.currentNote=t},newNote:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.data,o=t.name,r=t.created,a=Vt();while(e.notes[a])a=Vt();e.notes[a]={data:n,name:o||e.preferences.defaultNoteName,created:r||Date.now()},e.currentNote=a},delNote:function(e,t){var n=Object.keys(e.notes);n.indexOf(t);delete e.notes[t]},updateNote:function(e,t){var n=t.data,r=t.id,a=t.name,s=e.notes[r]||(e.notes[r]={});o["a"].set(s,"data",n||s.data),o["a"].set(s,"name",a||s.name||Gt)},setPreference:function(e,t){var n=t.name,o=t.value;e.preferences[n]=o}},actions:{},getters:{preferredColorScheme:function(e){return e.preferences.preferredColorScheme},currentNote:function(e){return e.notes[e.currentNote]},currentNoteName:function(e,t){return t.currentNote.name}},modules:{},plugins:[zt.plugin]}),Ht=n("9c6e");window.AlgebraWorker=new Ht,o["a"].config.productionTip=!1,window.MathQuill=MathQuill.getInterface(1),new o["a"]({router:Pt,store:qt,render:function(e){return e(Q)}}).$mount("#app")},d382:function(e,t,n){"use strict";var o=n("c08c"),r=n.n(o);r.a},e9d1:function(e,t,n){},f08e:function(e,t,n){},fdf0:function(e,t,n){"use strict";var o=n("34d9"),r=n.n(o);r.a}});
//# sourceMappingURL=app.5b6fa4d5.js.map