(function(t){function e(e){for(var o,s,c=e[0],i=e[1],l=e[2],u=0,h=[];u<c.length;u++)s=c[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&h.push(r[s][0]),r[s]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);d&&d(e);while(h.length)h.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,s=1;s<n.length;s++){var i=n[s];0!==r[i]&&(o=!1)}o&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},r={app:0},a=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2e187d74":"3481c5cf","chunk-8934d6d4":"7b995eb6","chunk-d573a2d2":"af0d4050"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=r[t]=[e,o]}));e.push(n[2]=o);var a,i=document.createElement("script");i.charset="utf-8",i.timeout=120,c.nc&&i.setAttribute("nonce",c.nc),i.src=s(t);var l=new Error;a=function(e){i.onerror=i.onload=null,clearTimeout(u);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",l.name="ChunkLoadError",l.type=o,l.request=a,n[1](l)}r[t]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:i})}),12e4);i.onerror=i.onload=a,document.head.appendChild(i)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var d=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"21bb":function(t,e,n){"use strict";var o=n("2dad"),r=n.n(o);r.a},"23d8":function(t,e,n){"use strict";n("4c53"),n("664f");var o=MathQuillAPI,r=o.LatexCmds,a=MathQuill,s=a.L,c=a.R;r.integral.prototype.latex=function(){function t(t){return"{"+(t||" ")+"}"}return this.ctrlSeq+"_"+t(this.ends[s].latex())+"^"+t(this.ends[c].latex())},r.superscript.prototype.latex=function(){function t(t,e){var n=e&&e.latex();return e?t+"{"+(n||" ")+"}":""}return t("_",this.sub)+t("^",this.sup)},r.summation().__proto__.latex=function(){function t(t){return"{"+(t||" ")+"}"}return this.ctrlSeq+"_"+t(this.ends[s].latex())+"^"+t(this.ends[c].latex())}},"2dad":function(t,e,n){},"34d9":function(t,e,n){},4678:function(t,e,n){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=a(t);return n(e)}function a(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}r.keys=function(){return Object.keys(o)},r.resolve=a,t.exports=r,r.id="4678"},"4cfe":function(t,e,n){},"58d3":function(t,e,n){"use strict";var o=n("f08e"),r=n.n(o);r.a},"5c0b":function(t,e,n){"use strict";var o=n("9c0c"),r=n.n(o);r.a},"84df":function(t,e,n){"use strict";n("2de2"),function(t){try{return new MouseEvent("test"),!1}catch(n){}var e=function(e,n){n=n||{bubbles:!1,cancelable:!1};var o=document.createEvent("MouseEvent");return o.initMouseEvent(e,n.bubbles,n.cancelable,t,0,n.screenX||0,n.screenY||0,n.clientX||0,n.clientY||0,n.ctrlKey||!1,n.altKey||!1,n.shiftKey||!1,n.metaKey||!1,n.button||0,n.relatedTarget||null),o};e.prototype=Event.prototype,t.MouseEvent=e}(window)},8524:function(t,e,n){"use strict";var o=n("4cfe"),r=n.n(o);r.a},"9c0c":function(t,e,n){},"9c6e":function(t,e,n){t.exports=function(){return new Worker(n.p+"b2b176f815a21f80dc22.worker.js")}},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("84df"),n("af32"),n("23d8");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view"),n("transition",{attrs:{name:"fade"}},[null!==t.modalOptions?n("div",{ref:"modalRoot",staticClass:"modal-root",on:{transitionend:t.modalAnimationDidEnd}},[n("div",{ref:"modal",staticClass:"modal"},[n("div",{staticClass:"modal-close",on:{click:t.closeModal}},[t._v("Ã—")]),n("div",{staticClass:"modal-header"},[t.modalOptions.header&&"string"===typeof t.modalOptions.header?n("h1",[t._v(t._s(t.modalOptions.header))]):t.modalOptions.header&&"function"===typeof t.modalOptions.header?n(t.modalOptions.header,t._b({tag:"component"},"component",t.modalOptions.headerOptions,!1)):t._e()],1),"string"===typeof t.modalOptions.body?n("div",{staticClass:"modal-body"},[t._v(" "+t._s(t.modalOptions.body)+" ")]):n(t.modalOptions.body,t._b({tag:"component",staticClass:"modal-body"},"component",t.modalOptions.bodyOptions,!1)),"string"===typeof t.modalOptions.footer?n("div",{staticClass:"modal-footer"},[t._v(t._s(t.modalOptions.footer))]):t.modalOptions.footer&&"function"===typeof t.modalOptions.footer?n(t.modalOptions.footer,t._b({tag:"component",staticClass:"modal-footer"},"component",t.modalOptions.footerOptions,!1)):t._e()],1)]):t._e()])],1)},a=[],s=n("d4ec"),c=n("bee2"),i=n("99de"),l=n("7e84"),u=n("262e"),d=n("9ab4"),h=n("60a3"),f=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(i["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.tooltip=null,t.modalOptions=null,t.modalReady=!1,t.onclick=function(e){return t.clickListener(e)},t}return Object(u["a"])(e,t),Object(c["a"])(e,[{key:"mounted",value:function(){var t=this;this.$on("modal-show",(function(e){return t.showModal(e)})),this.$on("modal-close",(function(){return t.closeModal()})),this.$root.$on("modal-show",(function(e){return t.$emit("modal-show",e)})),this.$root.$on("modal-close",(function(){return t.$emit("modal-close")})),document.addEventListener("click",this.onclick)}},{key:"destroyed",value:function(){document.removeEventListener("click",this.onclick)}},{key:"modalAnimationDidEnd",value:function(t){this.modalOptions&&t.target===this.$refs.modalRoot&&(console.debug("modal transition did end",{options:this.modalOptions}),this.modalReady=!0)}},{key:"clickListener",value:function(t){var e=this.$refs.modal&&(this.$refs.modal===t.target||this.$refs.modal.contains(t.target));!e&&this.modalReady&&this.closeModal()}},{key:"showModal",value:function(t){console.debug("showing modal with options",{options:t}),this.modalOptions=t}},{key:"closeModal",value:function(){this.modalOptions&&(console.debug("closing modal with options",{options:this.modalOptions}),this.modalOptions=null,this.modalReady=!1)}}]),e}(h["c"]);f=d["a"]([h["a"]],f);var p=f,m=p,v=(n("5c0b"),n("2877")),b=Object(v["a"])(m,r,a,!1,null,null,null),g=b.exports,w=n("9483");Object(w["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var y,k=n("8c4f"),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{home:!0,"nav-collapse":t.navCollapse}},[n("div",{staticClass:"navigator"},[n("div",{staticClass:"title"},[n("span",{staticClass:"note-controls-left"},[n("span",{staticClass:"control",attrs:{"data-tooltip":"Toggle Menu","data-placement":"right"},on:{mouseenter:t.mouseenter,mouseleave:t.mouseleave,click:function(e){t.navCollapse=!t.navCollapse}}},[t._v(" â˜° ")])]),n("span",{staticClass:"note-title"},[t._v("Notes")]),n("span",{staticClass:"note-controls"},[n("span",{staticClass:"control control-success",attrs:{"data-tooltip":"Import Note"},on:{mouseenter:t.mouseenter,mouseleave:t.mouseleave,click:t.importNote}},[n("UploadSVG",{attrs:{width:"12px"}})],1),n("span",{staticClass:"control control-primary",attrs:{"data-tooltip":"New Note"},on:{mouseenter:t.mouseenter,mouseleave:t.mouseleave,click:t.newNote}},[n("svg",{staticClass:"icon icon--plus",attrs:{width:"14px",height:"14px"}},[n("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#plus"}})])])])]),n("div",{staticClass:"navigator-contents"},t._l(t.list,(function(e,o){return n("div",{key:o,class:{"navigator-item":!0,active:o===t.currentNote},style:{display:e.name?"flex":"none"},on:{contextmenu:function(e){return e.preventDefault(),t.triggerContext(e,o)},click:function(e){return t.selectNote(o)}}},[n("span",{ref:"edit"+o,refInFor:!0,staticClass:"item-title",attrs:{contenteditable:"true","data-id":o},on:{input:t.setTitle}},[t._v(t._s(e.name))]),n("span",{staticClass:"item-timestamp"},[t._v(t._s(e.timestamp))])])})),0)]),n("editor",{attrs:{"show-burger":t.navCollapse,exporter:t.download,canDelete:t.canDelete,deleter:t.delNote},on:{burgerClick:function(e){t.navCollapse=!t.navCollapse}}}),t._l(t.list,(function(e,o){return n("vue-context",{key:o,ref:"contextMenu"+o,refInFor:!0},[n("li",{on:{click:function(e){return t.download(o)}}},[t._v("Export")]),n("li",{class:["ctx-danger",t.canDelete?"":"ctx-danger-disabled"],on:{click:function(e){return t.delNote(o)}}},[t._v("Delete")])])}))],2)},j=[],O=(n("4160"),n("a630"),n("a15b"),n("b0c0"),n("b64b"),n("d3b7"),n("ac1f"),n("25f0"),n("3ca3"),n("1276"),n("159b"),n("53ca")),C=(n("96cf"),n("1da1")),E=n("c1df"),_=n.n(E);n("4de4"),n("d81d"),n("8a79"),n("ddb0"),n("2b3d");(function(t){function e(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain",o=new Blob([t],{type:n}),r=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null}),a=document.createElement("a");a.download=e,a.href=window.URL.createObjectURL(o),a.dataset.downloadurl=["text/json",a.download,a.href].join(":"),a.dispatchEvent(r)}function n(){return new Promise((function(t,e){var n=document.createElement("input");n.type="file",n.accept=".onote",n.multiple=!0,n.addEventListener("change",(function(n){if(!this.files)return e(new Error("missing files property"));t(Promise.all(Array.from(this.files).filter((function(t){return t.name.endsWith(".onote")})).map((function(t){return new Promise((function(e,n){var o=new FileReader;o.readAsArrayBuffer(t),o.addEventListener("load",(function(){e(this.result)}))}))}))))})),n.click()}))}function o(){return n().then((function(t){var e=new TextDecoder("utf-8");return t.map((function(t){return e.decode(t)}))}))}function r(t){Object.assign(window,t)}t.saveFile=e,t.getFiles=n,t.getFilesAsString=o,t.registerDevModule=r})(y||(y={}));var L=y,$={functional:!0,render(t,e){const{_c:n,_v:o,data:r,children:a=[]}=e,{class:s,staticClass:c,style:i,staticStyle:l,attrs:u={},...d}=r;return n("svg",{class:[s,c],style:[{"enable-background":"new 0 0 40.9 49.6"},i,l],attrs:Object.assign({version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 40.9 49.6",style:"enable-background:new 0 0 40.9 49.6;","xml:space":"preserve"},u),...d},a.concat([n("g",{attrs:{id:"XMLID_5_"}},[n("path",{staticClass:"st0",attrs:{id:"XMLID_9_",d:"M11.7,37.9h17.5V20.4h11.7L20.4,0L0,20.4h11.7V37.9z M0,43.8h40.8v5.8H0V43.8z"}})])]))}},M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor-view"},[t.note?n("div",{staticClass:"editor-meta-view"},[n("span",{staticClass:"controls-left"},[t.showBurger?n("span",{staticClass:"editor-burger",on:{click:function(e){return t.$emit("burgerClick")}}},[t._v(" â˜° ")]):t._e(),n("span",{staticClass:"labels-control labels-control-btn",on:{click:function(e){return t.exporter(t.noteID)}}},[n("span",{staticClass:"label-text"},[t._v("Export")]),n("UploadSVG",{staticClass:"alt-icon icon-invert"})],1),n("span",{class:["labels-control labels-control-btn labels-control-btn-danger",t.canDelete?"":"labels-control-btn-disabled"],on:{click:function(e){return t.deleter(t.noteID)}}},[n("span",{staticClass:"label-text"},[t._v("Delete")]),n("TrashSVG",{staticClass:"alt-icon"})],1)]),n("span",{staticClass:"note-name"},[t._v(" "+t._s(t.note.name)+" ")]),n("span",{staticClass:"controls-right"},[n("span",{class:{"labels-control":!0,"hiding-labels":!t.showRibbon},on:{click:function(e){t.showRibbon=!t.showRibbon}}},[n("span",{staticClass:"label-text no-kill"},[t._v("Toolbar")])]),n("span",{class:{"labels-control":!0,"hiding-labels":!t.showLabels},on:{click:function(e){t.showLabels=!t.showLabels}}},[n("span",{staticClass:"label-text no-kill"},[t._v("Labels")])])])]):t._e(),t.showRibbon?n("div",{staticClass:"editor-ribbon-container"},[n("div",{staticClass:"editor-ribbon"},t._l(t.toolboxData,(function(e,o){return n("span",{key:o,class:{"ribbon-item":!0,active:o===t.active},on:{click:function(e){return t.switchTool(o)}}},[t.showLabels?n("span",{staticClass:"ribbon-text"},[t._v(t._s(e.title))]):t._e(),n("span",{staticClass:"ribbon-icon",domProps:{innerHTML:t._s(e.icon)}})])})),0)]):t._e(),n("div",{ref:"mountPoint",staticClass:"editor-container"})])},B=[],S=(n("7db0"),n("13d5"),n("07ac"),n("ade3")),N=n("9336"),T=n.n(N);n("99af"),n("c975");function I(t,e){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=function(){function e(t){Object(s["a"])(this,e),this.config=t,this.pendingPasteEvent=null}return Object(c["a"])(e,[{key:"save",value:function(t){return{}}},{key:"render",value:function(){var e=this;return this.component=new t({parent:this.Editor.editor.VueEditor,propsData:{savedData:this.config.data||{}}}),this.component.$mount(),this.component.$on("insert",(function(){e.Editor.moduleInstances.Caret.setToBlock(e.Editor.moduleInstances.BlockManager.insert()),e.showToolbar(),e.Editor.moduleInstances.Toolbar.plusButton.show()})),this.component.$on("showToolbar",(function(){e.showToolbar()})),this.component.$on("hidePlusButton",(function(){e.Editor.moduleInstances.Toolbar.plusButton.hide()})),this.component.$on("showPlusButton",(function(){e.Editor.moduleInstances.Toolbar.plusButton.show()})),this.component.$on("navigateNext",(function(){e.Editor.moduleInstances.Caret.navigateNext(!0)})),this.component.$on("navigatePrevious",(function(){e.Editor.moduleInstances.Caret.navigatePrevious(!0)})),this.component.$on("get:components",(function(t){t(e.Editor.moduleInstances.BlockManager.blocks.filter((function(t){return t.name===e.block.name})).map((function(t){return t.tool.component})))})),this.component.$on("downOutOf",(function(){if(e.blockIndex!==e.Editor.moduleInstances.BlockManager.blocks.length-1){e.Editor.moduleInstances.Caret.navigateNext(!0);var t=e.Editor.moduleInstances.BlockManager,n=t.currentBlock,o=t.currentBlockIndex,r=t.blocks;o===r.length-1&&n.isEmpty&&e.Editor.moduleInstances.Events.once("caretChanged",(function(){e.Editor.moduleInstances.Toolbar.plusButton.show()}))}})),this.component.$on("upOutOf",(function(){0!==e.blockIndex&&e.Editor.moduleInstances.Caret.navigatePrevious(!0)})),this.component.$on("setIgnoreBackspace",(function(t){return e.ignoreBackspace=t})),this.component.$on("setIsEmpty",(function(t){return e.isEmpty=t})),this.component.$on("setIsAtStart",(function(t){return e.isAtStart=t})),this.component.$on("setIsAtEnd",(function(t){return e.isAtEnd=t})),this.component.$on("setSave",(function(t){return e.save=t})),this.component.$on("setSanitizer",(function(t){return e.sanitize=t})),this.component.$emit("preload"),this.component.$once("ready",(function(){e.pendingPasteEvent&&(e.component.$emit("parsePaste",e.pendingPasteEvent),e.pendingPasteEvent=null)})),this.root=document.createElement("div")}},{key:"moved",value:function(){this.component.$emit("moved")}},{key:"removed",value:function(){this.component.$destroy()}},{key:"rendered",value:function(){this.root.replaceWith(this.component.$el)}},{key:"onPaste",value:function(t){if(!this.component)return this.pendingPasteEvent=t;this.component.$emit("parsePaste",t)}},{key:"showToolbar",value:function(){this.Editor.moduleInstances.Toolbar.open(),this.Editor.moduleInstances.BlockManager.highlightCurrentNode()}},{key:"send",value:function(t){for(var e=this,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return new Promise((function(n,r){var a;(a=e.component).$emit.apply(a,[t].concat(o,[n]))}))}},{key:"keyOverrides",get:function(){return["up","down","left","right"]}},{key:"customEnter",get:function(){return!0}},{key:"blockIndex",get:function(){return this.Editor.moduleInstances.BlockManager.blocks.indexOf(this.block)}}]),e}(),n.toolbox=e,n.pasteConfig=o,n}var R,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"codex-mq-root":!0,"codex-mq-focused":t.isFocused}},[n("div",{ref:"mqMount",class:{"mq-editable-field":!0,"mq-math-mode":!0,"border-top":"mq"!==t.borderBottom,border:"mq"===t.borderBottom},on:{focusin:t.focused,focusout:t.unfocused}}),n("div",{directives:[{name:"show",rawName:"v-show",value:null!==t.error,expression:"error !== null"}],class:{"mq-result-bar":!0,"text-right":!0,"border-bottom":"error"===t.borderBottom}},[t._v(" "+t._s(t.error)+" ")]),[n("div",{directives:[{name:"show",rawName:"v-show",value:null!==t.result,expression:"result !== null"}],class:{"mq-result-bar":!0,"border-bottom":"result"===t.borderBottom}},["dec"===t.renderFormat?n("FractionSVG",{on:{click:function(e){return t.toggleRenderFormat()}}}):n("DecimalSVG",{on:{click:function(e){return t.toggleRenderFormat()}}}),n("span",{ref:"mqResult",staticClass:"mq-result-view"})],1),null!==t.resultFn?n("div",{class:{"mq-result-bar":!0,"border-bottom":"fnBar"===t.borderBottom}},[n("GraphSVG",{on:{click:function(e){return t.toggleGraph()}}})],1):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showGraph,expression:"showGraph"}],ref:"graph",class:{"border-bottom":"graph"===t.borderBottom}})],n("mq-paste-data",{attrs:{renderFormat:t.renderFormat,showGraph:t.showGraph,latex:t.latex}})],2)},z=[],A=(n("a4d3"),n("e01a"),n("d28b"),n("caad"),n("2532"),n("5319"),n("6bba")),P={functional:!0,render(t,e){const{_c:n,_v:o,data:r,children:a=[]}=e,{class:s,staticClass:c,style:i,staticStyle:l,attrs:u={},...d}=r;return n("svg",{class:[s,c],style:[{"enable-background":"new 0 0 464.6 264"},i,l],attrs:Object.assign({version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 464.6 264",style:"enable-background:new 0 0 464.6 264;","xml:space":"preserve"},u),...d},a.concat([n("title",[o("decimal")]),n("polygon",{attrs:{points:"0.5,63.1 153.5,134.2 0.5,205.2 "}}),n("g",{staticClass:"st0"},[n("path",{attrs:{d:"M239.4,114.1v-4.3c11.1,0,16.6-3.1,16.6-9.2V39c0-3.9-1.8-5.9-5.3-5.9h-11.9v-4.3c3.5-0.6,6.5-1.2,8.8-1.6\n\t\tc2.3-0.6,4.7-1.2,6.5-2c2-0.8,3.7-1.8,5.5-2.9s3.7-2.7,6.1-4.7l3.7,1c-0.4,2-0.6,3.5-0.8,5.1c-0.2,1.4-0.2,2.9-0.2,4.1v72.8\n\t\tc0,6.1,5.5,9.2,16.6,9.2v4.3H239.4z"}})]),n("g",{staticClass:"st0"},[n("path",{attrs:{d:"M241.7,250c-2,0-3.7,0-5.5,0.2c-1.8,0-3.3,0.2-4.7,0.4l-0.6-3.7c6.3-6.3,12.1-12.1,17.4-18c5.3-5.9,9.8-11.5,13.7-17\n\t\tc3.9-5.5,6.8-11,9.2-16.2c2.2-5.3,3.3-10.6,3.3-15.8c0-5.7-1.6-9.8-4.7-12.5c-3.1-2.7-7.4-4.1-13.3-4.1c-5.3,0-9.4,1-12.1,2.9\n\t\ts-4.1,4.7-4.1,8c3.3,1,4.9,2.7,4.9,5.3c0,4.7-2,6.8-6.1,6.8c-3.9,0-5.9-3.1-5.9-9.2c0-7,2.3-12.3,7-16c4.7-3.7,11.7-5.5,21.3-5.5\n\t\tc16.8,0,25.4,7.8,25.4,23.5c0,5.3-0.8,10.4-2.5,15.3c-1.8,4.7-4.3,9.6-7.8,14.3c-3.5,4.7-8,9.6-13.3,14.7\n\t\tc-5.5,4.9-11.7,10.4-19.2,16h25c2.5,0,4.7-0.2,6.5-0.4c1.8-0.2,3.3-0.8,4.7-1.8c1.4-0.8,2.3-2,3.3-3.5c1-1.6,2-3.5,2.7-6.1l3.7,0.6\n\t\tl-5.3,22.5h-43.2V250z"}})]),n("rect",{attrs:{x:"193",y:"133.7",width:"133",height:"4.3"}})]))}},F={functional:!0,render(t,e){const{_c:n,_v:o,data:r,children:a=[]}=e,{class:s,staticClass:c,style:i,staticStyle:l,attrs:u={},...d}=r;return n("svg",{class:[s,c],style:[{"enable-background":"new 0 0 464.6 264"},i,l],attrs:Object.assign({version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 464.6 264",style:"enable-background:new 0 0 464.6 264;","xml:space":"preserve"},u),...d},a.concat([n("title",[o("decimal")]),n("polygon",{attrs:{points:"0.5,63.1 153.5,134.2 0.5,205.2 "}}),n("path",{attrs:{d:"M298,183.6c-3.4,0.7-6.8,1.2-10.3,1.5c-4.7,0.5-10.7,1.2-17.9,2.3l-2.2-13c-2.4,4.4-6,8-10.4,10.5c-4.8,2.7-10.1,4-15.6,3.9\n\tc-4.8,0-9.6-0.8-14.1-2.5c-4.4-1.6-8.4-4.2-11.7-7.6c-3.5-3.7-6.3-8.2-8-13c-2.1-6-3.1-12.3-3-18.7c0-6.4,1-12.7,3.2-18.7\n\tc2-5.5,4.9-10.6,8.8-15c3.7-4.2,8.2-7.5,13.3-9.9c5.2-2.4,10.9-3.7,16.7-3.6c4.3-0.1,8.6,0.9,12.5,2.9c3.1,1.6,5.9,3.7,8.3,6.3V65.6\n\tc0-4.5-5.1-6.8-15.4-6.8v-6.2l32-5.2c0.3,4.9,0.5,10.7,0.6,17.2S285,78,285,85.4v75.4c0,11.2,4.6,17.1,13.8,17.6L298,183.6z\n\t M247.6,178.8c4.4,0,7.9-0.8,10.6-2.4c2.7-1.7,4.9-4.2,6.2-7.1c1.6-3.6,2.6-7.5,3-11.4c0.6-5.1,0.8-10.2,0.8-15.3\n\tc0-23.3-7.6-35-22.8-35c-3.6-0.1-7.1,0.9-10.1,2.9c-2.9,2-5.3,4.6-7.1,7.6c-1.9,3.3-3.3,6.8-4.2,10.5c-0.9,3.8-1.4,7.7-1.4,11.6\n\tc0,4.6,0.4,9.3,1.3,13.8c0.8,4.3,2.2,8.5,4.2,12.4c1.8,3.6,4.4,6.7,7.7,9C239.3,177.7,243.4,178.9,247.6,178.8L247.6,178.8z"}}),n("path",{attrs:{d:"M380.4,165.4c-3,6.9-7.9,12.9-14,17.4c-6.1,4.2-13.4,6.4-20.8,6.2c-6,0.1-12-1-17.6-3.4c-4.9-2.1-9.2-5.2-12.7-9.2\n\tc-3.5-4-6.1-8.7-7.7-13.8c-1.8-5.5-2.6-11.2-2.6-17c0-5.8,0.9-11.7,2.8-17.2c1.8-5.3,4.4-10.2,7.9-14.6c3.3-4.2,7.5-7.7,12.3-10.2\n\tc4.9-2.6,10.4-3.9,16-3.8c3.8,0,7.6,0.5,11.3,1.3c4,0.9,7.8,2.6,11.1,5.1c3.8,2.9,6.9,6.6,9,10.9c2.5,4.7,4.2,11,5,18.7\n\tc0,1.5-0.2,3-0.6,4.4h-53.2c-2.5,0-3.8,1-3.8,3c0,4.6,0.6,9.2,2,13.6c1.2,4,3.1,7.8,5.6,11.2c2.3,3.1,5.3,5.7,8.8,7.5\n\tc3.6,1.8,7.6,2.8,11.6,2.7c5.2,0.1,10.4-1.6,14.5-4.8c4.1-3.2,7.7-7,10.7-11.2L380.4,165.4z M353.2,134.2c5.5,0,8.2-2.8,8.2-8.4\n\tc-0.3-4.8-2.1-9.5-5.1-13.3c-3-3.8-7.4-5.7-13.1-5.7c-2.9,0-5.8,0.7-8.4,2.1c-2.5,1.4-4.7,3.3-6.5,5.6c-1.8,2.4-3.2,5.1-4.1,8\n\tc-0.9,3-1.4,6.1-1.4,9.3c0,1.6,1.5,2.4,4.4,2.4L353.2,134.2z"}}),n("path",{attrs:{d:"M464.6,168.4c-1.3,3.5-3.2,6.6-5.8,9.3c-2.5,2.6-5.3,4.7-8.5,6.4c-3.1,1.7-6.5,2.9-9.9,3.7c-3.3,0.8-6.6,1.2-10,1.2\n\tc-5.4,0.1-10.8-1-15.8-3.3c-4.6-2.1-8.6-5.2-11.8-9.1c-3.3-4-5.8-8.6-7.3-13.6c-1.7-5.4-2.5-11.1-2.5-16.8c0-6,0.9-12,2.7-17.8\n\tc1.7-5.4,4.5-10.5,8.2-14.8c3.8-4.4,8.5-7.8,13.8-10.1c6.2-2.6,12.8-3.8,19.5-3.7c3.2,0,6.4,0.5,9.5,1.4c3,0.9,5.8,2.2,8.4,3.9\n\tc2.4,1.6,4.4,3.7,5.9,6.1c1.5,2.3,2.2,5,2.2,7.8c0,2.7-1.3,5.2-3.4,6.9c-2,1.8-4.7,2.9-7.4,2.9c-5.5,0-8.2-3-8.2-9.1\n\tc0.1-0.9,0.2-1.8,0.3-2.6c0.2-1.2,0.3-2.4,0.3-3.6c0.1-2.5-1.4-4.9-3.7-5.8c-2.4-1.2-5-1.8-7.7-1.8c-3.6-0.1-7,1-9.9,3.1\n\tc-2.8,2.2-5.1,4.9-6.8,8c-1.9,3.4-3.2,7.1-4,10.9c-0.8,3.8-1.3,7.7-1.3,11.6c0,5,0.5,10.1,1.6,15c0.9,4.2,2.6,8.3,4.8,12\n\tc4.2,7.1,12,11.3,20.2,11c8.9,0,16.1-4,21.4-12L464.6,168.4z"}})]))}},V={functional:!0,render(t,e){const{_c:n,_v:o,data:r,children:a=[]}=e,{class:s,staticClass:c,style:i,staticStyle:l,attrs:u={},...d}=r;return n("svg",{class:[s,c],style:[{"enable-background":"new 0 0 30.973 30.973"},i,l],attrs:Object.assign({version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"30.973px",height:"30.973px",viewBox:"0 0 30.973 30.973",style:"enable-background:new 0 0 30.973 30.973;","xml:space":"preserve"},u),...d},a.concat([n("g",[n("g",[n("rect",{attrs:{y:"2.961",width:"2",height:"2.034"}}),n("rect",{attrs:{y:"7.162",width:"2",height:"2.033"}}),n("rect",{attrs:{y:"11.359",width:"2",height:"2.034"}}),n("rect",{attrs:{y:"15.561",width:"2",height:"2.033"}}),n("rect",{attrs:{y:"19.76",width:"2",height:"2.035"}}),n("polygon",{attrs:{points:"6.383,24.531 6.383,0.104 3.332,0.104 3.332,27.582 30.973,27.582 30.973,24.531 \t\t"}}),n("rect",{attrs:{x:"26.08",y:"28.861",width:"2.034",height:"2.008"}}),n("rect",{attrs:{x:"21.881",y:"28.861",width:"2.033",height:"2.008"}}),n("rect",{attrs:{x:"17.682",y:"28.861",width:"2.033",height:"2.008"}}),n("rect",{attrs:{x:"13.481",y:"28.861",width:"2.034",height:"2.008"}}),n("rect",{attrs:{x:"9.282",y:"28.861",width:"2.034",height:"2.008"}}),n("polygon",{attrs:{points:"12.837,16.688 18.154,19.235 21.227,13.286 25.938,15.495 30.477,7.363 28.701,6.373 25.086,12.85 20.319,10.614 \r\n\t\t\t17.254,16.549 12.031,14.045 7.123,22.398 8.877,23.43 \t\t"}})])]),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g")]))}};function q(){return G.apply(this,arguments)}function G(){return G=Object(C["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.e("chunk-2e187d74").then(n.bind(null,"69c0"));case 2:return e=t.sent,R=e.create(e.all,{}),t.t0=R,t.next=7,n.e("chunk-d573a2d2").then(n.t.bind(null,"31d4",7));case 7:t.t1=t.sent,t.t2={},t.t0.import.call(t.t0,t.t1,t.t2);case 10:case"end":return t.stop()}}),t)}))),G.apply(this,arguments)}function H(t,e){var n=Object.keys(t);Object.keys(e).filter((function(t){return!n.includes(t)})).forEach((function(n){t[n]=e[n]}))}try{var Q={get passive(){return!0,!1}};window.addEventListener("test",null,Q),window.removeEventListener("test",null)}catch(he){!1}var U="mq-paste-data";function K(t){return Object.values(t).filter((function(t){return"function"===typeof t})).reduce((function(t,e){return t[e.syntax]=e.original.substring(e.syntax.length+1),t}),{})}function W(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)}))}h["c"].config.ignoredElements.push(U);var X={};function J(t){var e=t.data,n=e.nonce,o=e.result,r=X[n];r?r(o):console.debug("unknown nonce from worker response",{event:t,data:t.data,nonce:n,result:o,pending:X})}function Y(t,e){var n=window.AlgebraWorker;return null===n.onmessage&&(n.onmessage=J),new Promise((function(o,r){var a=K(e),s=W();X[s]=o,n.postMessage({evaluate:t,functions:a,nonce:s})}))}var Z=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(i["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.renderFormat="dec",t.isFocused=!1,t.latex=null,t.lastScope={},t.resultFn=null,t.result=null,t.showGraph=!1,t.chart=null,t.error=null,t}return Object(u["a"])(e,t),Object(c["a"])(e,[{key:"mounted",value:function(){var t=this;this.mathField=new MathQuill.MathField(this.$refs.mqMount,{handlers:{edit:function(e){t.latex=e.latex(),t.updateQuills()},upOutOf:function(){return t.$emit("upOutOf")},downOutOf:function(){return t.$emit("downOutOf")},moveOutOf:function(e,n){"1"==e?t.$emit("navigateNext"):t.$emit("navigatePrevious")},enter:function(e){t.$emit("insert")}},autoCommands:"int pi sqrt sum"}),this.resultView=new MathQuill.StaticMath(this.$refs.mqResult),Object.keys(this.savedData).forEach((function(e){h["c"].set(t,e,t.savedData[e])})),this.mathField.write(this.latex||""),this.$on("preload",(function(){t.$emit("setIgnoreBackspace",(function(){return(t.latex||"").length>0})),t.$emit("setIsEmpty",(function(){return 0===(t.latex||"").length})),t.$emit("setIsAtStart",(function(){return t.mqRootBlock.firstElementChild&&t.mqRootBlock.firstElementChild.classList.contains("mq-cursor")})),t.$emit("setIsAtEnd",(function(){return t.mqRootBlock.lastElementChild&&t.mqRootBlock.lastElementChild.classList.contains("mq-cursor")})),t.$emit("setSave",(function(){return{latex:t.latex,renderFormat:t.renderFormat,showGraph:t.showGraph}})),t.$emit("setPasteConfig",{tags:[U]}),t.$emit("ready")})),this.$on("updateQuills",(function(e){return t.updateQuills().then(e)})),this.$on("moved",(function(){return t.updateQuills()})),this.$on("parsePaste",(function(e){var n=e.detail.data,o=n.getAttribute("renderFormat"),r=n.getAttribute("latex"),a=n.getAttribute("showGraph");t.mathField.write(r||""),t.updateQuills().then((function(){t.renderFormat=o||t.renderFormat,t.showGraph=Boolean(a)}))})),this.$watch("renderFormat",(function(){t.result&&t.updateResultView(t.result)})),this.$watch("result",(function(e){t.updateResultView(e)})),this.$watch("resultFn",(function(e){if(!e)return t.removeGraph();t.showGraph&&t.updateGraph()})),this.$watch("showGraph",(function(e){e?t.updateGraph():t.removeGraph()}))}},{key:"math",value:function(){var t=Object(C["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.latex){t.next=2;break}return t.abrupt("return",null);case 2:return e=A["latexParser"].parse(this.latex),t.next=5,Y(e.content,this.lastScope);case 5:return n=t.sent,t.abrupt("return",n.toString());case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"focused",value:function(){this.isFocused=!0,this.$emit("hidePlusButton"),this.$emit("showToolbar")}},{key:"unfocused",value:function(){this.isFocused=!1,this.isActive||this.$emit("showToolbar")}},{key:"updateQuills",value:function(){var t=Object(C["a"])(regeneratorRuntime.mark((function t(){var e,n,o,r,a,s,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.components();case 2:e=t.sent,n={},o=!0,r=!1,a=void 0,t.prev=7,s=e[Symbol.iterator]();case 9:if(o=(c=s.next()).done){t.next=16;break}return i=c.value,t.next=13,i.calc(n);case 13:o=!0,t.next=9;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](7),r=!0,a=t.t0;case 22:t.prev=22,t.prev=23,o||null==s.return||s.return();case 25:if(t.prev=25,!r){t.next=28;break}throw a;case 28:return t.finish(25);case 29:return t.finish(22);case 30:case"end":return t.stop()}}),t,this,[[7,18,22,30],[23,,25,29]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"removeGraph",value:function(){this.chart&&(this.chart.root.remove(),this.chart=null)}},{key:"updateGraph",value:function(){var t=Object(C["a"])(regeneratorRuntime.mark((function t(){var e,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.resultFn){t.next=2;break}return t.abrupt("return");case 2:return this.chart&&this.removeGraph(),t.next=5,n.e("chunk-8934d6d4").then(n.t.bind(null,"1e0d",7));case 5:e=t.sent,o=e.default,this.chart=o({target:this.$refs.graph,tip:{xLine:!0,yLine:!0,renderer:function(t,e){return"(".concat(t,", ").concat(e,")")}},data:[{fn:"fn",scope:{fn:this.resultFn},nSamples:1e3,sampler:"mathjs",graphType:"polyline"}],width:this.$refs.mqMount.clientWidth}),this.fixChart();case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"fixChart",value:function(){if(this.chart){var t=this.chart.options,e=d3.select(t.target).selectAll("svg").data([t]).__proto__;H(this.chart.root,e),H(this.chart.canvas,e),Object.defineProperty(this.chart,"content",{get:function(){return this._content},set:function(t){return H(t,e),this._content=t,!0}})}}},{key:"calc",value:function(){var t=Object(C["a"])(regeneratorRuntime.mark((function t(e){var n,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(R){t.next=3;break}return t.next=3,q();case 3:return this.lastScope=Object.assign({},e),this.error=null,t.next=7,this.math();case 7:if(o=t.sent,o){t.next=10;break}return t.abrupt("return",this.result=null);case 10:try{r=R.parse(o).compile(),n=r.evaluate(e)}catch(a){n=o,console.debug("couldn't evaluate math, treating it as an expression",{scope:e,result:n,error:a})}finally{if("function"!==typeof n&&(this.resultFn=null),"function"===typeof n||"undefined"===typeof n){if("function"===typeof n){try{n(0)}catch(a){this.error=a.message,n=null}n&&(n["original"]=o),this.resultFn=n}n=null}}return this.result=n,t.abrupt("return",n);case 13:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"toggleGraph",value:function(){this.showGraph=!this.showGraph}},{key:"updateResultView",value:function(){var t=Object(C["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(R){t.next=3;break}return t.next=3,q();case 3:t.t0=this.renderFormat,t.next="frac"===t.t0?6:(t.t0,12);break;case 6:return t.next=8,this.fraction(e);case 8:if(n=t.sent,!n){t.next=12;break}return this.resultView.latex(n),t.abrupt("break",15);case 12:try{e=R.simplify(e),"function"===typeof e.toLatex&&(e=e.toLatex()),"function"===typeof e.toTex&&(e=e.toTex())}catch(o){console.debug("failed to render result",{result:e}),e="error"}return this.resultView.latex(e),t.abrupt("break",15);case 15:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"fraction",value:function(){var t=Object(C["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(R){t.next=3;break}return t.next=3,q();case 3:return t.prev=3,t.abrupt("return",R.fraction(e).toLatex());case 7:return t.prev=7,t.t0=t["catch"](3),t.abrupt("return",null);case 10:case"end":return t.stop()}}),t,null,[[3,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"toggleRenderFormat",value:function(){this.renderFormat="dec"===this.renderFormat?"frac":"dec"}},{key:"components",value:function(){var t=this;return new Promise((function(e){return t.$emit("get:components",e)}))}},{key:"mqRootBlock",get:function(){return this.$refs.mqMount.querySelector(".mq-root-block")}},{key:"isActive",get:function(){try{return this.$el.parentElement.parentElement.classList.contains("ce-block--focused")}catch(t){return!1}}},{key:"borderBottom",get:function(){return null!==this.result?"result":this.showGraph&&null!==this.chart?"graph":null!==this.resultFn?"fnBar":null!==this.error?"error":"mq"}}]),e}(h["c"]);d["a"]([Object(h["b"])()],Z.prototype,"savedData",void 0),Z=d["a"]([Object(h["a"])({components:{FractionSVG:P,DecimalSVG:F,GraphSVG:V}})],Z);var tt=Z,et=tt,nt=(n("fdf0"),Object(v["a"])(et,D,z,!1,null,null,null)),ot=nt.exports,rt={functional:!0,render(t,e){const{_c:n,_v:o,data:r,children:a=[]}=e,{class:s,staticClass:c,style:i,staticStyle:l,attrs:u={},...d}=r;return n("svg",{class:[s,c],style:[{"enable-background":"new 0 0 19.342 19.342"},i,l],attrs:Object.assign({version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 19.342 19.342",style:"enable-background:new 0 0 19.342 19.342;","xml:space":"preserve"},u),...d},a.concat([n("g",[n("g",[n("path",{attrs:{d:"M2.833,4.491c0,0,0.513,0.491,0.513,0.776v12.568c0,0.832,0.736,1.507,1.645,1.507h9.362\r\n\t\t\tc0.908,0,1.644-0.675,1.644-1.507V5.268c0-0.286,0.515-0.776,0.515-0.776V2.969H2.833V4.491z M12.36,6.23h1.223v9.705H12.36V6.23z\r\n\t\t\t M9.086,6.23h1.22v9.705h-1.22V6.23z M6.137,6.23h1.221v9.705H6.137V6.23z"}}),n("path",{attrs:{d:"M17.108,1.711h-3.791C13.128,0.74,12.201,0,11.087,0H8.257C7.143,0,6.216,0.74,6.027,1.711H2.235\r\n\t\t\tv0.93h14.873V1.711z M7.297,1.711c0.156-0.344,0.528-0.586,0.96-0.586h2.829c0.433,0,0.804,0.243,0.961,0.586H7.297z"}})])]),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g")]))}},at={functional:!0,render(t,e){const{_c:n,_v:o,data:r,children:a=[]}=e,{class:s,staticClass:c,style:i,staticStyle:l,attrs:u={},...d}=r;return n("svg",{class:[s,c],style:[{"enable-background":"new 0 0 512 512"},i,l],attrs:Object.assign({version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:"enable-background:new 0 0 512 512;","xml:space":"preserve"},u),...d},a.concat([n("g",[n("g",[n("g",[n("rect",{attrs:{x:"128",y:"144",width:"32",height:"32"}}),n("rect",{attrs:{x:"192",y:"144",width:"32",height:"32"}}),n("polygon",{attrs:{points:"256,144 256,176 480,176 480,336 32,336 32,176 96,176 96,144 0,144 0,368 512,368 512,144 \t\t\t"}}),n("path",{attrs:{d:"M64,304h96v-96H64V304z M96,240h32v32H96V240z"}}),n("path",{attrs:{d:"M352,208v96h96v-96H352z M416,272h-32v-32h32V272z"}}),n("path",{attrs:{d:"M208,304h96v-96h-96V304z M240,240h32v32h-32V240z"}})])])]),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g")]))}},st=(n("45fc"),n("e439"),n("498a"),n("71c0")),ct=n("1e7c"),it=n("36a7");function lt(t,e,n){var o=t[e]||function(){},r=n(o);t[e]=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.apply(this,e)}}function ut(t,e,n){var o=Object.getOwnPropertyDescriptor(t,e).get,r=n(o);Object.defineProperty(t,e,{get:function(){return r.call(this)}})}function dt(t,e,n){var o=Object.getOwnPropertyDescriptor(t,e).set,r=n(o);Object.defineProperty(t,e,{set:function(t){return r.call(this,t)}})}function ht(t){var e=t.core,n=t.core.moduleInstances,o=n.Dom.constructor,r=n.Sanitizer,a=n.Paste,s=n.BlockSelection;function c(t){var n=null;if(t){var o=e.configuration.blockElements||[],r=e.configuration.inlineElements||[],a=e.configuration.specialElements||[];o.forEach((function(e){return t.tags[e]=!0})),r.forEach((function(e){return t.tags[e]=!0})),n=new it(Object.assign({},t,{blockElements:o.map((function(t){return t.toUpperCase()})),inlineElements:r.map((function(t){return t.toUpperCase()})),specialElements:a.map((function(t){return t.toUpperCase()})),keepNestedBlockElements:!0}))}return n}function i(t){if(e.configuration.specialElements.includes(t.nodeName.toLowerCase()))return!0;var n=Array.from(t.childNodes);return n.some((function(t){return i(t)}))}function l(t){var e=document.createElement("div");e.className="codex-editor-clipboard",e.innerText=t,document.body.appendChild(e);var n=window.getSelection(),o=document.createRange();o.selectNode(e),window.getSelection().removeAllRanges(),n.addRange(o),document.execCommand("copy"),document.body.removeChild(e)}lt(r.__proto__,"createHTMLJanitorInstance",(function(t){return c})),lt(a,"processText",(function(t){return function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=n[0],a=document.implementation.createHTMLDocument(),s=a.createElement("div");return s.innerHTML=r,i(s)?t.call(this,s.innerHTML,!0):t.call.apply(t,[this].concat(n))}})),lt(o,"isEmpty",(function(t){return function(n){return!e.configuration.specialElements.includes(n.nodeName.toLowerCase())&&t.call(this,n)}})),lt(a,"processHTML",(function(t){return function(e){var n=this,r=o.make("DIV");r.innerHTML=e;var a=[],s=[],c=Array.from(r.children),l="_32@!#+_";c.forEach((function(t,e){if(i(t)){a[e]=t;var n="".concat(l).concat(e);s[e]=n;var o=document.createTextNode(n);r.replaceChild(o,t)}}));var u=t.call(this,r.innerHTML),d=function(t){var e=a[t].children[0];return{content:e,isBlock:!0,tool:n.toolsTags[e.tagName].tool,event:n.composePasteEvent("tag",{data:e})}},h=[];return u.forEach((function(t){var e=t.content,n=e instanceof HTMLElement&&e.innerText;if(!n)return h.push(t);var o=n.split(l).map((function(t){return parseInt(t)})).filter((function(t){return!isNaN(t)}));if(0===o.length)return h.push(t);o.forEach((function(t){return h.push(d(t))}))})),h=h.filter((function(t){return!!t})),h}})),lt(s,"copySelectedBlocks",(function(t){return function(){var t=this,e=document.createElement("div");this.selectedBlocks.forEach((function(n){var o=t.Editor.Sanitizer.clean(n.holder.innerHTML,t.sanitizerConfig),r=document.createElement("p");r.innerHTML=o,e.appendChild(r)})),l(e.innerHTML)}})),ut(o,"blockElements",(function(t){return function(){var n=t.call(this);return e.configuration.specialElements.forEach((function(t){return n.push(t.toLowerCase())})),n}}))}function ft(){lt(st.prototype,"getOutofList",(function(t){return function(e){t.call(this,e),e.defaultPrevented&&this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex())}})),lt(KeyboardEvent.prototype,"stopPropogation",(function(t){return function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.call.apply(t,[this].concat(n)),this.propogationStopped=!0}})),lt(ct.prototype,"appendNewElement",(function(t){return function(e){if(t.call(this,e),e.propogationStopped){var n=this._elements.items[this._elements.items.length-1].querySelector(".".concat(this.CSS.textField));n.parentElement.remove(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex())}}}))}function pt(t){var e=t.core,n=e.moduleInstances.BlockManager.composeBlock(e.config.initialBlock,{},{}).__proto__;ut(n,"isEmpty",(function(t){return function(){var e=this.call("isEmpty");return"boolean"===typeof e?e:t.call(this)}})),n.call=function(t,e){if(this.tool[t]&&this.tool[t]instanceof Function)try{return this.tool[t](e)}catch(n){console.warn("Error during '".concat(t,"' call: ").concat(n.message))}},lt(n,"compose",(function(t){return function(){return this.tool.Editor=e,this.tool.block=this,t.call(this)}}))}function mt(t){var e=t.core,n=e.moduleInstances,o=n.BlockEvents,r=n.BlockManager,a=n.Events;lt(o,"backspace",(function(t){return function(e){var n=r.currentBlock;!0!==n.call("ignoreBackspace",e)&&t.call(this,e)}})),lt(o,"arrowLeftAndUp",(function(t){return function(e){var n=this.Editor.BlockManager.currentBlock,o=38===e.keyCode?"up":"left";n.tool&&n.tool.keyOverrides&&n.tool.keyOverrides.indexOf(o)>0||t.call(this,e)}})),lt(o,"arrowRightAndDown",(function(t){return function(e){var n=this.Editor.BlockManager.currentBlock,o=40===e.keyCode?"down":"right";n.tool&&n.tool.keyOverrides&&n.tool.keyOverrides.indexOf(o)>0||t.call(this,e)}})),lt(o,"enter",(function(t){return function(e){var n=this.Editor.BlockManager,o=n.currentBlock.tool;o&&!0===o.customEnter||t.call(this,e)}})),lt(o,"keydown",(function(t){return function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.call.apply(t,[this].concat(n)),a.emit.apply(a,["keydown"].concat(n))}}))}function vt(t){var e=t.core,n=e.moduleInstances,o=n.Caret,r=n.Events,a=o.__proto__;lt(o,"setToBlock",(function(t){return function(e,n,o){null!==e&&t.call(this,e,n,o)}})),lt(o,"set",(function(t){return function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.call.apply(t,[this].concat(n)),r.emit.apply(r,["caretChanged"].concat(n))}})),ut(a,"isAtStart",(function(t){return function(){var e=this.Editor.BlockManager.currentBlock,n=e.call("isAtStart");return"boolean"===typeof n?n:t.call(this)}})),ut(a,"isAtEnd",(function(t){return function(){var e=this.Editor.BlockManager.currentBlock,n=e.call("isAtEnd");return"boolean"===typeof n?n:t.call(this)}}))}function bt(t){var e=t.core,n=e.moduleInstances.BlockManager;n.paste=function(t,e){var n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n=o?this.replace(t):this.insert(t),!1===n.call("canPaste",e))return this.removeBlock(this.blocks.indexOf(n)),null;try{n.call("onPaste",e)}catch(r){console.error("".concat(t,": onPaste callback call is failed"),r)}return n},lt(n._blocks,"swap",(function(t){return function(e,n){var o=this.blocks[e],r=this.blocks[n];t.call(this,e,n),o.call("moved",1),r.call("moved",2)}})),dt(n.__proto__,"currentBlockIndex",(function(e){return function(n){e.call(this,n);var o=t.blockIndexDidChange;"function"===typeof o&&o(n)}}))}function gt(t){var e=t.core,n=e.moduleInstances,o=n.BlockSelection,r=n.BlockManager,a=n.Caret,s=n.Dom.constructor,c=n.RectangleSelection,i=(n.Selection,n.Toolbar),l=n.UI;lt(o,"handleCommandA",(function(t){return function(e){if(s.isNativeInput(e.target)&&!this.readyToBlockSelection)return t.call(this,e);var n=this.Editor.BlockManager.getBlock(e.target);return 0===n.holder.innerText.trim().length&&(this.needToSelectAll=!0),t.call(this,e)}})),lt(c,"genInfoForMouseSelection",(function(t){return function(){if(!this.Editor.BlockManager.lastBlock){var e=r.insert();a.setToBlock(e)}return t.call(this)}})),lt(i,"move",(function(t){return function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(this.Editor.Toolbox.close(),this.Editor.BlockSettings.close());var n=this.Editor.BlockManager.currentBlock;if(n)return t.call(this,e)}})),lt(l,"redactorClicked",(function(t){return function(e){var n=window.getSelection(),o=n?n.isCollapsed:null;if(o){if(!this.Editor.BlockManager.currentBlock){var r=this.Editor.BlockManager.insert();a.setToBlock(r),i.move(!0)}return t.call(this,e)}}})),lt(l,"removeLoader",(function(e){return function(){if(t.VueEditor)return t.VueEditor.$once("ready",e.bind(this));e.call(this)}}))}function wt(t){return yt.apply(this,arguments)}function yt(){return yt=Object(C["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.core.editor=e,lt(e.core,"start",(function(t){return Object(C["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.call(this).then((function(){ht(e),ft(),pt(e),mt(e),vt(e),bt(e),gt(e)}));case 2:case"end":return n.stop()}}),n,this)})))}));case 2:case"end":return t.stop()}}),t)}))),yt.apply(this,arguments)}var kt=n("1e7c"),xt=n("ac8c"),jt=n("b391"),Ot=n("a728"),Ct=n("3ecd"),Et=n("5d25"),_t=n("71c0"),Lt=n("0960"),$t=n("7c5e"),Mt=n("e1ec"),Bt=n("a3c6"),St=n("3e21"),Nt=n("2562"),Tt=n("d2ef"),It=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(i["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.showRibbon=!1,t.active="",t.lastIndex=0,t.hasChanges=!1,t.showLabels=!0,t}return Object(u["a"])(e,t),Object(c["a"])(e,[{key:"created",value:function(){var t=this;0!==Object.keys(this.$store.state.notes).length&&0!==Object.values(this.$store.state.notes).filter((function(t){return!!t})).length||this.$store.commit("newNote"),window.addEventListener("beforeunload",this.unloadListener=function(){return t.save()})}},{key:"mounted",value:function(){var t=this;this.$watch("noteID",function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(n,o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.editor){e.next=2;break}return e.abrupt("return");case 2:if(t.save(o),t.editor.clear(),t.cachedData){e.next=6;break}return e.abrupt("return");case 6:return t.note,t.hasChanges=!1,e.next=10,t.renderData(t.cachedData);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.interval=setInterval((function(){t.editor&&t.hasChanges&&(t.save(),t.hasChanges=!1)}),2e3),this.createEditor()}},{key:"destroyed",value:function(){clearInterval(this.interval),window.removeEventListener("beforeunload",this.unloadListener)}},{key:"renderData",value:function(){var t=Object(C["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=e||this.cachedData,e&&e.blocks){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,this.editor.render(e||this.cachedData);case 5:if(n=this.editor.core.moduleInstances.BlockManager.blocks.find((function(t){return"math"===t.name})),!n){t.next=9;break}return t.next=9,n.tool.send("updateQuills");case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"save",value:function(){var t=Object(C["a"])(regeneratorRuntime.mark((function t(){var e,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=n.length>0&&void 0!==n[0]?n[0]:this.noteID,this.$store.state.notes[e]){t.next=3;break}return t.abrupt("return");case 3:if(this.hasChanges){t.next=5;break}return t.abrupt("return");case 5:return t.t0=this.$store,t.next=8,this.editor.save();case 8:t.t1=t.sent,t.t2=e,t.t3={data:t.t1,id:t.t2},t.t0.commit.call(t.t0,"updateNote",t.t3);case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"editorLoaded",value:function(){var t=Object(C["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.renderData(this.cachedData);case 2:this.editor.core.moduleInstances.Events.on("keydown",(function(t){e.hasChanges=!0})),h["c"].set(this.$root.$children[0],"tooltip",this.getModule("API").methods.tooltip),this.showRibbon=document.body.clientWidth>500,this.save(),this.$emit("ready");case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"createEditor",value:function(t){var e,n=this;this.showRibbon=!1,this.editor&&this.editor.destroy(),this.editor=new T.a((e={holder:this.$refs.mountPoint,tools:{math:I(ot,{title:"Math",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">\n                <path d="M 4 2 C 2.895 2 2 2.895 2 4 L 2 9 C 2 10.105 2.895 11 4 11 L 9 11 C 10.105 11 11 10.105 11 9 L 11 4 C 11 2.895 10.105 2 9 2 L 4 2 z M 15 2 C 13.895 2 13 2.895 13 4 L 13 9 C 13 10.105 13.895 11 15 11 L 20 11 C 21.105 11 22 10.105 22 9 L 22 4 C 22 2.895 21.105 2 20 2 L 15 2 z M 6 4 L 7 4 L 7 6 L 9 6 L 9 7 L 7 7 L 7 9 L 6 9 L 6 7 L 4 7 L 4 6 L 6 6 L 6 4 z M 15 6 L 20 6 L 20 7 L 15 7 L 15 6 z M 4 13 C 2.895 13 2 13.895 2 15 L 2 20 C 2 21.105 2.895 22 4 22 L 9 22 C 10.105 22 11 21.105 11 20 L 11 15 C 11 13.895 10.105 13 9 13 L 4 13 z M 15 13 C 13.895 13 13 13.895 13 15 L 13 20 C 13 21.105 13.895 22 15 22 L 20 22 C 21.105 22 22 21.105 22 20 L 22 15 C 22 13.895 21.105 13 20 13 L 15 13 z M 4.71875 15.03125 L 6.5 16.78125 L 8.28125 15.03125 L 8.96875 15.71875 L 7.21875 17.5 L 8.96875 19.28125 L 8.28125 19.96875 L 6.5 18.21875 L 4.71875 19.96875 L 4.03125 19.28125 L 5.78125 17.5 L 4.03125 15.71875 L 4.71875 15.03125 z M 15 16 L 20 16 L 20 17 L 15 17 L 15 16 z M 15 18 L 20 18 L 20 19 L 15 19 L 15 18 z"/>\n            </svg>'},{tags:["MQ-PASTE-DATA"]}),checklist:kt,code:xt,delimiter:jt,embed:Ot,inlineCode:Et,list:_t,marker:Lt,header:Ct,paragraph:$t,quote:Mt,raw:Bt,simpleImage:St,table:Nt,warning:Tt},data:t,logLevel:"VERBOSE"},Object(S["a"])(e,"blockElements",["mq-paste-data"]),Object(S["a"])(e,"specialElements",["mq-paste-data"]),Object(S["a"])(e,"patch",wt),e)),this.editor.VueEditor=this,this.editor.isReady.then((function(){return n.editorLoaded()})),this.editor.blockIndexDidChange=function(t){t>-1&&(n.lastIndex=t);var e=n.editor.core.moduleInstances.BlockManager.blocks[t];e&&(n.active=e.name)}}},{key:"switchTool",value:function(t){var e=this.getModule("BlockManager"),n=this.getModule("Caret"),o=this.getModule("Toolbar"),r=e.composeBlock(t,{});e._blocks.insert(this.lastIndex,r,!0),n.setToBlock(r),o.close()}},{key:"getModule",value:function(t){return this.editor.core.moduleInstances[t]}},{key:"cachedData",get:function(){return this.note&&this.note.data}},{key:"note",get:function(){return this.$store.state.notes[this.noteID]}},{key:"noteID",get:function(){return this.$store.state.currentNote},set:function(t){this.$store.commit("setNote",t)}},{key:"toolboxData",get:function(){try{var t=this.editor.core.configuration.tools;return Object.keys(t).map((function(e){return{key:e,toolbox:t[e].toolbox}})).filter((function(t){return!!t.toolbox})).reduce((function(t,e){var n=e.key,o=e.toolbox;return t[n]=o,t}),{})}catch(e){return{}}}}]),e}(h["c"]);d["a"]([Object(h["b"])({default:!1})],It.prototype,"showBurger",void 0),d["a"]([Object(h["b"])()],It.prototype,"exporter",void 0),d["a"]([Object(h["b"])()],It.prototype,"deleter",void 0),d["a"]([Object(h["b"])({default:!1})],It.prototype,"canDelete",void 0),It=d["a"]([Object(h["a"])({components:{UploadSVG:$,TrashSVG:rt,ToolSVG:at}})],It);var Rt=It,Dt=Rt,zt=(n("58d3"),Object(v["a"])(Dt,M,B,!1,null,null,null)),At=zt.exports,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"controls"},[n("div",{class:["control","control-"+t.confirmStyle],on:{click:t.confirm}},[t._v(" "+t._s(t.confirmText)+" ")]),n("div",{staticClass:"control control-neutral",on:{click:t.cancel}},[t._v(" "+t._s(t.cancelText)+" ")])])},Ft=[],Vt=function(t){function e(){return Object(s["a"])(this,e),Object(i["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(h["c"]);d["a"]([Object(h["b"])()],Vt.prototype,"cancel",void 0),d["a"]([Object(h["b"])()],Vt.prototype,"confirm",void 0),d["a"]([Object(h["b"])({default:"Cancel"})],Vt.prototype,"confirmText",void 0),d["a"]([Object(h["b"])({default:"Confirm"})],Vt.prototype,"cancelText",void 0),d["a"]([Object(h["b"])({default:"neutral"})],Vt.prototype,"confirmStyle",void 0),Vt=d["a"]([h["a"]],Vt);var qt=Vt,Gt=qt,Ht=(n("8524"),Object(v["a"])(Gt,Pt,Ft,!1,null,null,null)),Qt=Ht.exports,Ut=n("899b"),Kt=Ut.VueContext;function Wt(t,e,n){if(n||(n=document.createRange(),n.selectNode(t),n.setStart(t,0)),0===e.count)n.setEnd(t,e.count);else if(t&&e.count>0)if(t.nodeType===Node.TEXT_NODE)t.textContent.length<e.count?e.count-=t.textContent.length:(n.setEnd(t,e.count),e.count=0);else for(var o=0;o<t.childNodes.length;o++)if(n=Wt(t.childNodes[o],e,n),0===e.count)break;return n}function Xt(t,e){if(t>=0){var n=window.getSelection(),o=Wt(e,{count:t});o&&(o.collapse(!1),n.removeAllRanges(),n.addRange(o))}}var Jt=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(i["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.list={},t.navCollapse=!1,t.canDelete=!1,t}return Object(u["a"])(e,t),Object(c["a"])(e,[{key:"created",value:function(){this.list[this.currentNote]={}}},{key:"mounted",value:function(){var t=this;this.$store.subscribe((function(e,n){switch(e.type){case"updateNote":case"newNote":case"delNote":t.reload()}})),document.addEventListener("mousedown",this.mouseDown),this.reload()}},{key:"destroyed",value:function(){document.removeEventListener("mousedown",this.mouseDown)}},{key:"mouseDown",value:function(t){var e=t.target;e&&e instanceof Element&&this.activeContext&&(this.activeContext.$el.isEqualNode(e)||this.activeContext.$el.isEqualNode(e.closest(".v-context"))||this.closeContext())}},{key:"triggerContext",value:function(t,e){this.activeContext&&this.activeContext.close();var n=this.$refs["contextMenu".concat(e)][0];n?(n.open(t),this.activeContext=n):console.warn("unknown context at ".concat(e))}},{key:"download",value:function(t){var e=this.$store.state.notes[t];L.saveFile(JSON.stringify(e),"".concat(e.name,".onote"),"application/json")}},{key:"closeContext",value:function(){this.activeContext&&(this.activeContext.close(),this.activeContext=null)}},{key:"setTitle",value:function(t){var e=t.target,n=document.getSelection().getRangeAt(0),o=n.cloneRange();o.selectNodeContents(e),o.setEnd(n.endContainer,n.endOffset);var r=o.toString().length,a=e.innerText.split("\n").join(""),s=e.getAttribute("data-id");e.innerText=a,this.$store.commit("updateNote",{id:s,name:a}),this.$nextTick((function(){Xt(r,e)}))}},{key:"mouseenter",value:function(t){var e=0;if(this.tooltip&&!(document.body.clientWidth<=500)){var n=t.target.getAttribute("data-tooltip"),o=t.target.getAttribute("data-placement")||"bottom";if(n){this.tooltip.show(t.target,n,{placement:o});var r=Array.from(document.querySelectorAll(".ct.ct--bottom"));r.forEach((function(t){t.style.left="".concat((parseInt(t.style.left.split("px")[0])||0)+e,"px")}))}}}},{key:"mouseleave",value:function(t){this.tooltip&&this.tooltip.hide()}},{key:"selectNote",value:function(t){this.currentNote!==t&&(this.$store.commit("setNote",t),document.activeElement&&document.activeElement.getAttribute("data-id")===t||document.body.clientWidth<=500&&!this.navCollapse&&(this.navCollapse=!0))}},{key:"newNote",value:function(){this.$store.commit("newNote")}},{key:"delNote",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentNote;this.canDelete&&this.$root.$emit("modal-show",{header:"Delete Note?",body:"Deleting a note is permanent, it cannot be restored unless you have a backup.",footer:Qt,footerOptions:{cancel:function(){t.$root.$emit("modal-close")},confirm:function(){t.$store.commit("delNote",e),t.$root.$emit("modal-close")},confirmText:"Delete Note",cancelText:"Keep Note",confirmStyle:"danger"}})}},{key:"importNote",value:function(){var t=Object(C["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L.getFilesAsString();case 2:e=t.sent,e.forEach((function(t){return n.$store.commit("newNote",JSON.parse(t))}));case 4:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"reload",value:function(){for(var t in this.list={},this.canDelete=Object.keys(this.$store.state.notes).length>1,this.$store.state.notes)this.loadNote(t,this.$store.state.notes[t])}},{key:"loadNote",value:function(t,e){if(e){var n="object"===Object(O["a"])(e.data)?e.data.time:e.created;h["c"].set(this.list,t,{name:e.name,timestamp:_()(n).calendar()})}else console.warn("invalid note passed to loadNote")}},{key:"currentNote",get:function(){return this.$store.state.currentNote}},{key:"notes",get:function(){return this.$store.state.notes}},{key:"tooltip",get:function(){return this.$root.$children[0].tooltip}}]),e}(h["c"]);Jt=d["a"]([Object(h["a"])({components:{VueContext:Kt,UploadSVG:$,Editor:At}})],Jt);var Yt=Jt,Zt=Yt,te=(n("21bb"),Object(v["a"])(Zt,x,j,!1,null,null,null)),ee=te.exports;o["a"].use(k["a"]);var ne=[{path:"/",name:"home",component:ee}],oe=new k["a"]({mode:"history",base:"/",routes:ne}),re=oe,ae=n("2f62"),se=n("bfa9"),ce=new se["a"]({storage:window.localStorage});function ie(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)}))}o["a"].use(ae["a"]);var le="Untitled Note",ue=new ae["a"].Store({state:{currentNote:ie(),notes:{}},mutations:{setNote:function(t,e){t.currentNote=e},newNote:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.data,o=e.name,r=e.created,a=ie();while(t.notes[a])a=ie();t.notes[a]={data:n,name:o||le,created:r||Date.now()},t.currentNote=a},delNote:function(t,e){var n=Object.keys(t.notes),o=n.indexOf(e),r=n[o-1]||n[o+1]||n[0];delete t.notes[e],t.currentNote=r},updateNote:function(t,e){var n=e.data,o=e.id,r=e.name,a=t.notes[o]||(t.notes[o]={});a.data=n||a.data,a.name=r||a.name||le}},actions:{},modules:{},plugins:[ce.plugin]}),de=n("9c6e");window.AlgebraWorker=new de,o["a"].config.productionTip=!1,window.MathQuill=MathQuill.getInterface(1),new o["a"]({router:re,store:ue,render:function(t){return t(g)}}).$mount("#app")},f08e:function(t,e,n){},fdf0:function(t,e,n){"use strict";var o=n("34d9"),r=n.n(o);r.a}});
//# sourceMappingURL=app.f12a7233.js.map