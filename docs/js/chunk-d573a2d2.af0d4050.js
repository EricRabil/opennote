(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d573a2d2"],{"00b7":function(e,t,r){"use strict";var n=r("21a0");t.clone=function e(r){var i=typeof r;if("number"===i||"string"===i||"boolean"===i||null===r||void 0===r)return r;if("function"===typeof r.clone)return r.clone();if(Array.isArray(r))return r.map((function(t){return e(t)}));if(r instanceof Number)return new Number(r.valueOf());if(r instanceof String)return new String(r.valueOf());if(r instanceof Boolean)return new Boolean(r.valueOf());if(r instanceof Date)return new Date(r.valueOf());if(n(r))return r;if(r instanceof RegExp)throw new TypeError("Cannot clone "+r);return t.map(r,e)},t.map=function(e,r){var n={};for(var i in e)t.hasOwnProperty(e,i)&&(n[i]=r(e[i]));return n},t.extend=function(e,r){for(var n in r)t.hasOwnProperty(r,n)&&(e[n]=r[n]);return e},t.deepExtend=function e(r,n){if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var i in n)if(t.hasOwnProperty(n,i))if(n[i]&&n[i].constructor===Object)void 0===r[i]&&(r[i]={}),r[i].constructor===Object?e(r[i],n[i]):r[i]=n[i];else{if(Array.isArray(n[i]))throw new TypeError("Arrays are not supported by deepExtend");r[i]=n[i]}return r},t.deepEqual=function(e,r){var n,i,o;if(Array.isArray(e)){if(!Array.isArray(r))return!1;if(e.length!=r.length)return!1;for(i=0,o=e.length;i<o;i++)if(!t.deepEqual(e[i],r[i]))return!1;return!0}if(e instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(n in e)if(!t.deepEqual(e[n],r[n]))return!1;for(n in r)if(!t.deepEqual(e[n],r[n]))return!1;return!0}return typeof e===typeof r&&e==r},t.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(e){}return!1},t.lazy=function(e,r,n){if(t.canDefineProperty()){var i,o=!0;Object.defineProperty(e,r,{get:function(){return o&&(i=n(),o=!1),i},set:function(e){i=e,o=!1},configurable:!0,enumerable:!0})}else e[r]=n()},t.traverse=function(e,t){var r=e;if(t)for(var n=t.split("."),i=0;i<n.length;i++){var o=n[i];o in r||(r[o]={}),r=r[o]}return r},t.hasOwnProperty=function(e,t){return e&&Object.hasOwnProperty.call(e,t)},t.isFactory=function(e){return e&&"function"===typeof e.factory}},"023c":function(e,t,r){"use strict";var n=r("b871"),i=r("c370").map,o=r("c370").join,a=r("8127").stringify,s=r("8127").escape,p=r("8772").isSafeMethod,u=r("6ac7");function c(e,t,c,f){var h=c(r("06b8")).register,l=c(r("06b8")).compile,d=c(r("ff33"));c(r("df86")),c(r("f2f7")),c(r("98f8"));function y(t,r,n,i){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if("string"!==typeof t)throw new TypeError('string expected for parameter "op"');if("string"!==typeof r)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(e.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.op=t,this.fn=r,this.args=n||[]}function g(e,t,r){if(!(e instanceof y))throw new TypeError("No valid OperatorNode");if("string"!==typeof e.fn||!p(t.math,e.fn))throw t.math[e.fn]?new Error('No access to function "'+e.fn+'"'):new Error("Function "+e.fn+' missing in provided namespace "math"');var n=i(e.args,(function(e){return l(e,t,r)}));return"math["+a(e.fn)+"]("+o(n,", ")+")"}function m(e,t,r,n,i){var o=u.getPrecedence(e,t),a=u.getAssociativity(e,t);if("all"===t||n.length>2&&"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier()){var s=n.map((function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}}));return s}var p=void 0;switch(n.length){case 0:p=[];break;case 1:var c=u.getPrecedence(n[0],t);if(i&&null!==c){var f;if("keep"===t?(f=n[0].getIdentifier(),g=e.getIdentifier()):(f=n[0].getContent().getIdentifier(),g=e.getContent().getIdentifier()),!1===u.properties[o][g].latexLeftParens){p=[!1];break}if(!1===u.properties[c][f].latexParens){p=[!1];break}}if(null===c){p=[!1];break}if(c<=o){p=[!0];break}p=[!1];break;case 2:var h,l,d=u.getPrecedence(n[0],t),y=u.isAssociativeWith(e,n[0],t);h=null!==d&&(d===o&&"right"===a&&!y||d<o);var g,m,v,w=u.getPrecedence(n[1],t),b=u.isAssociativeWith(e,n[1],t);if(l=null!==w&&(w===o&&"left"===a&&!b||w<o),i)"keep"===t?(g=e.getIdentifier(),m=e.args[0].getIdentifier(),v=e.args[1].getIdentifier()):(g=e.getContent().getIdentifier(),m=e.args[0].getContent().getIdentifier(),v=e.args[1].getContent().getIdentifier()),null!==d&&(!1===u.properties[o][g].latexLeftParens&&(h=!1),!1===u.properties[d][m].latexParens&&(h=!1)),null!==w&&(!1===u.properties[o][g].latexRightParens&&(l=!1),!1===u.properties[w][v].latexParens&&(l=!1));p=[h,l];break;default:if("OperatorNode:add"===e.getIdentifier()||"OperatorNode:multiply"===e.getIdentifier())p=n.map((function(r){var n=u.getPrecedence(r,t),i=u.isAssociativeWith(e,r,t),s=u.getAssociativity(r,t);return null!==n&&(o===n&&a===s&&!i||n<o)}));break}return n.length>=2&&"OperatorNode:multiply"===e.getIdentifier()&&e.implicit&&"auto"===t&&"hide"===r&&(p=n.map((function(e,t){var r="ParenthesisNode"===e.getIdentifier();return!(!p[t]&&!r)}))),p}return y.prototype=new d,y.prototype.type="OperatorNode",y.prototype.isOperatorNode=!0,h(y.prototype.type,g),y.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},y.prototype.map=function(e){for(var t=[],r=0;r<this.args.length;r++)t[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new y(this.op,this.fn,t,this.implicit)},y.prototype.clone=function(){return new y(this.op,this.fn,this.args.slice(0),this.implicit)},y.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",n=this.args,i=m(this,t,r,n,!1);if(1===n.length){var o=u.getAssociativity(this,t),a=n[0].toString(e);return i[0]&&(a="("+a+")"),"right"===o?this.op+a:a+this.op}if(2==n.length){var s=n[0].toString(e),p=n[1].toString(e);return i[0]&&(s="("+s+")"),i[1]&&(p="("+p+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"==r?s+" "+p:s+" "+this.op+" "+p}if(n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var c=n.map((function(t,r){return t=t.toString(e),i[r]&&(t="("+t+")"),t}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?c.join(" "):c.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},y.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",n=this.args,i=m(this,t,r,n,!1);if(1===n.length){var o=u.getAssociativity(this,t),a=n[0].toHTML(e);return i[0]&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===o?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+s(this.op)+"</span>"+a:'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+s(this.op)+"</span>"+a}if(2==n.length){var p=n[0].toHTML(e),c=n[1].toHTML(e);return i[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),i[1]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"==r?p+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+c:p+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+s(this.op)+"</span>"+c}if(n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=n.map((function(t,r){return t=t.toHTML(e),i[r]&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?f.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):f.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+s(this.op)+"</span>")}return'<span class="math-function">'+s(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+f.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},y.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",i=this.args,o=m(this,t,r,i,!0),a=n.operators[this.fn];if(a="undefined"===typeof a?this.op:a,1===i.length){var s=u.getAssociativity(this,t),p=i[0].toTex(e);return o[0]&&(p="\\left("+p+"\\right)"),"right"===s?a+p:p+a}if(2===i.length){var c=i[0],f=c.toTex(e);o[0]&&(f="\\left("+f+"\\right)");var h,l=i[1],d=l.toTex(e);switch(o[1]&&(d="\\left("+d+"\\right)"),h="keep"===t?c.getIdentifier():c.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+f+"}{"+d+"}";case"OperatorNode:pow":switch(f="{"+f+"}",d="{"+d+"}",h){case"ConditionalNode":case"OperatorNode:divide":f="\\left("+f+"\\right)"}case"OperatorNode:multiply":if(this.implicit&&"hide"===r)return f+"~"+d}return f+a+d}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var y=i.map((function(t,r){return t=t.toTex(e),o[r]&&(t="\\left("+t+"\\right)"),t}));return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?y.join("~"):y.join(a)}return"\\mathrm{"+this.fn+"}\\left("+i.map((function(t){return t.toTex(e)})).join(",")+"\\right)"},y.prototype.getIdentifier=function(){return this.type+":"+this.fn},y}t.name="OperatorNode",t.path="expression.node",t.factory=c},"0420":function(e,t,r){"use strict";var n=r("34c2"),i=r("5dca");function o(e,t,o,a){var s=o(r("aa4b")),p=o(r("3b0f")),u=o(r("78f0")),c=o(r("a66c")),f=o(r("c45d")),h=o(r("df86")),l=o(r("3339")),d=o(r("1d5d")),y=o(r("99cb")),g=o(r("023c")),m=o(r("d981")),v=o(r("98f8")),w=o(r("491a")),b=o(r("f2f7"));function N(t,r){if(1!=arguments.length&&2!=arguments.length)throw new n("parse",arguments.length,1,2);if(S=r&&r.nodes?r.nodes:{},"string"===typeof t)return T=t,B();if(Array.isArray(t)||t instanceof e.Matrix)return i(t,(function(e){if("string"!==typeof e)throw new TypeError("String expected");return T=e,B()}));throw new TypeError("String or matrix expected")}var x={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},E={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"'":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},O={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},S={},T="",j="",P=0,A="",C="",I=x.NULL,M=0,D=null;function k(){P=0,A=T.charAt(0),M=0,D=null}function L(){P++,A=T.charAt(P)}function _(){return T.charAt(P-1)}function F(){return T.charAt(P+1)}function R(){return T.charAt(P+2)}function z(){I=x.NULL,C="",j="";while(N.isWhitespace(A,M))L();if("#"==A)while("\n"!=A&&""!=A)j+=A,L();if(""!=A){if("\n"==A&&!M)return I=x.DELIMITER,C=A,void L();var e=A+F(),t=e+R();if(3==t.length&&E[t])return I=x.DELIMITER,C=t,L(),L(),void L();if(2==e.length&&E[e])return I=x.DELIMITER,C=e,L(),void L();if(E[A])return I=x.DELIMITER,C=A,void L();if(N.isDigitDot(A)){if(I=x.NUMBER,"."==A)C+=A,L(),N.isDigit(A)||(I=x.DELIMITER);else{while(N.isDigit(A))C+=A,L();N.isDecimalMark(A,F())&&(C+=A,L())}while(N.isDigit(A))C+=A,L();if(e=F(),"E"==A||"e"==A)if(N.isDigit(e)||"-"==e||"+"==e){if(C+=A,L(),"+"!=A&&"-"!=A||(C+=A,L()),!N.isDigit(A))throw be('Digit expected, got "'+A+'"');while(N.isDigit(A))C+=A,L();if(N.isDecimalMark(A,F()))throw be('Digit expected, got "'+A+'"')}else if("."==e)throw L(),be('Digit expected, got "'+A+'"')}else{if(!N.isAlpha(A,_(),F())){I=x.UNKNOWN;while(""!=A)C+=A,L();throw be('Syntax error in part "'+C+'"')}while(N.isAlpha(A,_(),F())||N.isDigit(A))C+=A,L();I=O.hasOwnProperty(C)?x.DELIMITER:x.SYMBOL}}else I=x.DELIMITER}function q(){do{z()}while("\n"==C)}function H(){M++}function W(){M--}function B(){k(),z();var e=U();if(""!=C)throw I==x.DELIMITER?Ne("Unexpected operator "+C):be('Unexpected part "'+C+'"');return e}function U(){var e,t,r=[];""!=C&&"\n"!=C&&";"!=C&&(e=$(),e.comment=j);while("\n"==C||";"==C)0==r.length&&e&&(t=";"!=C,r.push({node:e,visible:t})),z(),"\n"!=C&&";"!=C&&""!=C&&(e=$(),e.comment=j,t=";"!=C,r.push({node:e,visible:t}));return r.length>0?new c(r):(e||(e=new h("undefined","undefined"),e.comment=j),e)}function $(){var t,r,n,i,o=V();if("="==C){if(e.isSymbolNode(o))return t=o.name,q(),n=$(),new u(new b(t),n);if(e.isAccessorNode(o))return q(),n=$(),new u(o.object,o.index,n);if(e.isFunctionNode(o)&&e.isSymbolNode(o.fn)&&(i=!0,r=[],t=o.name,o.args.forEach((function(t,n){e.isSymbolNode(t)?r[n]=t.name:i=!1})),i))return q(),n=$(),new l(t,r,n);throw be("Invalid left hand side of assignment operator =")}return o}function V(){var e=J();while("?"==C){var t=D;D=M,q();var r=e,n=$();if(":"!=C)throw be("False part of conditional expression expected");D=null,q();var i=$();e=new f(r,n,i),D=t}return e}function J(){var e=Y();while("or"==C)q(),e=new g("or","or",[e,Y()]);return e}function Y(){var e=Z();while("xor"==C)q(),e=new g("xor","xor",[e,Z()]);return e}function Z(){var e=G();while("and"==C)q(),e=new g("and","and",[e,G()]);return e}function G(){var e=X();while("|"==C)q(),e=new g("|","bitOr",[e,X()]);return e}function X(){var e=K();while("^|"==C)q(),e=new g("^|","bitXor",[e,K()]);return e}function K(){var e=Q();while("&"==C)q(),e=new g("&","bitAnd",[e,Q()]);return e}function Q(){var e,t,r,n,i;e=ee(),t={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};while(t.hasOwnProperty(C))r=C,n=t[r],q(),i=[e,ee()],e=new g(r,n,i);return e}function ee(){var e,t,r,n,i;e=te(),t={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};while(t.hasOwnProperty(C))r=C,n=t[r],q(),i=[e,te()],e=new g(r,n,i);return e}function te(){var e,t,r,n,i;e=re(),t={to:"to",in:"to"};while(t.hasOwnProperty(C))r=C,n=t[r],q(),"in"===r&&""===C?e=new g("*","multiply",[e,new b("in")],!0):(i=[e,re()],e=new g(r,n,i));return e}function re(){var e,t=[];if(e=":"==C?new h("1","number"):ne(),":"==C&&D!==M){t.push(e);while(":"==C&&t.length<3)q(),")"==C||"]"==C||","==C||""==C?t.push(new b("end")):t.push(ne());e=3==t.length?new w(t[0],t[2],t[1]):new w(t[0],t[1])}return e}function ne(){var e,t,r,n,i;e=ie(),t={"+":"add","-":"subtract"};while(t.hasOwnProperty(C))r=C,n=t[r],q(),i=[e,ie()],e=new g(r,n,i);return e}function ie(){var t,r,n,i,o;t=oe(),r=t,n={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};while(1)if(n.hasOwnProperty(C))i=C,o=n[i],q(),r=oe(),t=new g(i,o,[t,r]);else{if(!(I===x.SYMBOL||"in"===C&&e.isConstantNode(t))&&(I!==x.NUMBER||e.isConstantNode(r)||e.isOperatorNode(r)&&"!"!==r.op)&&"("!==C)break;r=oe(),t=new g("*","multiply",[t,r],!0)}return t}function oe(){var e,t,r,n={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return n.hasOwnProperty(C)?(r=n[C],e=C,q(),t=[oe()],new g(e,r,t)):ae()}function ae(){var e,t,r,n;return e=se(),"^"!=C&&".^"!=C||(t=C,r="^"==t?"pow":"dotPow",q(),n=[e,oe()],e=new g(t,r,n)),e}function se(){var e,t,r,n,i;e=pe(),t={"!":"factorial","'":"transpose"};while(t.hasOwnProperty(C))r=C,n=t[r],z(),i=[e],e=new g(r,n,i),e=ce(e);return e}function pe(){var e=[];if(I==x.SYMBOL&&S.hasOwnProperty(C)){var t=S[C];if(z(),"("==C){if(e=[],H(),z(),")"!=C){e.push($());while(","==C)z(),e.push($())}if(")"!=C)throw be("Parenthesis ) expected");W(),z()}return new t(e)}return ue()}function ue(){var e,t;return I==x.SYMBOL||I==x.DELIMITER&&C in O?(t=C,z(),e=new b(t),e=ce(e),e):fe()}function ce(t,r){var n;while(("("===C||"["===C||"."===C)&&(!r||-1!==r.indexOf(C)))if(n=[],"("===C){if(!(e.isSymbolNode(t)||e.isAccessorNode(t)||e.isFunctionNode(t)))return t;if(H(),z(),")"!==C){n.push($());while(","===C)z(),n.push($())}if(")"!==C)throw be("Parenthesis ) expected");W(),z(),t=new v(t,n)}else if("["===C){if(H(),z(),"]"!==C){n.push($());while(","===C)z(),n.push($())}if("]"!==C)throw be("Parenthesis ] expected");W(),z(),t=new s(t,new d(n))}else{if(z(),I!==x.SYMBOL)throw be("Property name expected after dot");n.push(new h(C)),z();var i=!0;t=new s(t,new d(n,i))}return t}function fe(){var e,t;return'"'==C?(t=he(),e=new h(t,"string"),e=ce(e),e):le()}function he(){var e="";while(""!=A&&'"'!=A)"\\"==A&&(e+=A,L()),e+=A,L();if(z(),'"'!=C)throw be('End of string " expected');return z(),e}function le(){var e,t,r,n;if("["==C){if(H(),z(),"]"!=C){var i=de();if(";"==C){r=1,t=[i];while(";"==C)z(),t[r]=de(),r++;if("]"!=C)throw be("End of matrix ] expected");W(),z(),n=t[0].items.length;for(var o=1;o<r;o++)if(t[o].items.length!=n)throw Ne("Column dimensions mismatch ("+t[o].items.length+" != "+n+")");e=new p(t)}else{if("]"!=C)throw be("End of matrix ] expected");W(),z(),e=i}}else W(),z(),e=new p([]);return ce(e)}return ye()}function de(){var e=[$()],t=1;while(","==C)z(),e[t]=$(),t++;return new p(e)}function ye(){if("{"==C){var e,t={};do{if(z(),"}"!=C){if('"'==C)e=he();else{if(I!=x.SYMBOL)throw be("Symbol or string expected as object key");e=C,z()}if(":"!=C)throw be("Colon : expected after object key");z(),t[e]=$()}}while(","==C);if("}"!=C)throw be("Comma , or bracket } expected after object value");z();var r=new y(t);return r=ce(r),r}return ge()}function ge(){var e;return I==x.NUMBER?(e=C,z(),new h(e,"number")):me()}function me(){var e;if("("==C){if(H(),z(),e=$(),")"!=C)throw be("Parenthesis ) expected");return W(),z(),e=new m(e),e=ce(e),e}return ve()}function ve(){throw be(""==C?"Unexpected end of expression":"'"===C?"Value expected. Note: strings must be enclosed by double quotes":"Value expected")}function we(){return P-C.length+1}function be(e){var t=we(),r=new SyntaxError(e+" (char "+t+")");return r["char"]=t,r}function Ne(e){var t=we(),r=new SyntaxError(e+" (char "+t+")");return r["char"]=t,r}return N.isAlpha=function(e,t,r){return N.isValidLatinOrGreek(e)||N.isValidMathSymbol(e,r)||N.isValidMathSymbol(t,e)},N.isValidLatinOrGreek=function(e){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},N.isValidMathSymbol=function(e,t){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t)},N.isWhitespace=function(e,t){return" "==e||"\t"==e||"\n"==e&&t>0},N.isDecimalMark=function(e,t){return"."==e&&"/"!==t&&"*"!==t&&"^"!==t},N.isDigitDot=function(e){return e>="0"&&e<="9"||"."==e},N.isDigit=function(e){return e>="0"&&e<="9"},N}t.name="parse",t.path="expression",t.factory=o},"0458":function(e,t,r){"use strict";r("7330").digits;function n(e,t,n,i,o){var a=n(r("8637")),s=a.isCommutative,p=a.isAssociative,u=a.allChildren,c=a.createMakeNodeFunction,f=o.expression.node.ConstantNode,h=o.expression.node.OperatorNode,l=o.expression.node.FunctionNode;function d(t){var r=x(t);return e.isNode(r)?r:g(r)}function y(t,r){try{return v(o[t].apply(null,r))}catch(n){return r=r.map((function(t){return e.isFraction(t)?t.valueOf():t})),v(o[t].apply(null,r))}}var g=i({Fraction:b,number:function(e){return e<0?w(new f(-e)):new f(e)},BigNumber:function(e){return e<0?w(new f(e.negated().toString(),"number")):new f(e.toString(),"number")},Complex:function(e){throw"Cannot convert Complex number to Node"}});function m(e){if(isFinite(e)){var t=o.fraction(e);if(t.valueOf()===e)return t}return e}var v=i({string:function(e){return"BigNumber"===t.number?o.bignumber(e):"Fraction"===t.number?o.fraction(e):m(parseFloat(e))},Fraction:function(e){return e},BigNumber:function(e){return e},number:function(e){return m(e)},Complex:function(e){return 0!==e.im?e:m(e.re)}});function w(e){return new h("-","unaryMinus",[e])}function b(e){var t,r=e.s*e.n;return t=r<0?new h("-","unaryMinus",[new f(-r)]):new f(r),1===e.d?t:new h("/","divide",[t,new f(e.d)])}function N(t,r,n){return r.reduce((function(r,i){if(e.isNode(r)||e.isNode(i))e.isNode(r)?e.isNode(i)||(i=g(i)):r=g(r);else{try{return y(t,[r,i])}catch(o){}r=g(r),i=g(i)}return n([r,i])}))}function x(t){switch(t.type){case"SymbolNode":return t;case"ConstantNode":return"number"===t.valueType?v(t.value):t;case"FunctionNode":if(o[t.name]&&o[t.name].rawArgs)return t;var r=["add","multiply"];if(-1===r.indexOf(t.name)){var n=t.args.map(x);if(!n.some(e.isNode))try{return y(t.name,n)}catch(w){}return n=n.map((function(t){return e.isNode(t)?t:g(t)})),new l(t.name,n)}case"OperatorNode":var i,a=t.fn.toString(),f=c(t);if(1===t.args.length)n=[x(t.args[0])],i=e.isNode(n[0])?f(n):y(a,n);else if(p(t))if(n=u(t),n=n.map(x),s(a)){for(var h=[],d=[],m=0;m<n.length;m++)e.isNode(n[m])?d.push(n[m]):h.push(n[m]);h.length>1?(i=N(a,h,f),d.unshift(i),i=N(a,d,f)):i=N(a,n,f)}else i=N(a,n,f);else n=t.args.map(x),i=N(a,n,f);return i;case"ParenthesisNode":return x(t.content);case"AccessorNode":case"ArrayNode":case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"IndexNode":case"ObjectNode":case"RangeNode":case"UpdateNode":case"ConditionalNode":default:throw"Unimplemented node type in simplifyConstant: "+t.type}}return d}t.math=!0,t.name="simplifyConstant",t.path="algebra.simplify",t.factory=n},"06b8":function(e,t,r){var n=r("00b7").hasOwnProperty;function i(){var e={};function t(t,r){if(void 0!==e[t])throw new Error('Cannot register type "'+t+'": already exists');e[t]=r}function r(t,r,i){if(n(e,t.type)){var o=e[t.type];return o(t,r,i)}if("function"!==typeof t._compile||n(t,"_compile"))throw new Error('Cannot compile node: unknown type "'+t.type+'"');return t._compile(r,i)}return{register:t,compile:r}}t.factory=i},"0df8":function(e,t,r){"use strict";var n=r("7330");function i(e,t,r,i){function o(t,r,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(null!=t)if(e.isBigNumber(t))t=t.toNumber();else if("number"!==typeof t)throw new TypeError("Parameter start must be a number");if(null!=r)if(e.isBigNumber(r))r=r.toNumber();else if("number"!==typeof r)throw new TypeError("Parameter end must be a number");if(null!=n)if(e.isBigNumber(n))n=n.toNumber();else if("number"!==typeof n)throw new TypeError("Parameter step must be a number");this.start=null!=t?parseFloat(t):0,this.end=null!=r?parseFloat(r):0,this.step=null!=n?parseFloat(n):1}return o.prototype.type="Range",o.prototype.isRange=!0,o.parse=function(e){if("string"!==typeof e)return null;var t=e.split(":"),r=t.map((function(e){return parseFloat(e)})),n=r.some((function(e){return isNaN(e)}));if(n)return null;switch(r.length){case 2:return new o(r[0],r[1]);case 3:return new o(r[0],r[2],r[1]);default:return null}},o.prototype.clone=function(){return new o(this.start,this.end,this.step)},o.prototype.size=function(){var e=0,t=this.start,r=this.step,i=this.end,o=i-t;return n.sign(r)==n.sign(o)?e=Math.ceil(o/r):0==o&&(e=0),isNaN(e)&&(e=0),[e]},o.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},o.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},o.prototype.forEach=function(e){var t=this.start,r=this.step,n=this.end,i=0;if(r>0)while(t<n)e(t,[i],this),t+=r,i++;else if(r<0)while(t>n)e(t,[i],this),t+=r,i++},o.prototype.map=function(e){var t=[];return this.forEach((function(r,n,i){t[n[0]]=e(r,n,i)})),t},o.prototype.toArray=function(){var e=[];return this.forEach((function(t,r){e[r[0]]=t})),e},o.prototype.valueOf=function(){return this.toArray()},o.prototype.format=function(e){var t=n.format(this.start,e);return 1!=this.step&&(t+=":"+n.format(this.step,e)),t+=":"+n.format(this.end,e),t},o.prototype.toString=function(){return this.format()},o.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},o.fromJSON=function(e){return new o(e.start,e.end,e.step)},o}t.name="Range",t.path="type",t.factory=i},"10e4":function(e,t){t.format=function(e,r){if("function"===typeof r)return r(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n="auto",i=void 0;switch(void 0!==r&&(r.notation&&(n=r.notation),"number"===typeof r?i=r:r.precision&&(i=r.precision)),n){case"fixed":return t.toFixed(e,i);case"exponential":return t.toExponential(e,i);case"auto":var o=.001,a=1e5;r&&r.exponential&&(void 0!==r.exponential.lower&&(o=r.exponential.lower),void 0!==r.exponential.upper&&(a=r.exponential.upper));var s;e.constructor.toExpNeg,e.constructor.toExpPos;if(e.constructor.config({toExpNeg:Math.round(Math.log(o)/Math.LN10),toExpPos:Math.round(Math.log(a)/Math.LN10)}),e.isZero())return"0";var p=e.abs();return s=p.gte(o)&&p.lt(a)?e.toSignificantDigits(i).toFixed():t.toExponential(e,i),s.replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}},t.toExponential=function(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()},t.toFixed=function(e,t){return e.toFixed(t||0)}},"1c97":function(e,t,r){"use strict";function n(e,t,r,n){var i=n("matrix",{"":function(){return o([])},string:function(e){return o([],e)},"string, string":function(e,t){return o([],e,t)},Array:function(e){return o(e)},Matrix:function(e){return o(e,e.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});return i.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},i;function o(t,r,n){var i=e.Matrix.storage(r||"default");return new i(t,n)}}t.name="matrix",t.factory=n},"1d5d":function(e,t,r){"use strict";var n=r("c370").map,i=r("c370").join,o=r("8127").escape;function a(e,t,a,s){var p=a(r("06b8")).register,u=a(r("06b8")).compile,c=a(r("ff33")),f=(a(r("491a")),a(r("f2f7")),a(r("0df8"))),h=Array.isArray;function l(t,r){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=t,this.dotNotation=r||!1,!h(t)||!t.every(e.isNode))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");var n=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}function d(t,r,o){if(!(t instanceof l))throw new TypeError("No valid IndexNode");var a=Object.create(o);r.range=function(t,r,n){return new f(e.isBigNumber(t)?t.toNumber():t,e.isBigNumber(r)?r.toNumber():r,e.isBigNumber(n)?n.toNumber():n)};var s=n(t.dimensions,(function(t,n){return e.isRangeNode(t)?t.needsEnd()?(a.end="end","(function () {var end = size["+n+"]; return range("+u(t.start,r,a)+", "+u(t.end,r,a)+", "+(t.step?u(t.step,r,a):"1")+"); })()"):"range("+u(t.start,r,a)+", "+u(t.end,r,a)+", "+(t.step?u(t.step,r,a):"1")+")":e.isSymbolNode(t)&&"end"===t.name?(a.end="end","(function () {var end = size["+n+"]; return "+u(t,r,a)+"; })()"):u(t,r,a)}));return"math.index("+i(s,", ")+")"}return l.prototype=new c,l.prototype.type="IndexNode",l.prototype.isIndexNode=!0,p(l.prototype.type,d),l.prototype.forEach=function(e){for(var t=0;t<this.dimensions.length;t++)e(this.dimensions[t],"dimensions["+t+"]",this)},l.prototype.map=function(e){for(var t=[],r=0;r<this.dimensions.length;r++)t[r]=this._ifNode(e(this.dimensions[r],"dimensions["+r+"]",this));return new l(t)},l.prototype.clone=function(){return new l(this.dimensions.slice(0))},l.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&e.isConstantNode(this.dimensions[0])&&"string"===this.dimensions[0].valueType},l.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},l.prototype._toString=function(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},l.prototype.toHTML=function(e){for(var t=[],r=0;r<this.dimensions.length;r++)t[r]=this.dimensions[r].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+o(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},l.prototype._toTex=function(e){var t=this.dimensions.map((function(t){return t.toTex(e)}));return this.dotNotation?"."+this.getObjectProperty():"_{"+t.join(",")+"}"},l.prototype.needsSize=function(){return this.dimensions.some((function(t){return e.isRangeNode(t)&&t.needsEnd()||e.isSymbolNode(t)&&"end"===t.name}))},l}t.name="IndexNode",t.path="expression.node",t.factory=a},"1d94":function(e,t,r){"use strict";function n(e,t,n,i,o){var a=n(r("0420")),s=n(r("df86")),p=n(r("98f8")),u=n(r("023c")),c=n(r("d981")),f=n(r("f2f7")),h=(n(r("ff33")),n(r("0458"))),l=n(r("8a2c")),d=n(r("f4c1")),y=n(r("8637")),g=y.isCommutative,m=y.isAssociative,v=y.flatten,w=y.unflattenr,b=y.unflattenl,N=y.createMakeNodeFunction,x=i("simplify",{string:function(e){return x(a(e),x.rules,{})},"string, Object":function(e,t){return x(a(e),x.rules,t)},"string, Array":function(e,t){return x(a(e),t,{})},"string, Array, Object":function(e,t,r){return x(a(e),t,r)},"Node, Object":function(e,t){return x(e,x.rules,t)},Node:function(e){return x(e,x.rules,{})},"Node, Array":function(e,t){return x(e,t,{})},"Node, Array, Object":function(e,t,r){t=S(t);var n=d(e,r),i=(n=E(n),{}),o=n.toString({parenthesis:"all"});while(!i[o]){i[o]=!0,T=0;for(var a=0;a<t.length;a++)"function"===typeof t[a]?n=t[a](n):(v(n),n=P(n,t[a])),b(n);o=n.toString({parenthesis:"all"})}return n}});function E(t){return t.transform((function(t,r,n){return e.isParenthesisNode(t)?t.content:t}))}x.simplifyCore=l,x.resolve=d;var O={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};function S(e){for(var t=[],r=0;r<e.length;r++){var n,i=e[r],o=typeof i;switch(o){case"string":var s=i.split("->");if(2!==s.length)throw SyntaxError("Could not parse rule: "+i);i={l:s[0],r:s[1]};case"object":if(n={l:E(a(i.l)),r:E(a(i.r))},i.context&&(n.evaluate=i.context),i.evaluate&&(n.evaluate=a(i.evaluate)),m(n.l)){var p=N(n.l),u=j();n.expanded={},n.expanded.l=p([n.l.clone(),u]),v(n.expanded.l),w(n.expanded.l),n.expanded.r=p([n.r,u])}break;case"function":n=i;break;default:throw TypeError("Unsupported type of rule: "+o)}t.push(n)}return t}x.rules=[l,{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"(n ^ n1) ^ n2",r:"n ^ (n1 * n2)"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},{l:"n1 + -1 * (n2 + n3)",r:"n1 + -1 * n2 + -1 * n3"},h,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"}];var T=0;function j(){return new f("_p"+T++)}var P=i("applyRule",{"Node, Object":function(e,t){var r=e;if(r instanceof u||r instanceof p){if(r.args)for(var n=0;n<r.args.length;n++)r.args[n]=P(r.args[n],t)}else r instanceof c&&r.content&&(r.content=P(r.content,t));var i=t.r,o=D(t.l,r)[0];if(!o&&t.expanded&&(i=t.expanded.r,o=D(t.expanded.l,r)[0]),o){r=i.clone();var a=function(e){return e.isSymbolNode&&o.placeholders.hasOwnProperty(e.name)?o.placeholders[e.name].clone():e.map(a)};r=a(r)}return r}});function A(e,t){var r,n,i=[],o=N(e);if(g(e,t))for(var a=0;a<e.args.length;a++)n=e.args.slice(0),n.splice(a,1),r=1===n.length?n[0]:o(n),i.push(o([e.args[a],r]));else n=e.args.slice(1),r=1===n.length?n[0]:o(n),i.push(o([e.args[0],r]));return i}function C(e,t){var r={placeholders:{}};if(!e.placeholders&&!t.placeholders)return r;if(!e.placeholders)return t;if(!t.placeholders)return e;for(var n in e.placeholders)if(r.placeholders[n]=e.placeholders[n],t.placeholders.hasOwnProperty(n)&&!k(e.placeholders[n],t.placeholders[n]))return null;for(var n in t.placeholders)r.placeholders[n]=t.placeholders[n];return r}function I(e,t){var r,n=[];if(0===e.length||0===t.length)return n;for(var i=0;i<e.length;i++)for(var o=0;o<t.length;o++)r=C(e[i],t[o]),r&&n.push(r);return n}function M(e){if(0===e.length)return e;for(var t=e.reduce(I),r=[],n={},i=0;i<t.length;i++){var o=JSON.stringify(t[i]);n[o]||(n[o]=!0,r.push(t[i]))}return r}function D(t,r,n){var i=[{placeholders:{}}];if(t instanceof u&&r instanceof u||t instanceof p&&r instanceof p){if(t instanceof u){if(t.op!==r.op||t.fn!==r.fn)return[]}else if(t instanceof p&&t.name!==r.name)return[];if((1!==r.args.length||1!==t.args.length)&&m(r)&&!n){if(r.args.length>=2&&2===t.args.length){var a=A(r,t.context),c=[];for(d=0;d<a.length;d++){var h=D(t,a[d],!0);c=c.concat(h)}return c}if(t.args.length>2)throw Error("Unexpected non-binary associative function: "+t.toString());return[]}for(var l=[],d=0;d<t.args.length;d++){var y=D(t.args[d],r.args[d]);if(0===y.length)return[];l.push(y)}i=M(l)}else if(t instanceof f){if(0===t.name.length)throw new Error("Symbol in rule has 0 length...!?");if(o.hasOwnProperty(t.name)){if(!O[t.name])throw new Error("Built in constant: "+t.name+" is not supported by simplify.");if(t.name!==r.name)return[]}else if("n"===t.name[0]||"_p"===t.name.substring(0,2))i[0].placeholders[t.name]=r;else if("v"===t.name[0]){if(e.isConstantNode(r))return[];i[0].placeholders[t.name]=r}else{if("c"!==t.name[0])throw new Error("Invalid symbol in rule: "+t.name);if(!(r instanceof s))return[];i[0].placeholders[t.name]=r}}else{if(!(t instanceof s))return[];if(t.value!==r.value)return[]}return i}function k(e,t){if(e instanceof s&&t instanceof s){if(e.value!==t.value)return!1}else if(e instanceof f&&t instanceof f){if(e.name!==t.name)return!1}else{if(!(e instanceof u&&t instanceof u||e instanceof p&&t instanceof p))return!1;if(e instanceof u){if(e.op!==t.op||e.fn!==t.fn)return!1}else if(e instanceof p&&e.name!==t.name)return!1;if(e.args.length!==t.args.length)return!1;for(var r=0;r<e.args.length;r++)if(!k(e.args[r],t.args[r]))return!1}return!0}return x}t.math=!0,t.name="simplify",t.factory=n},"21a0":function(e,t){e.exports=function(e){return e&&e.constructor.prototype.isBigNumber||!1}},"2a2e":function(e,t,r){e.exports=[r("323d")]},"31d4":function(e,t,r){e.exports=[r("2a2e")]},"323d":function(e,t,r){"use strict";function n(e,t,n,i){var o=n(r("0420")),a=n(r("1d94")),s=n(r("0458")),p=n(r("df86")),u=n(r("98f8")),c=n(r("023c")),f=n(r("f2f7")),h=i("integral",{"Node, SymbolNode, Object":function(e,t,r){void 0===r.simplify&&(r.simplify=!0),void 0===r.debugPrint&&(r.debugPrint=!1),void 0===r.rules&&(r.rules=h.rules);var n=new l(t,r),i=d(e,n),o=g(i,n);if(!o)throw new Error('Unable to find integral of "'+e+'" with respect to "'+t+'"');return o=o.cloneDeep(),!0===r.simplify?a(o):o},"Node, SymbolNode":function(e,t){return h(e,t,{})},"string, SymbolNode, Object":function(e,t,r){return h(o(e),t,r)},"string, SymbolNode":function(e,t){return h(o(e),t)},"Node, string, Object":function(e,t,r){return h(e,o(t),r)},"Node, string":function(e,t){return h(e,o(t))},"string, string, Object":function(e,t,r){return h(o(e),o(t),r)},"string, string":function(e,t){return h(o(e),o(t))}});function l(e,t){this.variable=e.clone(),this.options=t,this._constantExpr={},this.subIntegral={},this.rules=t.rules,this.debugIndent=0}function d(e,t){return e=r(e),e=n(e),e=i(e),e;function r(e){return"ParenthesisNode"===e.type?r(e.content):e.map(r)}function n(e){return r(e);function r(e){if(!t.isConstant(e)&&"FunctionNode"===e.type){var n="string"===typeof e.fn?e.fn:e.fn.name;switch(n){case"add":return new c("+","add",e.args);case"subtract":return new c("-","subtract",e.args);case"multiply":return new c("*","multiply",e.args);case"divide":return new c("/","divide",e.args);case"sqrt":return new c("^","pow",[e.args[0].map(r),new c("/","divide",[new p(1),new p(2)])]);case"nthRoot":return new c("^","pow",[e.args[0].map(r),new c("/","divide",[new p(1),e.args[1].map(r)])]);case"exp":return new c("^","pow",[new f("e"),e.args[0]]);case"pow":return new c("^","pow",e.args);case"log":if(2===e.args.length)return new c("/","divide",[new u("log",[e.args[0].map(r)]),new u("log",[e.args[1].map(r)])]);break;default:break}}return e.map(r)}}function i(e){return e.transform((function(e){return t.isConstant(e)||"OperatorNode"!==e.type||"/"!==e.op?e:new c("*","multiply",[e.args[0],new c("^","pow",[e.args[1],new p(-1)])])}))}}function y(e){var t=s(e);return r(t);function r(e){if("OperatorNode"===e.type&&"-"===e.op&&1===e.args.length){var t=r(e.args[0]);return void 0===t?void 0:-t}return"ConstantNode"!==e.type||e.valueType&&"number"!==e.valueType?void 0:+e.value}}function g(e,t,r){var n=e.toString({parenthesis:"all",handler:function(e,t){if("ParenthesisNode"===e.type)return"("+e.content.toString(t)+")"}}),i=r?r+": ":"";if(i+="find integral of "+n+"  d"+t.variable.name,t.printDebug(i),t.debugIndent++,void 0!==t.subIntegral[n])return t.printDebug("Precomputed: "+t.subIntegral[n]),t.debugIndent--,t.subIntegral[n];t.subIntegral[n]=null;for(var o=0;o<t.rules.length;o++){var a=t.rules[o](e,t,g);if(void 0!==a&&null!==a)return t.subIntegral[n]=a,t.printDebug("Computed: "+a.toString({parenthesis:"all"})),t.debugIndent--,a}return t.printDebug("No integral found"),t.debugIndent--,null}return l.prototype.isConstant=function(e){return"boolean"===typeof this._constantExpr[e]?this._constantExpr[e]:this._constantExpr[e]=t(e,this);function t(e,t){switch(e.type){case"ConstantNode":return!0;case"SymbolNode":return e.name!==t.variable.name;case"OperatorNode":return e.args.every(t.isConstant.bind(t));case"ParenthesisNode":return t.isConstant(e.content);case"FunctionNode":return e.args.every(t.isConstant.bind(t));default:throw new Error("Node type '"+e.type+"' is currently unsupported in isConstant.")}}},l.prototype.printDebug=function(e){if(this.options.debugPrint){for(var t="",r=0;r<this.debugIndent;r++)t+="  ";console.log(t+e)}},h.rules=[function(e,t,r){var n=a.simplifyCore(e,t);if(!n.equals(e))return r(n,t,"simplified expression")},function(e,t,r){if("ParenthesisNode"===e.type){var n=r(e.content,t,"parentheses removal");return n?new ParenthesisNode(n):null}},function(e,t){if(t.isConstant(e))return new c("*","multiply",[e.clone(),t.variable.clone()])},function(e,t,r){if("OperatorNode"===e.type&&("+"===e.op||"-"===e.op)){var n=e.args.map((function(e){return r(e,t,"sum rule")}));if(n.every((function(e){return e})))return new c(e.op,e.fn,n)}},function(e,t,r){if("OperatorNode"===e.type&&"*"===e.op){var n=i(e);if(n.length>e.args.length)return r(new c("*","multiply",n),t,"product flattening")}function i(e){return"OperatorNode"===e.type&&"*"===e.op?e.args.reduce((function(e,t){return e.concat(i(t))}),[]):"ParenthesisNode"===e.type?i(e.content):[e]}},function(e,t){if("SymbolNode"===e.type&&e.name===t.variable.name)return new c("*","multiply",[new c("/","divide",[new p(1),new p(2)]),new c("^","pow",[e.clone(),new p(2)])])},function(e,t,r){if("OperatorNode"===e.type&&"*"===e.op){var n=[],i=[];if(e.args.forEach((function(e){t.isConstant(e)?n.push(e):i.push(e)})),0!==n.length){var o=p(n),a=p(i),s=r(a,t,"multiplication by constant");if(s)return new c("*","multiply",[o,s])}function p(e){return 1===e.length?e[0]:new c("*","multiply",e)}}},function(e,t){if("OperatorNode"===e.type&&"^"===e.op&&e.args[0].equals(t.variable)&&t.isConstant(e.args[1])){var r=y(e.args[1]);return-1===r?new u("log",[new u("abs",[t.variable.clone()])]):new c("*","multiply",[new c("/","divide",[new p(1),new c("+","add",[e.args[1].clone(),new p(1)])]),new c("^","pow",[e.args[0].clone(),new c("+","add",[e.args[1].clone(),new p(1)])])])}},function(e,t){if("OperatorNode"===e.type&&"^"===e.op&&t.isConstant(e.args[0])&&e.args[1].equals(t.variable))return new c("/","divide",[e,new u("log",[e.args[0]])])},function(e,t,r){if("OperatorNode"===e.type&&"*"===e.op){var n=e.args.map(a),i=n.reduce((function(e,t){for(var r=0;r<e.length;r++)if(e[r].base.equals(t.base))return e[r].power=new c("+","add",[e[r].power,t.power]),e;return e.push(t),e}),[]);if(i.length<e.args.length){var o=s(i);return r(o,t,"combining powers")}}function a(e){return"OperatorNode"===e.type&&"^"===e.op?{base:e.args[0],power:e.args[1]}:{base:e,power:new p(1)}}function s(e){return 1===e.length?t(e[0]):new c("*","multiply",e.map(t));function t(e){return new c("^","pow",[e.base,e.power])}}},function(e,t,r){if("OperatorNode"===e.type&&"^"===e.op){var n=e.args[0],i=e.args[1];if("OperatorNode"===n.type&&"*"===n.op)return r(new c("*","multiply",n.args.map((function(e){return new c("^","pow",[e,i])}))),t,"distributing power")}},function(e,t,r){if("OperatorNode"===e.type&&"^"===e.op&&"OperatorNode"===e.args[0].type&&"^"===e.args[0].op)return r(new c("^","pow",[e.args[0].args[0],new c("*","multiply",[e.args[0].args[1],e.args[1]])]),t,"removing double exponential")},function(e,t,r){if("OperatorNode"===e.type&&"*"===e.op){var n=!1,i=!0,o=[];if(e.args.forEach((function(e){"OperatorNode"!==e.type||1!==e.args.length||"+"!==e.op&&"-"!==e.op?o.push(e):(n=!0,i^="-"===e.op,o.push(e.args[0]))})),n){var a=r(new c("*","multiply",o),t,"removing unary +/- from factors");if(a)return i?a:new c("-","unaryMinus",[a])}}},function(e,t,r){if("OperatorNode"===e.type&&"*"===e.op){for(var n=null,i=null,o=0;o<e.args.length;o++)if("OperatorNode"===e.args[o].type&&("+"===e.args[o].op||"-"===e.args[o].op)){n=e.args[o],i=e.args.filter((function(e,t){return t!==o}));break}if(null!==n){var a=n.args.map((function(e){return new c("*","multiply",i.concat([e]))}));return r(new c(n.op,n.fn,a),t,"product distribution")}}},function(e,t,r){var n=null,i=f(e);if(null!==i&&"OperatorNode"===i.type&&("+"===i.op||"-"===i.op?n=1===i.args.length?function(e){return new c(i.op,i.fn,[e])}:function(e){return e}:"*"===i.op&&(n=function(e){return new c("/","divide",[e,u(i,t.variable,new p(1))])}),null!==n)){var o=u(e,i,t.variable.clone()),a=r(o,t,"linear substitution");if(a){var s=u(a,t.variable,i);return n(s)}}function u(e,t,r){return n(e);function n(e){return t.equals(e)?r:e.map(n)}}function f(e){return r(e,null);function r(e,n){if(t.isConstant(e))return null;if("SymbolNode"===e.type&&e.name===t.variable.name)return n;var i=[];return e.forEach((function(e){t.isConstant(e)||i.push(e)})),1===i.length?r(i[0],e):null}}},function(e,t,r){var n=10;if("OperatorNode"===e.type&&"^"===e.op){var i=u(e);if(i){var o=r(i,t,"reducing power");if(o)return o}}else if("OperatorNode"===e.type&&"*"===e.op)for(var a=0;a<e.args.length;a++){var s=u(e.args[a]);if(s){o=r(new c("*","multiply",s.args.concat(e.args.slice(0,a),e.args.slice(a+1))),t,"reducing power");if(o)return o}}function u(e){if("OperatorNode"===e.type&&"^"===e.op&&!t.isConstant(e.args[0])){var r=y(e.args[1]);if(Number.isInteger(r)&&r>1&&r<=n)return new c("*","multiply",[e.args[0],2===r?e.args[0]:new c("^","pow",[e.args[0],new p(r-1)])])}return null}},function(e,t,r){if("FunctionNode"===e.type&&"log"===e.name&&1===e.args.length&&1===e.args.length&&e.args[0].equals(t.variable))return new c("-","subtract",[new c("*","multiply",[t.variable,new u("log",[t.variable])]),t.variable])},function(e,t,r){if("FunctionNode"===e.type&&e.args[0].equals(t.variable))switch(e.name){case"sin":return new c("-","unaryMinus",[new u("cos",[t.variable])]);case"cos":return new u("sin",[t.variable]);case"tan":return new u("log",[new u("abs",[new u("sec",[t.variable])])]);case"sec":return new u("log",[new u("abs",[new c("+","add",[new u("sec",[t.variable]),new u("tan",[t.variable])])])]);case"csc":return new u("log",[new u("abs",[new c("-","subtract",[new u("csc",[t.variable]),new u("cot",[t.variable])])])]);case"cot":return new u("log",[new u("abs",[new u("sin",[t.variable])])]);default:return null}}],h}t.name="integral",t.factory=n},3339:function(e,t,r){"use strict";var n=r("ebb4"),i=r("8127").stringify,o=r("8127").escape,a=r("c370").map,s=r("c370").join,p=r("b871"),u=r("6ac7"),c=r("8772").setSafeProperty,f=r("8e4e");function h(e,t,h,l){var d=h(r("06b8")).register,y=h(r("06b8")).compile,g=h(r("ff33"));function m(t,r,i){if(!(this instanceof m))throw new SyntaxError("Constructor must be called with the new operator");if("string"!==typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(r))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!e.isNode(i))throw new TypeError('Node expected for parameter "expr"');if(t in n)throw new Error('Illegal function name, "'+t+'" is a reserved keyword');this.name=t,this.params=r.map((function(e){return e&&e.name||e})),this.types=r.map((function(e){return e&&e.type||"any"})),this.expr=i}function v(e,t,r){if(!(e instanceof m))throw new TypeError("No valid FunctionAssignmentNode");t.typed=l,t.setSafeProperty=c;var n=Object.create(r),o=a(e.params,(function(e){return n[e]=f(n),n[e]})),p=y(e.expr,t,n),u=i(e.name);return"setSafeProperty(scope, "+u+",   (function () {    var fn = typed("+u+", {      "+i(s(e.types,","))+": function ("+s(o,",")+") {        return "+p+"      }    });    fn.syntax = "+i(e.name+"("+s(e.params,", ")+")")+";    return fn;  })())"}function w(e,t){var r=u.getPrecedence(e,t),n=u.getPrecedence(e.expr,t);return"all"===t||null!==n&&n<=r}return m.prototype=new g,m.prototype.type="FunctionAssignmentNode",m.prototype.isFunctionAssignmentNode=!0,d(m.prototype.type,v),m.prototype.forEach=function(e){e(this.expr,"expr",this)},m.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new m(this.name,this.params.slice(0),t)},m.prototype.clone=function(){return new m(this.name,this.params.slice(0),this.expr)},m.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=this.expr.toString(e);return w(this,t)&&(r="("+r+")"),this.name+"("+this.params.join(", ")+") = "+r},m.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=[],n=0;n<this.params.length;n++)r.push('<span class="math-symbol math-parameter">'+o(this.params[n])+"</span>");var i=this.expr.toHTML(e);return w(this,t)&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+o(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+r.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+i},m.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=this.expr.toTex(e);return w(this,t)&&(r="\\left("+r+"\\right)"),"\\mathrm{"+this.name+"}\\left("+this.params.map(p.toSymbol).join(",")+"\\right):="+r},m}t.name="FunctionAssignmentNode",t.path="expression.node",t.factory=h},"34c2":function(e,t,r){"use strict";function n(e,t,r,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=r,this.max=i,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+r+(void 0!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}n.prototype=new Error,n.prototype.constructor=Error,n.prototype.name="ArgumentsError",n.prototype.isArgumentsError=!0,e.exports=n},"3a85":function(e,t,r){"use strict";var n=r("d056").transform,i=r("8772").getSafeProperty;function o(e,t,o,a){var s=o(r("ba19"));return function(e,t){try{if(Array.isArray(e))return s(e,t);if(e&&"function"===typeof e.subset)return e.subset(t);if("string"===typeof e)return s(e,t);if("object"===typeof e){if(!t.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return i(e,t.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(r){throw n(r)}}}t.factory=o},"3b0f":function(e,t,r){"use strict";var n=r("c370").map,i=r("c370").join;function o(e,t,o,a){var s=o(r("06b8")).register,p=o(r("06b8")).compile,u=o(r("ff33"));function c(t){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=t||[],!Array.isArray(this.items)||!this.items.every(e.isNode))throw new TypeError("Array containing Nodes expected");var r=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:r,set:r})}function f(e,t,r){if(!(e instanceof c))throw new TypeError("No valid ArrayNode");var o="Array"!==t.math.config().matrix,a=n(e.items,(function(e){return p(e,t,r)}));return(o?"math.matrix([":"[")+i(a,",")+(o?"])":"]")}return c.prototype=new u,c.prototype.type="ArrayNode",c.prototype.isArrayNode=!0,s(c.prototype.type,f),c.prototype.forEach=function(e){for(var t=0;t<this.items.length;t++){var r=this.items[t];e(r,"items["+t+"]",this)}},c.prototype.map=function(e){for(var t=[],r=0;r<this.items.length;r++)t[r]=this._ifNode(e(this.items[r],"items["+r+"]",this));return new c(t)},c.prototype.clone=function(){return new c(this.items.slice(0))},c.prototype._toString=function(e){var t=this.items.map((function(t){return t.toString(e)}));return"["+t.join(", ")+"]"},c.prototype.toHTML=function(e){var t=this.items.map((function(t){return t.toHTML(e)}));return'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},c.prototype._toTex=function(e){var t="\\begin{bmatrix}";return this.items.forEach((function(r){r.items?t+=r.items.map((function(t){return t.toTex(e)})).join("&"):t+=r.toTex(e),t+="\\\\"})),t+="\\end{bmatrix}",t},c}t.name="ArrayNode",t.path="expression.node",t.factory=o},4255:function(e,t,r){"use strict";function n(e,t,r,n){function i(e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return i.prototype.type="ResultSet",i.prototype.isResultSet=!0,i.prototype.valueOf=function(){return this.entries},i.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},i.fromJSON=function(e){return new i(e.entries)},i}t.name="ResultSet",t.path="type",t.factory=n},4788:function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},o={"":"\\--","":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},a=function(e,t){return n({},e,t)};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.preserveFormatting,s=void 0!==r&&r,p=t.escapeMapFn,u=void 0===p?a:p,c=String(e),f="",h=u(n({},i),s?n({},o):{}),l=Object.keys(h),d=function(){var e=!1;l.forEach((function(t,r){e||c.length>=t.length&&c.slice(0,t.length)===t&&(f+=h[l[r]],c=c.slice(t.length,c.length),e=!0)})),e||(f+=c.slice(0,1),c=c.slice(1,c.length))};while(c)d();return f}},"491a":function(e,t,r){"use strict";var n=r("6ac7");function i(e,t,i,o){var a=i(r("06b8")).register,s=i(r("06b8")).compile,p=i(r("ff33"));function u(t,r,n){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(!e.isNode(t))throw new TypeError("Node expected");if(!e.isNode(r))throw new TypeError("Node expected");if(n&&!e.isNode(n))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=t,this.end=r,this.step=n||null}function c(e,t,r){if(!(e instanceof u))throw new TypeError("No valid RangeNode");return"math.range("+s(e.start,t,r)+", "+s(e.end,t,r)+(e.step?", "+s(e.step,t,r):"")+")"}function f(e,t){var r=n.getPrecedence(e,t),i={},o=n.getPrecedence(e.start,t);if(i.start=null!==o&&o<=r||"all"===t,e.step){var a=n.getPrecedence(e.step,t);i.step=null!==a&&a<=r||"all"===t}var s=n.getPrecedence(e.end,t);return i.end=null!==s&&s<=r||"all"===t,i}return u.prototype=new p,u.prototype.type="RangeNode",u.prototype.isRangeNode=!0,u.prototype.needsEnd=function(){var t=this.filter((function(t){return e.isSymbolNode(t)&&"end"===t.name}));return t.length>0},a(u.prototype.type,c),u.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},u.prototype.map=function(e){return new u(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},u.prototype.clone=function(){return new u(this.start,this.end,this.step&&this.step)},u.prototype._toString=function(e){var t,r=e&&e.parenthesis?e.parenthesis:"keep",n=f(this,r),i=this.start.toString(e);if(n.start&&(i="("+i+")"),t=i,this.step){var o=this.step.toString(e);n.step&&(o="("+o+")"),t+=":"+o}var a=this.end.toString(e);return n.end&&(a="("+a+")"),t+=":"+a,t},u.prototype.toHTML=function(e){var t,r=e&&e.parenthesis?e.parenthesis:"keep",n=f(this,r),i=this.start.toHTML(e);if(n.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t=i,this.step){var o=this.step.toHTML(e);n.step&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+o}var a=this.end.toHTML(e);return n.end&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+a,t},u.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=f(this,t),n=this.start.toTex(e);if(r.start&&(n="\\left("+n+"\\right)"),this.step){var i=this.step.toTex(e);r.step&&(i="\\left("+i+"\\right)"),n+=":"+i}var o=this.end.toTex(e);return r.end&&(o="\\left("+o+"\\right)"),n+=":"+o,n},u}t.name="RangeNode",t.path="expression.node",t.factory=i},"5dca":function(e,t,r){"use strict";e.exports=function e(t,r,n){return t&&"function"===typeof t.map?t.map((function(t){return e(t,r,n)})):r(t)}},"6ac7":function(e,t,r){"use strict";var n=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function i(e,t){var r=e;"keep"!==t&&(r=e.getContent());for(var i=r.getIdentifier(),o=0;o<n.length;o++)if(i in n[o])return o;return null}function o(e,t){var r=e;"keep"!==t&&(r=e.getContent());var o=r.getIdentifier(),a=i(r,t);if(null===a)return null;var s=n[a][o];if(s.hasOwnProperty("associativity")){if("left"===s.associativity)return"left";if("right"===s.associativity)return"right";throw Error("'"+o+"' has the invalid associativity '"+s.associativity+"'.")}return null}function a(e,t,r){var o=e,a=t;if("keep"!==r)o=e.getContent(),a=t.getContent();var s=o.getIdentifier(),p=a.getIdentifier(),u=i(o,r);if(null===u)return null;var c=n[u][s];if(c.hasOwnProperty("associativeWith")&&c.associativeWith instanceof Array){for(var f=0;f<c.associativeWith.length;f++)if(c.associativeWith[f]===p)return!0;return!1}return null}e.exports.properties=n,e.exports.getPrecedence=i,e.exports.getAssociativity=o,e.exports.isAssociativeWith=a},7330:function(e,t,r){"use strict";function n(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}t.isNumber=function(e){return"number"===typeof e},t.isInteger=function(e){return!!isFinite(e)&&e==Math.round(e)},t.sign=Math.sign||function(e){return e>0?1:e<0?-1:0},t.format=function(e,r){if("function"===typeof r)return r(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n="auto",i=void 0;switch(r&&(r.notation&&(n=r.notation),t.isNumber(r)?i=r:r.precision&&(i=r.precision)),n){case"fixed":return t.toFixed(e,i);case"exponential":return t.toExponential(e,i);case"engineering":return t.toEngineering(e,i);case"auto":return t.toPrecision(e,i,r&&r.exponential).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}},t.splitNumber=function(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),o=n.indexOf(".");i+=-1!==o?o-1:n.length-1;var a=n.replace(".","").replace(/^0*/,(function(e){return i-=e.length,""})).replace(/0*$/,"").split("").map((function(e){return parseInt(e)}));return 0===a.length&&(a.push(0),i++),{sign:r,coefficients:a,exponent:i}},t.toEngineering=function(e,r){if(isNaN(e)||!isFinite(e))return String(e);var i=t.roundDigits(t.splitNumber(e),r),o=i.exponent,a=i.coefficients,s=o%3===0?o:o<0?o-3-o%3:o-o%3,p=o>=0?o:Math.abs(s);a.length-1<p&&(a=a.concat(n(p-(a.length-1))));var u=Math.abs(o-s),c=1;while(--u>=0)c++;var f=a.slice(c).join(""),h=f.match(/[1-9]/)?"."+f:"",l=a.slice(0,c).join("")+h+"e"+(o>=0?"+":"")+s.toString();return i.sign+l},t.toFixed=function(e,r){if(isNaN(e)||!isFinite(e))return String(e);var i=t.splitNumber(e),o=t.roundDigits(i,i.exponent+1+(r||0)),a=o.coefficients,s=o.exponent+1,p=s+(r||0);return a.length<p&&(a=a.concat(n(p-a.length))),s<0&&(a=n(1-s).concat(a),s=1),r&&a.splice(s,0,0===s?"0.":"."),o.sign+a.join("")},t.toExponential=function(e,r){if(isNaN(e)||!isFinite(e))return String(e);var i=t.splitNumber(e),o=r?t.roundDigits(i,r):i,a=o.coefficients,s=o.exponent;a.length<r&&(a=a.concat(n(r-a.length)));var p=a.shift();return o.sign+p+(a.length>0?"."+a.join(""):"")+"e"+(s>=0?"+":"")+s},t.toPrecision=function(e,r,i){if(isNaN(e)||!isFinite(e))return String(e);var o=i&&void 0!==i.lower?i.lower:.001,a=i&&void 0!==i.upper?i.upper:1e5,s=t.splitNumber(e),p=Math.abs(Math.pow(10,s.exponent));if(p<o||p>=a)return t.toExponential(e,r);var u=r?t.roundDigits(s,r):s,c=u.coefficients,f=u.exponent;c.length<r&&(c=c.concat(n(r-c.length))),c=c.concat(n(f-c.length+1+(c.length<r?r-c.length:0))),c=n(-f).concat(c);var h=f>0?f:0;return h<c.length-1&&c.splice(h+1,0,"."),u.sign+c.join("")},t.roundDigits=function(e,t){var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;while(t<=0)n.unshift(0),r.exponent++,t++;if(n.length>t){var i=n.splice(t,n.length-t);if(i[0]>=5){var o=t-1;n[o]++;while(10===n[o])n.pop(),0===o&&(n.unshift(0),r.exponent++,o++),o--,n[o]++}}return r},t.digits=function(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},t.DBL_EPSILON=Number.EPSILON||2220446049250313e-31,t.nearlyEqual=function(e,r,n){if(null==n)return e==r;if(e==r)return!0;if(isNaN(e)||isNaN(r))return!1;if(isFinite(e)&&isFinite(r)){var i=Math.abs(e-r);return i<t.DBL_EPSILON||i<=Math.max(Math.abs(e),Math.abs(r))*n}return!1}},"78f0":function(e,t,r){"use strict";r("b871");var n=r("8127").stringify,i=r("8772").getSafeProperty,o=r("8772").setSafeProperty;function a(e,t,a,s){var p=a(r("06b8")).register,u=a(r("06b8")).compile,c=a(r("ff33")),f=(a(r("3b0f")),a(r("1c97")),a(r("f294"))),h=a(r("3a85")),l=(r("ebb4"),r("6ac7"));function d(t,r,n){if(!(this instanceof d))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=t,this.index=n?r:null,this.value=n||r,!e.isSymbolNode(t)&&!e.isAccessorNode(t))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(e.isSymbolNode(t)&&"end"===t.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!e.isIndexNode(this.index))throw new TypeError('IndexNode expected as "index"');if(!e.isNode(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function y(t,r,a){if(!(t instanceof d))throw new TypeError("No valid AssignmentNode");var s;r.assign=f,r.access=h,r.getSafeProperty=i,r.setSafeProperty=o;var p=u(t.object,r,a),c=t.index?u(t.index,r,a):null,l=u(t.value,r,a),y=n(t.object.name);if(t.index){if(t.index.isObjectProperty()){var g=n(t.index.getObjectProperty());return"setSafeProperty("+p+", "+g+", "+l+")"}if(e.isSymbolNode(t.object))return s=t.index.needsSize()?"var size = math.size(object).valueOf();":"","(function () {  var object = "+p+";  var value = "+l+";  "+s+"  setSafeProperty(scope, "+y+", assign(object, "+c+", value));  return value;})()";s=t.index.needsSize()?"var size = math.size(object).valueOf();":"";var m=u(t.object.object,r,a);if(t.object.index.isObjectProperty()){var v=n(t.object.index.getObjectProperty());return"(function () {  var parent = "+m+";  var object = getSafeProperty(parent, "+v+");  var value = "+l+";"+s+"  setSafeProperty(parent, "+v+", assign(object, "+c+", value));  return value;})()"}var w=t.object.index.needsSize()?"var size = math.size(parent).valueOf();":"",b=u(t.object.index,r,a);return"(function () {  var parent = "+m+";  "+w+"  var parentIndex = "+b+";  var object = access(parent, parentIndex);  var value = "+l+";  "+s+"  assign(parent, parentIndex, assign(object, "+c+", value));  return value;})()"}if(!e.isSymbolNode(t.object))throw new TypeError("SymbolNode expected as object");return"setSafeProperty(scope, "+y+", "+l+")"}function g(e,t){t||(t="keep");var r=l.getPrecedence(e,t),n=l.getPrecedence(e.value,t);return"all"===t||null!==n&&n<=r}return d.prototype=new c,d.prototype.type="AssignmentNode",d.prototype.isAssignmentNode=!0,p(d.prototype.type,y),d.prototype.forEach=function(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)},d.prototype.map=function(e){var t=this._ifNode(e(this.object,"object",this)),r=this.index?this._ifNode(e(this.index,"index",this)):null,n=this._ifNode(e(this.value,"value",this));return new d(t,r,n)},d.prototype.clone=function(){return new d(this.object,this.index,this.value)},d.prototype._toString=function(e){var t=this.object.toString(e),r=this.index?this.index.toString(e):"",n=this.value.toString(e);return g(this,e&&e.parenthesis)&&(n="("+n+")"),t+r+" = "+n},d.prototype.toHTML=function(e){var t=this.object.toHTML(e),r=this.index?this.index.toHTML(e):"",n=this.value.toHTML(e);return g(this,e&&e.parenthesis)&&(n='<span class="math-paranthesis math-round-parenthesis">(</span>'+n+'<span class="math-paranthesis math-round-parenthesis">)</span>'),t+r+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+n},d.prototype._toTex=function(e){var t=this.object.toTex(e),r=this.index?this.index.toTex(e):"",n=this.value.toTex(e);return g(this,e&&e.parenthesis)&&(n="\\left("+n+"\\right)"),t+r+":="+n},d}t.name="AssignmentNode",t.path="expression.node",t.factory=a},"7b5c":function(e,t,r){"use strict";t.type=function(e){var t=typeof e;return"object"===t?null===e?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":"Object":"function"===t?"Function":t}},8127:function(e,t,r){"use strict";var n=r("7330").format,i=r("10e4").format,o=r("21a0");function a(e,r){if(Array.isArray(e)){for(var n="[",i=e.length,o=0;o<i;o++)0!=o&&(n+=", "),n+=a(e[o],r);return n+="]",n}return t.format(e,r)}function s(e){return e&&"object"===typeof e&&"number"===typeof e.s&&"number"===typeof e.n&&"number"===typeof e.d||!1}t.isString=function(e){return"string"===typeof e},t.endsWith=function(e,t){var r=e.length-t.length,n=e.length;return e.substring(r,n)===t},t.format=function(e,r){if("number"===typeof e)return n(e,r);if(o(e))return i(e,r);if(s(e))return r&&"decimal"===r.fraction?e.toString():e.s*e.n+"/"+e.d;if(Array.isArray(e))return a(e,r);if(t.isString(e))return'"'+e+'"';if("function"===typeof e)return e.syntax?String(e.syntax):"function";if(e&&"object"===typeof e){if("function"===typeof e.format)return e.format(r);if(e&&e.toString()!=={}.toString())return e.toString();var p=[];for(var u in e)e.hasOwnProperty(u)&&p.push('"'+u+'": '+t.format(e[u],r));return"{"+p.join(", ")+"}"}return String(e)},t.stringify=function(e){var t=String(e),r="",n=0;while(n<t.length){var i=t.charAt(n);"\\"===i?(r+=i,n++,i=t.charAt(n),""!==i&&-1!=='"\\/bfnrtu'.indexOf(i)||(r+="\\"),r+=i):r+='"'===i?'\\"':i,n++}return'"'+r+'"'},t.escape=function(e){var t=String(e);return t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t}},8637:function(e,t,r){"use strict";function n(e,t,r,n,i){var o=i.expression.node.FunctionNode,a=i.expression.node.OperatorNode,s=i.expression.node.SymbolNode,p={add:!0,multiply:!0},u={add:!0,multiply:!0};function c(t,r){if(!e.isOperatorNode(t))return!0;var n=t.fn.toString();return r&&r.hasOwnProperty(n)&&r[n].hasOwnProperty("commutative")?r[n].commutative:p[n]||!1}function f(t,r){if(!e.isOperatorNode(t))return!1;var n=t.fn.toString();return r&&r.hasOwnProperty(n)&&r[n].hasOwnProperty("associative")?r[n].associative:u[n]||!1}function h(e){if(!e.args||0===e.args.length)return e;e.args=l(e);for(var t=0;t<e.args.length;t++)h(e.args[t])}function l(t){var r,n=[],i=function(t){for(var o=0;o<t.args.length;o++){var a=t.args[o];e.isOperatorNode(a)&&r===a.op?i(a):n.push(a)}};return f(t)?(r=t.op,i(t),n):t.args}function d(e){if(e.args&&0!==e.args.length){for(var t=g(e),r=e.args.length,n=0;n<r;n++)d(e.args[n]);if(r>2&&f(e)){var i=e.args.pop();while(e.args.length>0)i=t([e.args.pop(),i]);e.args=i.args}}}function y(e){if(e.args&&0!==e.args.length){for(var t=g(e),r=e.args.length,n=0;n<r;n++)y(e.args[n]);if(r>2&&f(e)){var i=e.args.shift();while(e.args.length>0)i=t([i,e.args.shift()]);e.args=i.args}}}function g(t){return e.isOperatorNode(t)?function(e){try{return new a(t.op,t.fn,e)}catch(r){return console.error(r),[]}}:function(e){return new o(new s(t.name),e)}}return{createMakeNodeFunction:g,isCommutative:c,isAssociative:f,flatten:h,allChildren:l,unflattenr:d,unflattenl:y}}t.factory=n,t.math=!0},8772:function(e,t,r){"use strict";var n=r("00b7").hasOwnProperty;function i(e,t){if(u(e)&&a(e,t))return e[t];if("function"===typeof e[t]&&p(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')}function o(e,t,r){if(u(e)&&a(e,t))return e[t]=r;throw new Error('No access to property "'+t+'"')}function a(e,t){return!(!e||"object"!==typeof e)&&(!!n(c,t)||!(t in Object.prototype)&&!(t in Function.prototype))}function s(e,t){if(!p(e,t))throw new Error('No access to method "'+t+'"')}function p(e,t){return!(!e||"function"!==typeof e[t])&&(!(n(e,t)&&e.__proto__&&t in e.__proto__)&&(!!n(f,t)||!(t in Object.prototype)&&!(t in Function.prototype)))}function u(e){return"object"===typeof e&&e&&e.constructor===Object}var c={length:!0,name:!0},f={toString:!0,valueOf:!0,toLocaleString:!0};t.getSafeProperty=i,t.setSafeProperty=o,t.isSafeProperty=a,t.validateSafeMethod=s,t.isSafeMethod=p,t.isPlainObject=u},"8a2c":function(e,t,r){"use strict";function n(e,t,r,n,i){var o=i.expression.node.ConstantNode,a=i.expression.node.OperatorNode,s=i.expression.node.FunctionNode,p=i.expression.node.ParenthesisNode,u=new o(0),c=new o(1);function f(t){if(e.isOperatorNode(t)&&t.args.length<=2){var r=f(t.args[0]),n=t.args[1]&&f(t.args[1]);if("+"===t.op){if(1===t.args.length)return t.args[0];if(e.isConstantNode(r)){if("0"===r.value)return n;if(e.isConstantNode(n)&&r.value&&r.value.length<5&&n.value&&n.value.length<5)return new o(Number(r.value)+Number(n.value))}return e.isConstantNode(n)&&"0"===n.value?r:2===t.args.length&&e.isOperatorNode(n)&&"-"===n.op&&"unaryMinus"===n.fn?new a("-","subtract",[r,n.args[0]]):new a(t.op,t.fn,n?[r,n]:[r])}if("-"===t.op){if(e.isConstantNode(r)&&n){if(e.isConstantNode(n)&&r.value&&r.value.length<5&&n.value&&n.value.length<5)return new o(Number(r.value)-Number(n.value));if("0"===r.value)return new a("-","unaryMinus",[n])}if("subtract"===t.fn&&2===t.args.length)return e.isConstantNode(n)&&"0"===n.value?r:e.isOperatorNode(n)&&"unaryMinus"===n.fn?f(new a("+","add",[r,n.args[0]])):new a(t.op,t.fn,[r,n]);if("unaryMinus"===t.fn){if(e.isOperatorNode(r)){if("unaryMinus"===r.fn)return r.args[0];if("subtract"===r.fn)return new a("-","subtract",[r.args[1],r.args[0]])}return new a(t.op,t.fn,[r])}throw new Error("never happens")}if("*"===t.op){if(e.isConstantNode(r)){if("0"===r.value)return u;if("1"===r.value)return n;if(e.isConstantNode(n)&&r.value&&r.value.length<5&&n.value&&n.value.length<5)return new o(Number(r.value)*Number(n.value))}if(e.isConstantNode(n)){if("0"===n.value)return u;if("1"===n.value)return r;if(e.isOperatorNode(r)&&r.op===t.op){var h=r.args[0];if(e.isConstantNode(h)&&n.value&&n.value.length<5&&h.value&&h.value.length<5){var l=new o(Number(r.args[0].value)*Number(n.value));return new a(t.op,t.fn,[l,r.args[1]])}}return new a(t.op,t.fn,[n,r])}return new a(t.op,t.fn,[r,n])}if("/"===t.op){if(e.isConstantNode(r)){if("0"===r.value)return u;if(e.isConstantNode(n)&&r.value&&r.value.length<5&&("1"===n.value||"2"===n.value||"4"===n.value))return new o(Number(r.value)/Number(n.value))}return new a(t.op,t.fn,[r,n])}if("^"===t.op){if(e.isConstantNode(n)){if("0"===n.value)return c;if("1"===n.value)return r;if(e.isConstantNode(r)&&r.value&&r.value.length<5&&n.value&&n.value.length<2)return new o(i.pow(Number(r.value),Number(n.value)));if(e.isOperatorNode(r)&&"^"===r.op){var d=r.args[1];if(e.isConstantNode(d))return new a(t.op,t.fn,[r.args[0],new o(d.value*n.value)])}}return new a(t.op,t.fn,[r,n])}}else{if(e.isParenthesisNode(t)){var y=f(t.content);return e.isParenthesisNode(y)||e.isSymbolNode(y)||e.isConstantNode(y)?y:new p(y)}if(e.isFunctionNode(t)){var g=t.args.map(f);return 1===g.length&&e.isParenthesisNode(g[0])&&(g[0]=g[0].content),new s(f(t.fn),g)}}return t}return f}t.math=!0,t.name="simplifyCore",t.path="algebra.simplify",t.factory=n},"8e4e":function(e,t){function r(e){return"arg"+Object.keys(e).length}e.exports=r},"98f8":function(e,t,r){"use strict";var n=r("b871"),i=r("8127").stringify,o=r("8127").escape,a=r("00b7").extend,s=r("00b7").hasOwnProperty,p=r("c370").map,u=r("c370").join,c=r("8772").validateSafeMethod,f=r("8e4e");function h(e,t,h,l,d){var y=h(r("06b8")).register,g=h(r("06b8")).compile,m=h(r("ff33")),v=h(r("f2f7"));function w(t,r){if(!(this instanceof w))throw new SyntaxError("Constructor must be called with the new operator");if("string"===typeof t&&(t=new v(t)),!e.isNode(t))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(r)||!r.every(e.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=t,this.args=r||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});var n=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}function b(t,r,n){if(!(t instanceof w))throw new TypeError("No valid FunctionNode");var o,a=g(t.fn,r,n),h=p(t.args,(function(e){return g(e,r,n)})),l=N(r,n);if(e.isSymbolNode(t.fn)){var d=t.fn.name,y=s(r.math,d)?r.math[d]:void 0,m="function"===typeof y&&1==y.rawArgs;return m?(o=f(r),r[o]=t.args,a+"("+o+", math, "+l+")"):a+"("+u(h,", ")+")"}if(e.isAccessorNode(t.fn)&&e.isIndexNode(t.fn.index)&&t.fn.index.isObjectProperty()){o=f(r),r[o]=t.args,r.validateSafeMethod=c;var v=g(t.fn.object,r,n),b=i(t.fn.index.getObjectProperty());return"(function () {var object = "+v+";validateSafeMethod(object, "+b+");return (object["+b+"] && object["+b+"].rawArgs)  ? object["+b+"]("+o+", math, "+l+") : object["+b+"]("+u(h,", ")+")})()"}return o=f(r),r[o]=t.args,"(function () {var fn = "+a+";return (fn && fn.rawArgs)  ? fn("+o+", math, "+l+") : fn("+u(h,", ")+")})()"}function N(e,t){var r=Object.keys(t);if(0===r.length)return"scope";e.extend=a;var n=p(r,(function(e){return i(e)+": "+t[e]}));return"extend(extend({}, scope), {"+u(n,", ")+"})"}w.prototype=new m,w.prototype.type="FunctionNode",w.prototype.isFunctionNode=!0,y(w.prototype.type,b),w.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},w.prototype.map=function(e){for(var t=this.fn.map(e),r=[],n=0;n<this.args.length;n++)r[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));return new w(t,r)},w.prototype.clone=function(){return new w(this.fn,this.args.slice(0))};var x=w.prototype.toString;function E(t,r,n){var i,o="",a=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),s=0;while(null!==(i=a.exec(t)))if(o+=t.substring(s,i.index),s=i.index,"$$"===i[0])o+="$",s++;else{s+=i[0].length;var p=r[i[1]];if(!p)throw new ReferenceError("Template: Property "+i[1]+" does not exist.");if(void 0===i[2])switch(typeof p){case"string":o+=p;break;case"object":if(e.isNode(p))o+=p.toTex(n);else{if(!Array.isArray(p))throw new TypeError("Template: "+i[1]+" has to be a Node, String or array of Nodes");o+=p.map((function(t,r){if(e.isNode(t))return t.toTex(n);throw new TypeError("Template: "+i[1]+"["+r+"] is not a Node.")})).join(",")}break;default:throw new TypeError("Template: "+i[1]+" has to be a Node, String or array of Nodes")}else{if(!e.isNode(p[i[2]]&&p[i[2]]))throw new TypeError("Template: "+i[1]+"["+i[2]+"] is not a Node.");o+=p[i[2]].toTex(n)}}return o+=t.slice(s),o}w.prototype.toString=function(e){var t,r=this.fn.toString(e);return e&&"object"===typeof e.handler&&s(e.handler,r)&&(t=e.handler[r](this,e)),"undefined"!==typeof t?t:x.call(this,e)},w.prototype._toString=function(t){var r=this.args.map((function(e){return e.toString(t)})),n=e.isFunctionAssignmentNode(this.fn)?"("+this.fn.toString(t)+")":this.fn.toString(t);return n+"("+r.join(", ")+")"},w.prototype.toHTML=function(e){var t=this.args.map((function(t){return t.toHTML(e)}));return'<span class="math-function">'+o(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var O=w.prototype.toTex;return w.prototype.toTex=function(e){var t;return e&&"object"===typeof e.handler&&s(e.handler,this.name)&&(t=e.handler[this.name](this,e)),"undefined"!==typeof t?t:O.call(this,e)},w.prototype._toTex=function(e){var t,r,i=this.args.map((function(t){return t.toTex(e)}));switch(!d[this.name]||"function"!==typeof d[this.name].toTex&&"object"!==typeof d[this.name].toTex&&"string"!==typeof d[this.name].toTex||(t=d[this.name].toTex),typeof t){case"function":r=t(this,e);break;case"string":r=E(t,this,e);break;case"object":switch(typeof t[i.length]){case"function":r=t[i.length](this,e);break;case"string":r=E(t[i.length],this,e);break}}return"undefined"!==typeof r?r:E(n.defaultTemplate,this,e)},w.prototype.getIdentifier=function(){return this.type+":"+this.name},w}t.name="FunctionNode",t.path="expression.node",t.math=!0,t.factory=h},"99cb":function(e,t,r){"use strict";var n=r("8127").stringify,i=r("8127").escape,o=r("8772").isSafeProperty,a=r("00b7").hasOwnProperty;function s(e,t,s,p){var u=s(r("06b8")).register,c=s(r("06b8")).compile,f=s(r("ff33"));function h(t){if(!(this instanceof h))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=t||{},t&&("object"!==typeof t||!Object.keys(t).every((function(r){return e.isNode(t[r])}))))throw new TypeError("Object containing Nodes expected")}function l(e,t,r){if(!(e instanceof h))throw new TypeError("No valid ObjectNode");var i=[];for(var s in e.properties)if(a(e.properties,s)){var p=n(s),u=JSON.parse(p);if(!o(e.properties,u))throw new Error('No access to property "'+u+'"');i.push(p+": "+c(e.properties[s],t,r))}return"{"+i.join(", ")+"}"}return h.prototype=new f,h.prototype.type="ObjectNode",h.prototype.isObjectNode=!0,u(h.prototype.type,l),h.prototype.forEach=function(e){for(var t in this.properties)this.properties.hasOwnProperty(t)&&e(this.properties[t],"properties["+n(t)+"]",this)},h.prototype.map=function(e){var t={};for(var r in this.properties)this.properties.hasOwnProperty(r)&&(t[r]=this._ifNode(e(this.properties[r],"properties["+n(r)+"]",this)));return new h(t)},h.prototype.clone=function(){var e={};for(var t in this.properties)this.properties.hasOwnProperty(t)&&(e[t]=this.properties[t]);return new h(e)},h.prototype._toString=function(e){var t=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&t.push(n(r)+": "+this.properties[r].toString(e));return"{"+t.join(", ")+"}"},h.prototype.toHTML=function(e){var t=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&t.push('<span class="math-symbol math-property">'+i(r)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[r].toHTML(e));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},h.prototype._toTex=function(e){var t=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&t.push("\\mathbf{"+r+":} & "+this.properties[r].toTex(e)+"\\\\");return"\\left\\{\\begin{array}{ll}"+t.join("\n")+"\\end{array}\\right\\}"},h}t.name="ObjectNode",t.path="expression.node",t.factory=s},a66c:function(e,t,r){"use strict";var n=r("c370").map,i=r("c370").join;function o(e,t,o,a){var s=o(r("06b8")).register,p=o(r("06b8")).compile,u=o(r("ff33")),c=o(r("4255"));function f(t){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new Error("Array expected");this.blocks=t.map((function(t){var r=t&&t.node,n=!t||void 0===t.visible||t.visible;if(!e.isNode(r))throw new TypeError('Property "node" must be a Node');if("boolean"!==typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:r,visible:n}}))}function h(e,t,r){if(!(e instanceof f))throw new TypeError("No valid BlockNode");t.ResultSet=c;var o=n(e.blocks,(function(e){var n=p(e.node,t,r);return e.visible?"results.push("+n+");":n+";"}));return"(function () {var results = [];"+i(o,"")+"return new ResultSet(results);})()"}return f.prototype=new u,f.prototype.type="BlockNode",f.prototype.isBlockNode=!0,s(f.prototype.type,h),f.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)},f.prototype.map=function(e){for(var t=[],r=0;r<this.blocks.length;r++){var n=this.blocks[r],i=this._ifNode(e(n.node,"blocks["+r+"].node",this));t[r]={node:i,visible:n.visible}}return new f(t)},f.prototype.clone=function(){var e=this.blocks.map((function(e){return{node:e.node,visible:e.visible}}));return new f(e)},f.prototype._toString=function(e){return this.blocks.map((function(t){return t.node.toString(e)+(t.visible?"":";")})).join("\n")},f.prototype.toHTML=function(e){return this.blocks.map((function(t){return t.node.toHTML(e)+(t.visible?"":'<span class="math-separator">;</span>')})).join('<span class="math-separator"><br /></span>')},f.prototype._toTex=function(e){return this.blocks.map((function(t){return t.node.toTex(e)+(t.visible?"":";")})).join("\\;\\;\n")},f}t.name="BlockNode",t.path="expression.node",t.factory=o},aa4b:function(e,t,r){"use strict";var n=r("8127").stringify,i=r("8772").getSafeProperty;function o(e,t,o,a){var s=o(r("06b8")).register,p=o(r("06b8")).compile,u=o(r("ff33")),c=(o(r("1d5d")),o(r("3a85")));function f(t,r){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if(!e.isNode(t))throw new TypeError('Node expected for parameter "object"');if(!e.isIndexNode(r))throw new TypeError('IndexNode expected for parameter "index"');this.object=t||null,this.index=r,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function h(e,t,r){if(!(e instanceof f))throw new TypeError("No valid AccessorNode");t.access=c,t.getSafeProperty=i;var o=p(e.object,t,r),a=p(e.index,t,r);if(e.index.isObjectProperty()){var s=n(e.index.getObjectProperty());return"getSafeProperty("+o+", "+s+")"}return e.index.needsSize()?"(function () {  var object = "+o+";  var size = math.size(object).valueOf();  return access(object, "+a+");})()":"access("+o+", "+a+")"}function l(t){return!(e.isAccessorNode(t)||e.isArrayNode(t)||e.isConstantNode(t)||e.isFunctionNode(t)||e.isObjectNode(t)||e.isParenthesisNode(t)||e.isSymbolNode(t))}return f.prototype=new u,f.prototype.type="AccessorNode",f.prototype.isAccessorNode=!0,s(f.prototype.type,h),f.prototype.forEach=function(e){e(this.object,"object",this),e(this.index,"index",this)},f.prototype.map=function(e){return new f(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))},f.prototype.clone=function(){return new f(this.object,this.index)},f.prototype._toString=function(e){var t=this.object.toString(e);return l(this.object)&&(t="("+t+")"),t+this.index.toString(e)},f.prototype.toHTML=function(e){var t=this.object.toHTML(e);return l(this.object)&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+this.index.toHTML(e)},f.prototype._toTex=function(e){var t=this.object.toTex(e);return l(this.object)&&(t="\\left("+t+"\\right)"),t+this.index.toTex(e)},f}t.name="AccessorNode",t.path="expression.node",t.factory=o},abd7:function(e,t,r){"use strict";function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}n.prototype=new RangeError,n.prototype.constructor=RangeError,n.prototype.name="DimensionError",n.prototype.isDimensionError=!0,e.exports=n},b871:function(e,t,r){"use strict";var n=r("4788");t.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},t.operators={transpose:"^\\top",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},t.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var i={deg:"^\\circ"};t.escape=function(e){return n(e,{preserveFormatting:!0})},t.toSymbol=function(e,r){return r="undefined"!==typeof r&&r,r?i.hasOwnProperty(e)?i[e]:"\\mathrm{"+t.escape(e)+"}":t.symbols.hasOwnProperty(e)?t.symbols[e]:t.escape(e)}},ba19:function(e,t,r){"use strict";var n=r("00b7").clone,i=r("c370").validateIndex,o=r("8772").getSafeProperty,a=r("8772").setSafeProperty,s=r("abd7");function p(e,t,o,a){var p=o(r("1c97")),f=a("subset",{"Array, Index":function(e,t){var r=p(e),n=r.subset(t);return t.isScalar()?n:n.valueOf()},"Matrix, Index":function(e,t){return e.subset(t)},"Object, Index":u,"string, Index":h,"Array, Index, any":function(e,t,r){return p(n(e)).subset(t,r,void 0).valueOf()},"Array, Index, any, any":function(e,t,r,i){return p(n(e)).subset(t,r,i).valueOf()},"Matrix, Index, any":function(e,t,r){return e.clone().subset(t,r)},"Matrix, Index, any, any":function(e,t,r,n){return e.clone().subset(t,r,n)},"string, Index, string":l,"string, Index, string, string":l,"Object, Index, any":c});return f.toTex=void 0,f;function h(t,r){if(!e.isIndex(r))throw new TypeError("Index expected");if(1!=r.size().length)throw new s(r.size().length,1);var n=t.length;i(r.min()[0],n),i(r.max()[0],n);var o=r.dimension(0),a="";return o.forEach((function(e){a+=t.charAt(e)})),a}function l(e,t,r,n){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!=t.size().length)throw new s(t.size().length,1);if(void 0!==n){if("string"!==typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";var o=t.dimension(0),a=o.size()[0];if(a!=r.length)throw new s(o.size()[0],r.length);var p=e.length;i(t.min()[0]),i(t.max()[0]);for(var u=[],c=0;c<p;c++)u[c]=e.charAt(c);if(o.forEach((function(e,t){u[e]=r.charAt(t[0])})),u.length>p)for(c=p-1,a=u.length;c<a;c++)u[c]||(u[c]=n);return u.join("")}}function u(e,t){if(1!==t.size().length)throw new s(t.size(),1);var r=t.dimension(0);if("string"!==typeof r)throw new TypeError("String expected as index to retrieve an object property");return o(e,r)}function c(e,t,r){if(1!==t.size().length)throw new s(t.size(),1);var i=t.dimension(0);if("string"!==typeof i)throw new TypeError("String expected as index to retrieve an object property");var o=n(e);return a(o,i,r),o}t.name="subset",t.factory=p},c370:function(e,t,r){"use strict";var n=r("7330"),i=r("8127"),o=(r("00b7"),r("7b5c"),r("abd7")),a=r("f884");function s(e,t,r){var n,i=e.length;if(i!=t[r])throw new o(i,t[r]);if(r<t.length-1){var a=r+1;for(n=0;n<i;n++){var p=e[n];if(!Array.isArray(p))throw new o(t.length-1,t.length,"<");s(e[n],t,a)}}else for(n=0;n<i;n++)if(Array.isArray(e[n]))throw new o(t.length+1,t.length,">")}function p(e,r,n,i){var o,a,s=e.length,u=r[n],c=Math.min(s,u);if(e.length=u,n<r.length-1){var f=n+1;for(o=0;o<c;o++)a=e[o],Array.isArray(a)||(a=[a],e[o]=a),p(a,r,f,i);for(o=c;o<u;o++)a=[],e[o]=a,p(a,r,f,i)}else{for(o=0;o<c;o++)while(Array.isArray(e[o]))e[o]=e[o][0];if(i!==t.UNINITIALIZED)for(o=c;o<u;o++)e[o]=i}}function u(e,t){var r,n=[];if(0===t.length){if(0===e.length)throw new o(null,null,"!=");return e.shift()}for(r=0;r<t[0];r+=1)n.push(u(e,t.slice(1)));return n}function c(e,t,r){var n,i;if(r<t){var o=r+1;for(n=0,i=e.length;n<i;n++)e[n]=c(e[n],t,o)}else while(Array.isArray(e))e=e[0];return e}function f(e,t,r){var n,i;if(Array.isArray(e)){var o=r+1;for(n=0,i=e.length;n<i;n++)e[n]=f(e[n],t,o)}else for(var a=r;a<t;a++)e=[e];return e}t.size=function(e){var t=[];while(Array.isArray(e))t.push(e.length),e=e[0];return t},t.validate=function(e,t){var r=0==t.length;if(r){if(Array.isArray(e))throw new o(e.length,0)}else s(e,t,0)},t.validateIndex=function(e,t){if(!n.isNumber(e)||!n.isInteger(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"===typeof t&&e>=t)throw new a(e,t)},t.UNINITIALIZED={},t.resize=function(e,t,r){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");t.forEach((function(e){if(!n.isNumber(e)||!n.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+i.format(t)+")")}));var o=void 0!==r?r:0;return p(e,t,0,o),e},t.reshape=function(e,r){var n,i=t.flatten(e),a=function(e){return e.reduce((function(e,t){return e*t}))};if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Array expected");if(0===r.length)throw new o(0,a(t.size(e)),"!=");try{n=u(i,r)}catch(s){if(s instanceof o)throw new o(a(r),a(t.size(e)),"!=");throw s}if(i.length>0)throw new o(a(r),a(t.size(e)),"!=");return n},t.squeeze=function(e,r){var n=r||t.size(e);while(Array.isArray(e)&&1===e.length)e=e[0],n.shift();var i=n.length;while(1===n[i-1])i--;return i<n.length&&(e=c(e,i,0),n.length=i),e},t.unsqueeze=function(e,r,n,i){var o=i||t.size(e);if(n)for(var a=0;a<n;a++)e=[e],o.unshift(1);e=f(e,r,0);while(o.length<r)o.push(1);return e},t.flatten=function(e){if(!Array.isArray(e))return e;var t=[];return e.forEach((function e(r){Array.isArray(r)?r.forEach(e):t.push(r)})),t},t.map=function(e,t){return Array.prototype.map.call(e,t)},t.forEach=function(e,t){Array.prototype.forEach.call(e,t)},t.filter=function(e,r){if(1!==t.size(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,r)},t.filterRegExp=function(e,r){if(1!==t.size(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,(function(e){return r.test(e)}))},t.join=function(e,t){return Array.prototype.join.call(e,t)},t.identify=function(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;var t=[],r=0;t[0]={value:e[0],identifier:0};for(var n=1;n<e.length;n++)e[n]===e[n-1]?r++:r=0,t.push({value:e[n],identifier:r});return t},t.generalize=function(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;for(var t=[],r=0;r<e.length;r++)t.push(e[r].value);return t},t.isArray=Array.isArray},c45d:function(e,t,r){"use strict";r("b871");var n=r("6ac7");function i(e,t,i,o){var a=i(r("06b8")).register,s=i(r("06b8")).compile,p=i(r("ff33"));function u(t,r,n){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(!e.isNode(t))throw new TypeError("Parameter condition must be a Node");if(!e.isNode(r))throw new TypeError("Parameter trueExpr must be a Node");if(!e.isNode(n))throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=r,this.falseExpr=n}function c(t,r,n){if(!(t instanceof u))throw new TypeError("No valid ConditionalNode");return r.testCondition=function(t){if("number"===typeof t||"boolean"===typeof t||"string"===typeof t)return!!t;if(t){if(e.isBigNumber(t))return!t.isZero();if(e.isComplex(t))return!(!t.re&&!t.im);if(e.isUnit(t))return!!t.value}if(null===t||void 0===t)return!1;throw new TypeError('Unsupported type of condition "'+r.math["typeof"](t)+'"')},"testCondition("+s(t.condition,r,n)+") ? ( "+s(t.trueExpr,r,n)+") : ( "+s(t.falseExpr,r,n)+")"}return u.prototype=new p,u.prototype.type="ConditionalNode",u.prototype.isConditionalNode=!0,a(u.prototype.type,c),u.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},u.prototype.map=function(e){return new u(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},u.prototype.clone=function(){return new u(this.condition,this.trueExpr,this.falseExpr)},u.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=n.getPrecedence(this,t),i=this.condition.toString(e),o=n.getPrecedence(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==o&&o<=r)&&(i="("+i+")");var a=this.trueExpr.toString(e),s=n.getPrecedence(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==s&&s<=r)&&(a="("+a+")");var p=this.falseExpr.toString(e),u=n.getPrecedence(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(p="("+p+")"),i+" ? "+a+" : "+p},u.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=n.getPrecedence(this,t),i=this.condition.toHTML(e),o=n.getPrecedence(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==o&&o<=r)&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>');var a=this.trueExpr.toHTML(e),s=n.getPrecedence(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==s&&s<=r)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>');var p=this.falseExpr.toHTML(e),u=n.getPrecedence(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),i+'<span class="math-operator math-conditional-operator">?</span>'+a+'<span class="math-operator math-conditional-operator">:</span>'+p},u.prototype._toTex=function(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},u}t.name="ConditionalNode",t.path="expression.node",t.factory=i},d056:function(e,t,r){var n=r("f884");t.transform=function(e){return e&&e.isIndexError?new n(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e}},d981:function(e,t,r){"use strict";function n(e,t,n,i){var o=n(r("06b8")).register,a=n(r("06b8")).compile,s=n(r("ff33"));function p(t){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(!e.isNode(t))throw new TypeError('Node expected for parameter "content"');this.content=t}function u(e,t,r){if(!(e instanceof p))throw new TypeError("No valid ParenthesisNode");return a(e.content,t,r)}return p.prototype=new s,p.prototype.type="ParenthesisNode",p.prototype.isParenthesisNode=!0,o(p.prototype.type,u),p.prototype.getContent=function(){return this.content.getContent()},p.prototype.forEach=function(e){e(this.content,"content",this)},p.prototype.map=function(e){var t=e(this.content,"content",this);return new p(t)},p.prototype.clone=function(){return new p(this.content)},p.prototype._toString=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)},p.prototype.toHTML=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(e)},p.prototype._toTex=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"\\left("+this.content.toTex(e)+"\\right)":this.content.toTex(e)},p}t.name="ParenthesisNode",t.path="expression.node",t.factory=n},df86:function(e,t,r){"use strict";var n=r("7b5c").type,i=r("8127").stringify,o=r("8127").escape,a=r("b871").escape;function s(e,t,s,p){var u=s(r("06b8")).register,c=(s(r("06b8")).compile,s(r("ff33")));function f(e,t){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if(t){if("string"!==typeof t)throw new TypeError('String expected for parameter "valueType"');if("string"!==typeof e)throw new TypeError('String expected for parameter "value"');this.value=e,this.valueType=t}else this.value=e+"",this.valueType=n(e);if(!h[this.valueType])throw new TypeError('Unsupported type of value "'+this.valueType+'"')}var h={number:!0,string:!0,boolean:!0,undefined:!0,null:!0};function l(e,r,n){if(!(e instanceof f))throw new TypeError("No valid ConstantNode");switch(e.valueType){case"number":return"BigNumber"===t.number?"math.bignumber("+i(e.value)+")":"Fraction"===t.number?"math.fraction("+i(e.value)+")":(d(e.value),e.value.replace(/^(0*)[0-9]/,(function(e,t){return e.substring(t.length)})));case"string":return i(e.value);case"boolean":return"true"===String(e.value)?"true":"false";case"undefined":return"undefined";case"null":return"null";default:throw new TypeError('Unsupported type of constant "'+e.valueType+'"')}}function d(e){if("string"!==typeof e||!/^[\-+]?((\d+\.?\d*)|(\d*\.?\d+))([eE][+\-]?\d+)?$/.test(e))throw new Error('Invalid numeric value "'+e+'"')}return f.prototype=new c,f.prototype.type="ConstantNode",f.prototype.isConstantNode=!0,u(f.prototype.type,l),f.prototype.forEach=function(e){},f.prototype.map=function(e){return this.clone()},f.prototype.clone=function(){return new f(this.value,this.valueType)},f.prototype._toString=function(e){switch(this.valueType){case"string":return i(this.value);default:return this.value}},f.prototype.toHTML=function(e){var t=o(this.value);switch(this.valueType){case"number":return'<span class="math-number">'+t+"</span>";case"string":return'<span class="math-string">'+t+"</span>";case"boolean":return'<span class="math-boolean">'+t+"</span>";case"null":return'<span class="math-null-symbol">'+t+"</span>";case"undefined":return'<span class="math-undefined">'+t+"</span>";default:return'<span class="math-symbol">'+t+"</span>"}},f.prototype._toTex=function(e){var t,r=this.value;switch(this.valueType){case"string":return"\\mathtt{"+a(i(r))+"}";case"number":return t=r.toLowerCase().indexOf("e"),-1!==t?r.substring(0,t)+"\\cdot10^{"+r.substring(t+1)+"}":r;default:return r}},f}t.name="ConstantNode",t.path="expression.node",t.factory=s},ebb4:function(e,t,r){"use strict";e.exports={end:!0}},f294:function(e,t,r){"use strict";var n=r("d056").transform,i=r("8772").setSafeProperty;function o(e,t,o,a){var s=o(r("ba19")),p=o(r("1c97"));return function(e,t,r){try{if(Array.isArray(e))return p(e).subset(t,r).valueOf();if(e&&"function"===typeof e.subset)return e.subset(t,r);if("string"===typeof e)return s(e,t,r);if("object"===typeof e){if(!t.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return i(e,t.getObjectProperty(),r),e}throw new TypeError("Cannot apply index: unsupported type of object")}catch(o){throw n(o)}}}t.factory=o},f2f7:function(e,t,r){"use strict";var n=r("b871"),i=r("8127").stringify,o=r("8127").escape,a=r("00b7").hasOwnProperty,s=r("8772").getSafeProperty;function p(e,t,p,u,c){var f=p(r("06b8")).register,h=(p(r("06b8")).compile,p(r("ff33")));function l(t){return!!e.Unit&&e.Unit.isValuelessUnit(t)}function d(e){if(!(this instanceof d))throw new SyntaxError("Constructor must be called with the new operator");if("string"!==typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}function y(t,r,n){if(!(t instanceof d))throw new TypeError("No valid SymbolNode");r["undef"]=g,r["Unit"]=e.Unit,r.getSafeProperty=s,r.hasOwnProperty=a;var o=i(t.name);return a(n,t.name)?n[t.name]:t.name in r.math?"("+o+" in scope ? getSafeProperty(scope, "+o+") : getSafeProperty(math, "+o+"))":"("+o+" in scope ? getSafeProperty(scope, "+o+") : "+(l(t.name)?"new Unit(null, "+o+")":"undef("+o+")")+")"}function g(e){throw new Error("Undefined symbol "+e)}return d.prototype=new h,d.prototype.type="SymbolNode",d.prototype.isSymbolNode=!0,f(d.prototype.type,y),d.prototype.forEach=function(e){},d.prototype.map=function(e){return this.clone()},d.prototype.clone=function(){return new d(this.name)},d.prototype._toString=function(e){return this.name},d.prototype.toHTML=function(e){var t=o(this.name);return"true"==t||"false"==t?'<span class="math-symbol math-boolean">'+t+"</span>":"i"==t?'<span class="math-symbol math-imaginary-symbol">'+t+"</span>":"Infinity"==t?'<span class="math-symbol math-infinity-symbol">'+t+"</span>":"NaN"==t?'<span class="math-symbol math-nan-symbol">'+t+"</span>":"null"==t?'<span class="math-symbol math-null-symbol">'+t+"</span>":"uninitialized"==t?'<span class="math-symbol math-uninitialized-symbol">'+t+"</span>":'<span class="math-symbol">'+t+"</span>"},d.prototype._toTex=function(e){var t=!1;"undefined"===typeof c[this.name]&&l(this.name)&&(t=!0);var r=n.toSymbol(this.name,t);return"\\"===r[0]?r:" "+r},d}t.name="SymbolNode",t.path="expression.node",t.math=!0,t.factory=p},f4c1:function(e,t,r){"use strict";function n(e,t,r,n,i){var o=i.expression.node.Node,a=i.expression.node.OperatorNode,s=i.expression.node.FunctionNode,p=i.expression.node.ParenthesisNode;function u(t,r){if(!r)return t;if(e.isSymbolNode(t)){var n=r[t.name];if(n instanceof o)return u(n,r);if("number"===typeof n)return i.parse(String(n))}else{if(e.isOperatorNode(t)){var c=t.args.map((function(e){return u(e,r)}));return new a(t.op,t.fn,c)}if(e.isParenthesisNode(t))return new p(u(t.content,r));if(e.isFunctionNode(t)){c=t.args.map((function(e){return u(e,r)}));return new s(t.name,c)}}return t}return u}t.math=!0,t.name="resolve",t.path="algebra.simplify",t.factory=n},f884:function(e,t,r){"use strict";function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}n.prototype=new RangeError,n.prototype.constructor=RangeError,n.prototype.name="IndexError",n.prototype.isIndexError=!0,e.exports=n},ff33:function(e,t,r){"use strict";var n=r("ebb4"),i=r("00b7").deepEqual,o=r("00b7").hasOwnProperty;function a(e,t,a,s,p){var u=a(r("06b8")).compile;function c(){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator")}function f(e){for(var t in e)if(o(e,t)&&t in n)throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}return c.prototype.eval=function(e){return this.compile().eval(e)},c.prototype.type="Node",c.prototype.isNode=!0,c.prototype.comment="",c.prototype.compile=function(){if(arguments.length>0)throw new Error("Calling compile(math) is deprecated. Call the function as compile() instead.");var e={math:p.expression.mathWithTransform,args:{},_validateScope:f},t={},r=u(this,e,t),n=Object.keys(e).map((function(e){return"    var "+e+' = defs["'+e+'"];'})),i=n.join(" ")+'return {  "eval": function (scope) {    if (scope) _validateScope(scope);    scope = scope || {};    return '+r+";  }};",o=new Function("defs",i);return o(e)},c.prototype.forEach=function(e){throw new Error("Cannot run forEach on a Node interface")},c.prototype.map=function(e){throw new Error("Cannot run map on a Node interface")},c.prototype._ifNode=function(t){if(!e.isNode(t))throw new TypeError("Callback function must return a Node");return t},c.prototype.traverse=function(e){function t(e,r){e.forEach((function(e,n,i){r(e,n,i),t(e,r)}))}e(this,null,null),t(this,e)},c.prototype.transform=function(e){function t(e,r){return e.map((function(e,n,i){var o=r(e,n,i);return t(o,r)}))}var r=e(this,null,null);return t(r,e)},c.prototype.filter=function(e){var t=[];return this.traverse((function(r,n,i){e(r,n,i)&&t.push(r)})),t},c.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},c.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},c.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},c.prototype.cloneDeep=function(){return this.map((function(e){return e.cloneDeep()}))},c.prototype.equals=function(e){return!!e&&i(this,e)},c.prototype.toString=function(e){var t;if(e&&"object"===typeof e)switch(typeof e.handler){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return"undefined"!==typeof t?t:this._toString(e)},c.prototype.toHTML=function(e){var t;if(e&&"object"===typeof e)switch(typeof e.handler){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return"undefined"!==typeof t?t:this.toHTML(e)},c.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},c.prototype.toTex=function(e){var t;if(e&&"object"==typeof e)switch(typeof e.handler){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return"undefined"!==typeof t?t:this._toTex(e)},c.prototype._toTex=function(e){throw new Error("_toTex not implemented for "+this.type)},c.prototype.getIdentifier=function(){return this.type},c.prototype.getContent=function(){return this},c}t.name="Node",t.path="expression.node",t.math=!0,t.factory=a}}]);
//# sourceMappingURL=chunk-d573a2d2.af0d4050.js.map